id,countrycode,year,survey,vermast,veralt,var,code
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,age,
 gen byte age=q_1_3
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,atschool,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,bicycle,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,buffalo,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,cellphone,
 gen byte cellphone=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,chicken,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,computer,
 gen byte computer=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,contract,
 gen byte contract=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,countrycode,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,cow,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,cpi,
 ren cpi`year'_w cpi
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,cpiperiod,
 gen cpiperiod=syear
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,ed_mod_age,
 gen byte ed_mod_age=6
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,educat4,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,educat5,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat5=.
 replace educat5=1 if educat4==1
 replace educat5=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat5=3 if (q_6_5_l==1 & q_6_5_y==6 ) | q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat5=4 if q_6_5_l==3 & q_6_5_y==3
 replace educat5=5 if q_6_5_l>3 & q_6_5_l!=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,educat7,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat7=.
 replace educat7=1 if educat4==1
 replace educat7=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat7=3 if (q_6_5_l==1 & q_6_5_y==6 )
 replace educat7=4 if q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat7=5 if q_6_5_l==3 & q_6_5_y==3
 replace educat7=6 if q_6_5_l==4
 replace educat7=7 if q_6_5_l>4 & q_6_5_l<7
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,educy,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_y = . if age < 6
 gen educy = .
 replace educy = 0 if q_6_3 == 2
 replace educy = 0 + q_6_5_y if q_6_5_l == 1
 replace educy = 6 + q_6_5_y if q_6_5_l == 2
 replace educy = 9 + q_6_5_y if q_6_5_l == 3
 replace educy = 12 + q_6_5_y if q_6_5_l == 4
 replace educy = 12 + q_6_5_y if q_6_5_l == 5
 replace educy = 16 + q_6_5_y if q_6_5_l == 6
 replace educy = educy - 1 if q_6_8 == 1
 replace educy = 0 if educy < 0
 replace educy=. if age<educy & educy!=. & age!=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,electricity,"
 recode q_2_22 (1/3=0)(4=1)(5=0)(6/9=0), gen(electricity)"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,empstat,"
 gen byte age=q_1_3
 replace q_9_17 = . if age < 16
 replace q_9_19 = . if age < 16
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,empstat_2,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,empstat_2_year,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,everattend,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 gen byte everattend=q_6_3
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,fan,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,firmsize_l,
 gen byte firmsize_l=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,healthins,
 gen byte healthins=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,hsize,
 ren hhsize hhsize_nat
 ren hhsize hsize
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,idh,
 gen double idh = hhid
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,idp,"
 egen idp=concat(hhid hhmemid), punct(-)"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,industry,"
 gen byte age=q_1_3
 replace q_9_17 = . if age < 16
 replace q_9_18 = . if age < 16
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte industry=q_9_18
 replace industry=. if lstatus!=1"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,industry_2,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,industry_orig_2,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,int_month,
 gen byte int_month=targetm
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,int_year,
 gen byte int_year=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,internet,
 gen byte internet=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,lamp,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,lb_mod_age,
 gen byte lb_mod_age=16
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,literacy,
 gen byte age=q_1_3
 replace q_6_2 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte literacy=q_6_2
 replace literacy = 1 if q_6_5_l >= 2 & q_6_5_l <.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,lphone,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,lstatus,"
 gen byte age=q_1_3
 replace q_9_17 = . if age < 16
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,male,
 gen byte male=q_1_2
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,marital,
 gen byte marital=q_1_4
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,motorcar,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,motorcycle,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,njobs,
 gen byte njobs=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,nlfreason,"
 gen byte age=q_1_3
 replace q_9_17 = . if age < 16
 gen byte nlfreason=.
 replace nlfreason=1 if q_9_17==1
 replace nlfreason=2 if q_9_17==2
 replace nlfreason=4 if q_9_17==4
 replace nlfreason=3 if q_9_17==3
 replace nlfreason=5 if inlist(q_9_17, 5,6,7,8,9,10,11,12)
 replace nlfreason=. if lstatus!=3"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,occup,
 gen byte occup=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,ocusec,
 gen byte ocusec=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(q_2_9,1,2,3,4,5)
 replace ownhouse=0 if inlist(q_2_9,6,7,8,9,10)"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,piped_water,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,pline_nat,
 ren pline pline_nat
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,poor_int,
 gen welfare=pexnom_t
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
replace pline_int=.
replace poor_int=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,poor_nat,"
 recode poor (100=1) , gen(poor_nat)"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,pop_wgt,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,psu,
 gen psu=cid
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,radio,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,rbirth,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,rbirth_juris,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,refrigerator,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,relationcs,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=. if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=. if heads!=1 & q_1_1==.
 gen byte relationcs=q_1_1
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,relationharm,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=. if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=. if heads!=1 & q_1_1==.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,rprevious,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,rprevious_juris,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,sar_improved_toilet,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,sar_improved_water,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,sewage_toilet,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,sewingmachine,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,soc,
 gen byte soc=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,socialsec,
 gen byte socialsec=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,spdef,
 gen spdef=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,strata,
 gen strata=stratum
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,subnatid1,
 gen byte subnatid1=region
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,subnatid2,
 gen byte subnatid2=provincec
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,subnatid3,
 gen byte subnatid3=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,survey,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,television,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,toilet_jmp,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,toilet_orig,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,unempldur_l,
 gen byte unempldur_l=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,unempldur_u,
 gen byte unempldur_u=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,union,
 gen byte union=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,unitwage,"
 gen byte age=q_1_3
 replace q_9_17 = . if age < 16
 replace q_9_19 = . if age < 16
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen byte unitwage=1
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==."
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,unitwage_2,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,urban,
 replace urbrur = 1 if Block_No!=0 & Block_No!=.
 replace urbrur = 0 if Block_No==0
 gen byte urban=urbrur
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,veralt,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,vermast,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,wage,"
 gen byte age=q_1_3
 replace q_9_17 = . if age < 16
 replace q_9_21 = . if age < 16
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen double wage=q_9_21
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2"
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,wage_2,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,washingmachine,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,water_jmp,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,water_orig,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfare,
 gen welfare=pexnom_t
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfaredef,
 gen welfaredef=pexadj_t
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfarenat,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfarenom,
 gen welfarenom=pexnom_t
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfareother,
 gen welfareother=.
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfareothertype,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfaretype,
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,welfshprosperity,
 gen welfare=pexnom_t
 gen welfshprosperity=welfare
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,wgt,
 gen double wgt=hh_weight
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,whours,
 gen byte age=q_1_3
 replace q_9_23 = . if age < 16
 replace q_9_24 = . if age < 16
 gen whours = (q_9_24 * q_9_23)/4.2
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,year,
 gen int year=2007
 local year=2011
afg_2007_nrva_v01_m_v01_a_sarmd,AFG,2007,NRVA,v01,v01,yrmove,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,age,
 gen byte age=q_1_3
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,atschool,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,bicycle,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,buffalo,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,cellphone,
 gen byte cellphone=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,chicken,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,computer,
 gen byte computer=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,contract,
 gen byte contract=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,countrycode,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,cow,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,cpi,
 ren cpi`year'_w cpi
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,cpiperiod,
 gen cpiperiod=syear
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,ed_mod_age,
 gen byte ed_mod_age=6
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,educat4,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,educat5,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat5=.
 replace educat5=1 if educat4==1
 replace educat5=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat5=3 if (q_6_5_l==1 & q_6_5_y==6 ) | q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat5=4 if q_6_5_l==3 & q_6_5_y==3
 replace educat5=5 if q_6_5_l>3 & q_6_5_l!=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,educat7,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat7=.
 replace educat7=1 if educat4==1
 replace educat7=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat7=3 if (q_6_5_l==1 & q_6_5_y==6 )
 replace educat7=4 if q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat7=5 if q_6_5_l==3 & q_6_5_y==3
 replace educat7=6 if q_6_5_l==4
 replace educat7=7 if q_6_5_l>4 & q_6_5_l<7
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,educy,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_y = . if age < 6
 gen educy = .
 replace educy = 0 if q_6_3 == 2
 replace educy = 0 + q_6_5_y if q_6_5_l == 1
 replace educy = 6 + q_6_5_y if q_6_5_l == 2
 replace educy = 9 + q_6_5_y if q_6_5_l == 3
 replace educy = 12 + q_6_5_y if q_6_5_l == 4
 replace educy = 12 + q_6_5_y if q_6_5_l == 5
 replace educy = 16 + q_6_5_y if q_6_5_l == 6
 replace educy = educy - 1 if q_6_8 == 1
 replace educy = 0 if educy < 0
 replace educy=. if age<educy & educy!=. & age!=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,electricity,"
 recode q_2_22 (1/3=0)(4=1)(5=0)(6/9=0), gen(electricity)"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,empstat,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,empstat_2,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,empstat_2_year,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,everattend,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 gen byte everattend=q_6_3
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,fan,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,firmsize_l,
 gen byte firmsize_l=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,healthins,
 gen byte healthins=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,hsize,"
 ren hhsize hhsize_nat
 gen z=1
 replace z=0 if q_1_1==15
 egen byte hsize=sum(z), by(idh)"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,idh,
 gen double idh = hhid
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,idp,"
 egen idp=concat(hhid hhmemid), punct(-)"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,industry,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte industry=q_9_18
 replace industry=. if lstatus!=1"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,industry_2,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,industry_orig_2,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,int_month,
 gen byte int_month=targetm
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,int_year,
 gen byte int_year=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,internet,
 gen byte internet=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,lamp,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,lb_mod_age,
gen byte lb_mod_age=16
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,literacy,
 gen byte age=q_1_3
 replace q_6_2 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte literacy=q_6_2
 replace literacy = 1 if q_6_5_l >= 2 & q_6_5_l <.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,lphone,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,lstatus,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,male,
 gen byte male=q_1_2
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,marital,
 gen byte marital=q_1_4
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,motorcar,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,motorcycle,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,njobs,
 gen byte njobs=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if q_9_17==1
 replace nlfreason=2 if q_9_17==2
 replace nlfreason=4 if q_9_17==4
 replace nlfreason=3 if q_9_17==3
 replace nlfreason=5 if inlist(q_9_17, 5,6,7,8,9,10,11,12)
 replace nlfreason=. if lstatus!=3"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,occup,
 gen byte occup=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,ocusec,
 gen byte ocusec=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(q_2_9,1,2,3,4,5)
 replace ownhouse=0 if inlist(q_2_9,6,7,8,9,10)"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,piped_water,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,pline_nat,
 ren pline pline_nat
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,poor_int,
 gen welfare=pexnom_t
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
replace pline_int=.
replace poor_int=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,poor_nat,"
 recode poor (100=1) , gen(poor_nat)"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,pop_wgt,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,psu,
 gen psu=cid
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,radio,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,rbirth,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,rbirth_juris,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,refrigerator,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,relationcs,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
 drop head heads
 gen byte relationcs=q_1_1
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,relationharm,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,rprevious,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,rprevious_juris,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,sar_improved_toilet,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,sar_improved_water,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,sewage_toilet,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,sewingmachine,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,soc,
 gen byte soc=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,socialsec,
 gen byte socialsec=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,spdef,
 gen spdef=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,strata,
 gen strata=stratum
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,subnatid1,
 gen byte subnatid1=region
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,subnatid2,
 gen byte subnatid2=provincec
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,subnatid3,
 gen byte subnatid3=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,survey,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,television,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,toilet_jmp,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,toilet_orig,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,unempldur_l,
 gen byte unempldur_l=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,unempldur_u,
 gen byte unempldur_u=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,union,
 gen byte union=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,unitwage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen byte unitwage=1
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==."
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,unitwage_2,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,urban,
 replace urbrur = 1 if Block_No!=0 & Block_No!=.
 replace urbrur = 0 if Block_No==0
 gen byte urban=urbrur
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,veralt,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,vermast,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,wage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen double wage=q_9_21
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,wage_2,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,washingmachine,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,water_jmp,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,water_orig,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfare,
 gen welfare=pexnom_t
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfaredef,
 gen welfaredef=pexadj_t
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfarenat,
 gen welfaredef=pexadj_t
 gen welfarenat=welfaredef
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfarenom,
 gen welfarenom=pexnom_t
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfareother,
 gen welfareother=.
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfareothertype,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfaretype,
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,welfshprosperity,
 gen welfare=pexnom_t
 gen welfshprosperity=welfare
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,wgt,
 gen double wgt=hh_weight
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,whours,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen whours = (q_9_24 * q_9_23)/4.2
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168"
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,year,
 gen int year=2007
 local year=2011
afg_2007_nrva_v01_m_v02_a_sarmd,AFG,2007,NRVA,v01,v02,yrmove,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,age,
 gen byte age=q_1_3
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,atschool,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,bicycle,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,buffalo,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,cellphone,
 gen byte cellphone=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,chicken,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,computer,
 gen byte computer=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,contract,
 gen byte contract=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,countrycode,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,cow,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,cpi,
 ren cpi`year'_w cpi
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,cpiperiod,
 gen cpiperiod=syear
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,ed_mod_age,
 gen byte ed_mod_age=6
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,educat4,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,educat5,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat5=.
 replace educat5=1 if educat4==1
 replace educat5=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat5=3 if (q_6_5_l==1 & q_6_5_y==6 ) | q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat5=4 if q_6_5_l==3 & q_6_5_y==3
 replace educat5=5 if q_6_5_l>3 & q_6_5_l!=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,educat7,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat7=.
 replace educat7=1 if educat4==1
 replace educat7=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat7=3 if (q_6_5_l==1 & q_6_5_y==6 )
 replace educat7=4 if q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat7=5 if q_6_5_l==3 & q_6_5_y==3
 replace educat7=6 if q_6_5_l==4
 replace educat7=7 if q_6_5_l>4 & q_6_5_l<7
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,educy,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_5_y = . if age < 6
 gen educy = .
 replace educy = 0 if q_6_3 == 2
 replace educy = 0 + q_6_5_y if q_6_5_l == 1
 replace educy = 6 + q_6_5_y if q_6_5_l == 2
 replace educy = 9 + q_6_5_y if q_6_5_l == 3
 replace educy = 12 + q_6_5_y if q_6_5_l == 4
 replace educy = 12 + q_6_5_y if q_6_5_l == 5
 replace educy = 16 + q_6_5_y if q_6_5_l == 6
 replace educy = educy - 1 if q_6_8 == 1
 replace educy = 0 if educy < 0
 replace educy=. if age<educy & educy!=. & age!=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,electricity,"
 recode q_2_22 (1/3=0)(4=1)(5=0)(6/9=0), gen(electricity)"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,empstat,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,empstat_2,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,empstat_2_year,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,everattend,
 gen byte age=q_1_3
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 gen byte everattend=q_6_3
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,fan,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,firmsize_l,
 gen byte firmsize_l=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,healthins,
 gen byte healthins=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,hsize,"
 ren hhsize hhsize_nat
 gen z=1
 replace z=0 if q_1_1==15
 egen byte hsize=sum(z), by(idh)"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,idh,
 gen double idh = hhid
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,idp,"
 egen idp=concat(hhid hhmemid), punct(-)"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,industry,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte industry=q_9_18
 replace industry=. if lstatus!=1"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,industry_2,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,industry_orig_2,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,int_month,
 gen byte int_month=targetm
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,int_year,
 gen byte int_year=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,internet,
 gen byte internet=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,lamp,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,lb_mod_age,
gen byte lb_mod_age=16
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,literacy,
 gen byte age=q_1_3
 replace q_6_2 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte literacy=q_6_2
 replace literacy = 1 if q_6_5_l >= 2 & q_6_5_l <.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,lphone,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,lstatus,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,male,
 gen byte male=q_1_2
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,marital,
 gen byte marital=q_1_4
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,motorcar,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,motorcycle,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,njobs,
 gen byte njobs=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if q_9_17==1
 replace nlfreason=2 if q_9_17==2
 replace nlfreason=4 if q_9_17==4
 replace nlfreason=3 if q_9_17==3
 replace nlfreason=5 if inlist(q_9_17, 5,6,7,8,9,10,11,12)
 replace nlfreason=. if lstatus!=3"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,occup,
 gen byte occup=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,ocusec,
 gen byte ocusec=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(q_2_9,1,2,3,4,5)
 replace ownhouse=0 if inlist(q_2_9,6,7,8,9,10)"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,piped_water,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,pline_nat,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,poor_int,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
 replace poor_int=. if pov_sample==0
replace pline_int=.
replace poor_int=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,poor_nat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen poor_nat=(welfare/12)<pline_nat & welfare!=.
 replace poor_nat=. if pov_sample==0
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,pop_wgt,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,psu,
 gen psu=cid
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,radio,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,rbirth,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,rbirth_juris,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,refrigerator,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,relationcs,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
 drop head heads
 gen byte relationcs=q_1_1
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,relationharm,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,rprevious,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,rprevious_juris,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,sar_improved_toilet,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,sar_improved_water,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,sewage_toilet,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,sewingmachine,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,soc,
 gen byte soc=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,socialsec,
 gen byte socialsec=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,spdef,
 gen spdef=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,strata,
 gen strata=stratum
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,subnatid1,
 gen byte subnatid1=region
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,subnatid2,
 gen byte subnatid2=provincec
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,subnatid3,
 gen byte subnatid3=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,survey,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,television,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,toilet_jmp,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,toilet_orig,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,unempldur_l,
 gen byte unempldur_l=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,unempldur_u,
 gen byte unempldur_u=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,union,
 gen byte union=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,unitwage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen byte unitwage=1
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==."
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,unitwage_2,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,urban,
 replace urbrur = 1 if Block_No!=0 & Block_No!=.
 replace urbrur = 0 if Block_No==0
 gen byte urban=urbrur
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,veralt,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,vermast,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,wage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen double wage=q_9_21
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,wage_2,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,washingmachine,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,water_jmp,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,water_orig,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfare,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfaredef,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfaredef=welfare
 replace welfaredef=. if pov_sample==0
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfarenat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfarenat=welfare
 replace welfarenat=. if pov_sample==0
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfarenom,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfarenom=pexnom_t*12
 replace welfarenom=. if pov_sample==0
 replace welfarenom=. if welfare==.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfareother,
 gen welfareother=.
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfareothertype,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfaretype,
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,welfshprosperity,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfshprosperity=welfare
 replace welfshprosperity=. if pov_sample==0
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,wgt,
 gen double wgt=hh_weight
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,whours,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen whours = (q_9_24 * q_9_23)/4.2
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168"
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,year,
 gen int year=2007
 local year=2011
afg_2007_nrva_v01_m_v03_a_sarmd,AFG,2007,NRVA,v01,v03,yrmove,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,age,
 gen byte age=q_1_3
 replace age=98 if age>=98
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,atschool,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,bicycle,
 gen bicycle=q_5_1_9>0 if q_5_1_9<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,buffalo,
 gen buffalo=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,cellphone,
 gen byte cellphone=q_5_7_1>0 if q_5_7_1<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,chicken,
 gen chicken=q_3_2_h>0 if q_3_2_h<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,computer,
 gen byte computer=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,countrycode,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,cow,
 gen cow=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,cpi,
 ren cpi`year'_w cpi
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,cpiperiod,
 gen cpiperiod=syear
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,ed_mod_age,
 gen byte ed_mod_age=6
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,educat4,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,educat5,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat5=.
 replace educat5=1 if educat4==1
 replace educat5=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat5=3 if (q_6_5_l==1 & q_6_5_y==6 ) | q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat5=4 if q_6_5_l==3 & q_6_5_y==3
 replace educat5=5 if q_6_5_l>3 & q_6_5_l!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,educat7,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat7=.
 replace educat7=1 if educat4==1
 replace educat7=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat7=3 if (q_6_5_l==1 & q_6_5_y==6 )
 replace educat7=4 if q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat7=5 if q_6_5_l==3 & q_6_5_y==3
 replace educat7=6 if q_6_5_l==4
 replace educat7=7 if q_6_5_l>4 & q_6_5_l<7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,educy,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_y = . if age < 6
 gen educy = .
 replace educy = 0 if q_6_3 == 2
 replace educy = 0 + q_6_5_y if q_6_5_l == 1
 replace educy = 6 + q_6_5_y if q_6_5_l == 2
 replace educy = 9 + q_6_5_y if q_6_5_l == 3
 replace educy = 12 + q_6_5_y if q_6_5_l == 4
 replace educy = 12 + q_6_5_y if q_6_5_l == 5
 replace educy = 16 + q_6_5_y if q_6_5_l == 6
 replace educy = educy - 1 if q_6_8 == 1
 replace educy = 0 if educy < 0
 replace educy=. if age+1<educy & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,electricity,"
 recode q_2_22 (1/3=0)(4=1)(5=0)(6/9=0), gen(electricity)"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,empstat,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,empstat_2_year,
 gen byte age=q_1_3
 replace age=98 if age>=98
gen byte lb_mod_age=16
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,everattend,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 gen byte everattend=q_6_3
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,fan,
 gen fan=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,hsize,"
 ren hhsize hhsize_nat
 gen z=1
 *replace z=0 if q_1_1==15
 egen byte hsize=sum(z), by(idh)"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,idh,
 gen double idh = hhid
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,idp,"
 egen idp=concat(hhid hhmemid), punct(-)"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,industry,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte industry=q_9_18
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,int_month,
 gen byte int_month=date2
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,int_year,
 gen int_year=date3
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,internet,
 gen byte internet=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,lamp,
 gen lamp=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,lb_mod_age,
gen byte lb_mod_age=16
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,literacy,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_2 = . if age < 6
 gen byte literacy=q_6_2
 replace literacy=. if age<6
 replace literacy = 1 if q_6_5_l >= 2 & q_6_5_l <.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,lphone,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,lstatus,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,male,
 gen byte male=q_1_2
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,marital,
 gen byte marital=q_1_4
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,motorcar,
 gen motorcar=q_5_1_11>0 if q_5_1_11<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,motorcycle,
 gen motorcycle=q_5_1_10>0 if q_5_1_10<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if q_9_17==1
 replace nlfreason=2 if q_9_17==2
 replace nlfreason=4 if q_9_17==4
 replace nlfreason=3 if q_9_17==3
 replace nlfreason=5 if inlist(q_9_17, 5,6,7,8,9,10,11,12)
 replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,occup,
 gen byte occup=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,ocusec,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte ocusec=1 if q_9_19==3
 replace ocusec=2 if q_9_19==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(q_2_9,1,2,3,4,5)
 replace ownhouse=0 if inlist(q_2_9,6,7,8,9,10)"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,piped_water,"
gen water_orig=.
cap gen water_orig=.
replace water_orig=1+`j' if `i'==1
gen piped_water=.
replace piped_water=1 if inlist(water_orig,9,10,11)
replace piped_water=0 if piped_water!=1 & water_orig<."
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,pline_nat,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,poor_int,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
 replace poor_int=. if pov_sample==0 | pov_sample==.
replace pline_int=.
replace poor_int=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,poor_nat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen poor_nat=(welfare)<pline_nat & welfare!=.
 replace poor_nat=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,pop_wgt,"
 ren hhsize hhsize_nat
 gen double wgt=hh_weight
 gen z=1
 *replace z=0 if q_1_1==15
 egen byte hsize=sum(z), by(idh)
 gen pop_wgt=wgt*hsize"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,psu,
 gen psu=cid
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,radio,
 gen radio=q_5_1_5>0 if q_5_1_5<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,rbirth,
 gen byte rbirth=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,refrigerator,
 gen refrigerator=q_5_1_1>0 if q_5_1_1<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,relationcs,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
 drop head heads
 gen byte relationcs=q_1_1
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,relationharm,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,rprevious,
 gen byte rprevious=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,sar_improved_toilet,"
gen toilet_jmp=.
replace toilet_jmp=12 if q_2_26==1
replace toilet_jmp=4 if q_2_26==2
replace toilet_jmp=8 if q_2_26==3
replace toilet_jmp=7 if q_2_26==4
replace toilet_jmp=6 if q_2_26==5
replace toilet_jmp=3 if q_2_26==6
replace toilet_jmp=13 if q_2_26==7
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)
replace sar_improved_toilet=0 if q_2_28==1"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(1,q_2_31i,q_2_31j)
replace water_jmp=3 if inlist(1,q_2_31k)
replace water_jmp=4 if inlist(1,q_2_31c, q_2_31d, q_2_31e, q_2_31f)
replace water_jmp=5 if inlist(1,q_2_31m,q_2_31o, q_2_31q)
replace water_jmp=6 if inlist(1,q_2_31l,q_2_31a, q_2_31b)
replace water_jmp=7 if inlist(1,q_2_31h)
replace water_jmp=8 if inlist(1,q_2_31g)
replace water_jmp=10 if inlist(1,q_2_31s)
replace water_jmp=12 if inlist(1,q_2_31p,q_2_31r, q_2_31n)
replace water_jmp=13 if inlist(1,q_2_31t)
replace water_jmp=14 if inlist(1, q_2_31u)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,sewage_toilet,"
recode q_2_26 (1=0)(2 3=0)(4 5=0)(6=1)(7=0), gen(sewage_toilet)"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,sewingmachine,
 gen sewingmachine=q_5_1_3>0 if q_5_1_3<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,spdef,
 gen spdef=pexnom_t/ pexadj_t
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,strata,
 gen strata=provincec
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,subnatid1,
 gen byte subnatid1=provincec
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,subnatid2,
 gen byte subnatid2=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,subnatid3,
 gen byte subnatid3=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,survey,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,television,
 gen television=q_5_1_6>0 if q_5_1_6<.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,toilet_jmp,
gen toilet_jmp=.
replace toilet_jmp=12 if q_2_26==1
replace toilet_jmp=4 if q_2_26==2
replace toilet_jmp=8 if q_2_26==3
replace toilet_jmp=7 if q_2_26==4
replace toilet_jmp=6 if q_2_26==5
replace toilet_jmp=3 if q_2_26==6
replace toilet_jmp=13 if q_2_26==7
replace toilet_jmp=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,toilet_orig,
gen toilet_orig=q_2_26
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,unitwage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen byte unitwage=1
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,urban,
 replace urbrur = 1 if Block_No!=0 & Block_No!=.
 replace urbrur = 0 if Block_No==0
 gen byte urban=urbrur
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,veralt,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,vermast,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,wage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen double wage=q_9_21
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,washingmachine,
 gen washingmachine=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(1,q_2_31i,q_2_31j)
replace water_jmp=3 if inlist(1,q_2_31k)
replace water_jmp=4 if inlist(1,q_2_31c, q_2_31d, q_2_31e, q_2_31f)
replace water_jmp=5 if inlist(1,q_2_31m,q_2_31o, q_2_31q)
replace water_jmp=6 if inlist(1,q_2_31l,q_2_31a, q_2_31b)
replace water_jmp=7 if inlist(1,q_2_31h)
replace water_jmp=8 if inlist(1,q_2_31g)
replace water_jmp=10 if inlist(1,q_2_31s)
replace water_jmp=12 if inlist(1,q_2_31p,q_2_31r, q_2_31n)
replace water_jmp=13 if inlist(1,q_2_31t)
replace water_jmp=14 if inlist(1, q_2_31u)
replace water_jmp=."
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,water_orig,
gen water_orig=.
cap gen water_orig=.
replace water_orig=1+`j' if `i'==1
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfare,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfaredef,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfaredef=welfare
 replace welfaredef=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfarenat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfarenat=welfare
 replace welfarenat=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfarenom,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfarenom=pexnom_t
 replace welfarenom=. if pov_sample==0 | pov_sample==.
 replace welfarenom=. if welfare==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfareother,
 gen welfareother=.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfareothertype,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfaretype,
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,welfshprosperity,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfshprosperity=welfare
 replace welfshprosperity=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,wgt,
 gen double wgt=hh_weight
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,whours,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen whours = (q_9_24 * q_9_23)/4.2
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,year,
 gen int year=2007
 local year=2011
afg_2007_nrva_v01_m_v04_a_sarmd,AFG,2007,NRVA,v01,v04,yrmove,
 gen int yrmove=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,age,
 gen byte age=q_1_3
 replace age=98 if age>=98
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,atschool,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,bicycle,
 gen bicycle=q_5_1_9>0 if q_5_1_9<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,buffalo,
 gen buffalo=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,cellphone,
 gen byte cellphone=q_5_7_1>0 if q_5_7_1<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,chicken,
 gen chicken=q_3_2_h>0 if q_3_2_h<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,computer,
 gen byte computer=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,countrycode,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,cow,
 gen cow=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,cpi,
 ren cpi`year'_w cpi
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,cpiperiod,
 gen cpiperiod=syear
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,ed_mod_age,
 gen byte ed_mod_age=6
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,educat4,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,educat5,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat5=.
 replace educat5=1 if educat4==1
 replace educat5=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat5=3 if (q_6_5_l==1 & q_6_5_y==6 ) | q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat5=4 if q_6_5_l==3 & q_6_5_y==3
 replace educat5=5 if q_6_5_l>3 & q_6_5_l!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,educat7,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_l = . if age < 6
 gen byte educat4=q_6_5_l
 replace educat4=1 if q_6_3 == 2
 gen educat7=.
 replace educat7=1 if educat4==1
 replace educat7=2 if q_6_5_l==1 & q_6_5_y<6 &q_6_5_y!=.
 replace educat7=3 if (q_6_5_l==1 & q_6_5_y==6 )
 replace educat7=4 if q_6_5_l==2 | (q_6_5_l==3 & q_6_5_y<3 & q_6_5_y!=.)
 replace educat7=5 if q_6_5_l==3 & q_6_5_y==3
 replace educat7=6 if q_6_5_l==4
 replace educat7=7 if q_6_5_l>4 & q_6_5_l<7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,educy,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_5_y = . if age < 6
 gen educy = .
 replace educy = 0 if q_6_3 == 2
 replace educy = 0 + q_6_5_y if q_6_5_l == 1
 replace educy = 6 + q_6_5_y if q_6_5_l == 2
 replace educy = 9 + q_6_5_y if q_6_5_l == 3
 replace educy = 12 + q_6_5_y if q_6_5_l == 4
 replace educy = 12 + q_6_5_y if q_6_5_l == 5
 replace educy = 16 + q_6_5_y if q_6_5_l == 6
 replace educy = educy - 1 if q_6_8 == 1
 replace educy = 0 if educy < 0
 replace educy=. if age+1<educy & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,electricity,"
 recode q_2_22 (1/3=0)(4=1)(5=0)(6/9=0), gen(electricity)"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,empstat,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,empstat_2_year,
 gen byte age=q_1_3
 replace age=98 if age>=98
gen byte lb_mod_age=16
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,everattend,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_3 = . if age < 6
 replace q_6_8 = . if age < 6 | age > 18
 gen byte atschool=q_6_8
 replace atschool = 0 if q_6_3 == 2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 gen byte everattend=q_6_3
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,fan,
 gen fan=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,hsize,"
 ren hhsize hhsize_nat
 gen z=1
 *replace z=0 if q_1_1==15
 egen byte hsize=sum(z), by(idh)"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,idh,
 gen double idh = hhid
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,idp,"
 egen idp=concat(hhid hhmemid), punct(-)"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,industry,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte industry=q_9_18
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,int_month,
 gen byte int_month=date2
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,int_year,
 gen int_year=date3
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,internet,
 gen byte internet=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,lamp,
 gen lamp=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,lb_mod_age,
gen byte lb_mod_age=16
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,literacy,
 gen byte age=q_1_3
 replace age=98 if age>=98
 replace q_6_2 = . if age < 6
 gen byte literacy=q_6_2
 replace literacy=. if age<6
 replace literacy = 1 if q_6_5_l >= 2 & q_6_5_l <.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,lphone,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,lstatus,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,male,
 gen byte male=q_1_2
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,marital,
 gen byte marital=q_1_4
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,motorcar,
 gen motorcar=q_5_1_11>0 if q_5_1_11<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,motorcycle,
 gen motorcycle=q_5_1_10>0 if q_5_1_10<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if q_9_17==1
 replace nlfreason=2 if q_9_17==2
 replace nlfreason=4 if q_9_17==4
 replace nlfreason=3 if q_9_17==3
 replace nlfreason=5 if inlist(q_9_17, 5,6,7,8,9,10,11,12)
 replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,occup,
 gen byte occup=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,ocusec,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte ocusec=1 if q_9_19==3
 replace ocusec=2 if q_9_19==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(q_2_9,1,2,3,4,5)
 replace ownhouse=0 if inlist(q_2_9,6,7,8,9,10)"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,piped_water,"
gen water_orig=.
cap gen water_orig=.
replace water_orig=1+`j' if `i'==1
gen piped_water=.
replace piped_water=1 if inlist(water_orig,9,10,11)
replace piped_water=0 if piped_water!=1 & water_orig<."
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,pline_nat,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,poor_int,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
 replace poor_int=. if pov_sample==0 | pov_sample==.
replace pline_int=.
replace poor_int=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,poor_nat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen poor_nat=(welfare)<pline_nat & welfare!=.
 replace poor_nat=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,pop_wgt,"
 ren hhsize hhsize_nat
 gen double wgt=hh_weight
 gen z=1
 *replace z=0 if q_1_1==15
 egen byte hsize=sum(z), by(idh)
 gen pop_wgt=wgt*hsize"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,psu,
 gen psu=cid
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,radio,
 gen radio=q_5_1_5>0 if q_5_1_5<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,rbirth,
 gen byte rbirth=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,refrigerator,
 gen refrigerator=q_5_1_1>0 if q_5_1_1<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,relationcs,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
 drop head heads
 gen byte relationcs=q_1_1
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,relationharm,
 gen byte relationharm=q_1_1
 gen head=relationharm==1
 bys hhid: egen heads=total(head)
 replace q_1_1=14 if heads!=1 & hhmemid>1 & hhmemid!=. & q_1_1==1
 replace relationharm=5 if heads!=1 & q_1_1==1
 replace q_1_1=1 if heads==0
 replace relationharm=1 if heads==0
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,rprevious,
 gen byte rprevious=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,sar_improved_toilet,"
gen toilet_jmp=.
replace toilet_jmp=12 if q_2_26==1
replace toilet_jmp=4 if q_2_26==2
replace toilet_jmp=8 if q_2_26==3
replace toilet_jmp=7 if q_2_26==4
replace toilet_jmp=6 if q_2_26==5
replace toilet_jmp=3 if q_2_26==6
replace toilet_jmp=13 if q_2_26==7
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)
replace sar_improved_toilet=0 if q_2_28==1"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(1,q_2_31i,q_2_31j)
replace water_jmp=3 if inlist(1,q_2_31k)
replace water_jmp=4 if inlist(1,q_2_31c, q_2_31d, q_2_31e, q_2_31f)
replace water_jmp=5 if inlist(1,q_2_31m,q_2_31o, q_2_31q)
replace water_jmp=6 if inlist(1,q_2_31l,q_2_31a, q_2_31b)
replace water_jmp=7 if inlist(1,q_2_31h)
replace water_jmp=8 if inlist(1,q_2_31g)
replace water_jmp=10 if inlist(1,q_2_31s)
replace water_jmp=12 if inlist(1,q_2_31p,q_2_31r, q_2_31n)
replace water_jmp=13 if inlist(1,q_2_31t)
replace water_jmp=14 if inlist(1, q_2_31u)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,sewage_toilet,"
recode q_2_26 (1=0)(2 3=0)(4 5=0)(6=1)(7=0), gen(sewage_toilet)"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,sewingmachine,
 gen sewingmachine=q_5_1_3>0 if q_5_1_3<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,spdef,
 gen spdef=pexnom_t/ pexadj_t
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,strata,
 gen strata=provincec
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,subnatid1,
 gen byte subnatid1=provincec
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,subnatid2,
 gen byte subnatid2=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,subnatid3,
 gen byte subnatid3=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,survey,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,television,
 gen television=q_5_1_6>0 if q_5_1_6<.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,toilet_jmp,
gen toilet_jmp=.
replace toilet_jmp=12 if q_2_26==1
replace toilet_jmp=4 if q_2_26==2
replace toilet_jmp=8 if q_2_26==3
replace toilet_jmp=7 if q_2_26==4
replace toilet_jmp=6 if q_2_26==5
replace toilet_jmp=3 if q_2_26==6
replace toilet_jmp=13 if q_2_26==7
replace toilet_jmp=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,toilet_orig,
gen toilet_orig=q_2_26
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,unitwage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen byte unitwage=1
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,urban,
 replace urbrur = 1 if Block_No!=0 & Block_No!=.
 replace urbrur = 0 if Block_No==0
 gen byte urban=urbrur
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,veralt,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,vermast,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,wage,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen byte empstat = q_9_19
 replace empstat=. if lstatus!=1
 gen double wage=q_9_21
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,washingmachine,
 gen washingmachine=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(1,q_2_31i,q_2_31j)
replace water_jmp=3 if inlist(1,q_2_31k)
replace water_jmp=4 if inlist(1,q_2_31c, q_2_31d, q_2_31e, q_2_31f)
replace water_jmp=5 if inlist(1,q_2_31m,q_2_31o, q_2_31q)
replace water_jmp=6 if inlist(1,q_2_31l,q_2_31a, q_2_31b)
replace water_jmp=7 if inlist(1,q_2_31h)
replace water_jmp=8 if inlist(1,q_2_31g)
replace water_jmp=10 if inlist(1,q_2_31s)
replace water_jmp=12 if inlist(1,q_2_31p,q_2_31r, q_2_31n)
replace water_jmp=13 if inlist(1,q_2_31t)
replace water_jmp=14 if inlist(1, q_2_31u)
replace water_jmp=."
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,water_orig,
gen water_orig=.
cap gen water_orig=.
replace water_orig=1+`j' if `i'==1
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfare,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfaredef,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfaredef=welfare
 replace welfaredef=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfarenat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfarenat=welfare
 replace welfarenat=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfarenom,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfarenom=pexnom_t
 replace welfarenom=. if pov_sample==0 | pov_sample==.
 replace welfarenom=. if welfare==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfareother,
 gen welfareother=.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfareothertype,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfaretype,
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,welfshprosperity,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexadj_t/def_ps)
 replace welfare=. if pov_sample==0 | pov_sample==.
 gen welfshprosperity=welfare
 replace welfshprosperity=. if pov_sample==0 | pov_sample==.
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,wgt,
 gen double wgt=hh_weight
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,whours,"
 gen lstatus = 1 if inlist(1, q_9_12, q_9_13, q_9_9, q_9_10, q_9_11)
 replace lstatus = 1 if q_9_15==1 & mi( lstatus)
 replace lstatus = 2 if q_9_16==1 & mi( lstatus)
 replace lstatus = 2 if inlist(q_9_17, 6, 7) & mi( lstatus)
 replace lstatus = 3 if inlist(q_9_17, 10, 11) & mi( lstatus)
 replace lstatus = 4 if mi( lstatus ) & age >=16
 gen whours = (q_9_24 * q_9_23)/4.2
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,year,
 gen int year=2007
 local year=2011
afg_2007_nrva_v01_m_v05_a_sarmd,AFG,2007,NRVA,v01,v05,yrmove,
 gen int yrmove=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,age,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,atschool,
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,bicycle,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,buffalo,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,cellphone,"
 recode Q_7_6_Mobile_Own (2/13=1), gen(cellphone)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,chicken,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,computer,
 gen byte computer=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,contract,
 gen byte contract=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,countrycode,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,cow,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,cpi,
 ren cpi`year'_w cpi
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,cpiperiod,
 gen cpiperiod=syear
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,ed_mod_age,
 gen byte ed_mod_age=6
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,educat4,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,educat5,
 gen educat5=.
 replace educat5=1 if Q_12_5==2
 replace educat5=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat5=3 if (Q_12_6==1 & Q_12_7==6 ) | Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat5=4 if Q_12_6==3 & Q_12_7==3
 replace educat5=5 if Q_12_6>3 & Q_12_6!=.
 replace educat5=2 if Q_12_6==8 | Q_12_6==10
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,educat7,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,educy,
 gen educy = Q_12_7
 replace educy=3 if Q_12_6==8 | Q_12_6==10
 replace educy=13 if Q_12_6==9 & Q_12_7==0
 replace educy = 0 if Q_12_5==2
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,electricity,"
 recode Q_4_12_Electic_Grid (2=0), gen(electricity)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,empstat,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,empstat_2,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,empstat_2_year,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,everattend,
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,fan,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,firmsize_l,
 gen byte firmsize_l=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,healthins,
 gen byte healthins=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,hsize,
 rename hhsize hsize
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,idh,
 ren Household_Code hhid
 gen str idh = hhid
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,idp,
 gen idp= Unique_Mem_ID
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,industry,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 replace industry=. if lstatus!=1
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,industry_2,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,industry_orig_2,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,int_month,
 gen byte int_month=int_month_c
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,int_year,
 gen byte int_year=int_year_c
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,internet,
 gen byte internet=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,lamp,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,lb_mod_age,
 gen byte lb_mod_age=16
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,literacy,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,lphone,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,lstatus,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,male,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,marital,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,motorcar,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,motorcycle,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,njobs,
 gen byte njobs=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,nlfreason,
 gen byte njobs=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,occup,"
 recode Q_8_10 ( 10 11 =2) (3 12 13=5) (5 6 7=7) (8 9=8) (1 2 4=9) (14=99), gen(occup)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,ocusec,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 gen byte ocusec=1 if Q_8_11==3
 replace ocusec=2 if Q_8_11==2
 replace ocusec=. if lstatus!=1
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(Q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist(Q_4_6,4,6,8,9)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,piped_water,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,pline_nat,
 ren pline_adj pline_nat
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,poor_int,
 gen welfare=pexnom_t
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
replace pline_int=.
replace poor_int=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,poor_nat,
 ren poor poor_nat
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,pop_wgt,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,psu,"
 destring Con_Area_Enum_Code, gen(psu)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,radio,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,rbirth,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,rbirth_juris,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,refrigerator,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,relationcs,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,relationharm,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,rprevious,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,rprevious_juris,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,sar_improved_toilet,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,sar_improved_water,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,sewage_toilet,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,sewingmachine,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,soc,
 gen byte soc=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,socialsec,
 gen byte socialsec=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,spdef,
 gen spdef=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,strata,
 replace strata=35 if Resident_Location_Code==3
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,subnatid1,"
 recode subnatid2 (1 2 3 4 5 33 = 1) (6/9=2) (10/13=3) (14/17=4) (18/22=5) (23/25=6) (26/30=7) (31 32 34=8), gen(subnatid1)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,subnatid2,"
 recode Province_Code (17=14) (31=23) (9=16) (21=19) (10=32) (24=34) (33=25) (29=22) (11=6) (23=31) (30=27) (32=24) (28=20) (27=28) (14=9) (15=11) (19=17) (7=12) (6=10) (34=26) (16=13) (12=7) (13=8) (8=33) (20=18) (22=21) (18=15) (25=30) (26=29), gen(subnatid2)"
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,subnatid3,
 gen byte subnatid3=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,survey,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,television,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,toilet_jmp,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,toilet_orig,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,unempldur_l,
 gen byte unempldur_l=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,unempldur_u,
 gen byte unempldur_u=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,union,
 gen byte union=.
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,unitwage,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==."
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,unitwage_2,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,urban,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,veralt,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,vermast,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,wage,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2 & wage!=."
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,wage_2,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,washingmachine,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,water_jmp,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,water_orig,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfare,
 gen welfare=pexnom_t
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfaredef,
 gen welfaredef=pexadj_t
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfarenat,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfarenom,
 gen welfarenom=pexnom_t
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfareother,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfareothertype,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfaretype,
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,welfshprosperity,
 gen welfare=pexnom_t
 gen welfshprosperity=welfare
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,wgt,
 gen double wgt=hh_weight
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,whours,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 gen whours = (Q_8_12 * Q_8_13)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,year,
 gen int year=2011
 local year=2011
afg_2011_nrva_v01_m_v01_a_sarmd,AFG,2011,NRVA,v01,v01,yrmove,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,age,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,atschool,
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,bicycle,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,buffalo,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,cellphone,"
 recode Q_7_6_Mobile_Own (2/13=1), gen(cellphone)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,chicken,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,computer,
 gen byte computer=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,contract,
 gen byte contract=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,countrycode,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,cow,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,cpi,
 ren cpi`year'_w cpi
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,cpiperiod,
 gen cpiperiod=syear
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,ed_mod_age,
 gen byte ed_mod_age=6
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,educat4,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,educat5,
 gen educat5=.
 replace educat5=1 if Q_12_5==2
 replace educat5=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat5=3 if (Q_12_6==1 & Q_12_7==6 ) | Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat5=4 if Q_12_6==3 & Q_12_7==3
 replace educat5=5 if Q_12_6>3 & Q_12_6!=.
 replace educat5=2 if Q_12_6==8 | Q_12_6==10
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,educat7,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,educy,
 gen educy = Q_12_7
 replace educy=3 if Q_12_6==8 | Q_12_6==10
 replace educy=13 if Q_12_6==9 & Q_12_7==0
 replace educy = 0 if Q_12_5==2
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,electricity,"
 recode Q_4_12_Electic_Grid (2=0), gen(electricity)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,empstat,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,empstat_2,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,empstat_2_year,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,everattend,
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,fan,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,firmsize_l,
 gen byte firmsize_l=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,healthins,
 gen byte healthins=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,hsize,
 ren hhsize hsize
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,idh,
 ren Household_Code hhid
 gen str idh = hhid
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,idp,
 gen idp= Unique_Mem_ID
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,industry,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 replace industry=. if lstatus!=1
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,industry_2,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,industry_orig_2,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,int_month,
 gen byte int_month=int_month_c
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,int_year,
 gen byte int_year=int_year_c
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,internet,
 gen byte internet=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,lamp,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,lb_mod_age,
gen byte lb_mod_age=16
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,literacy,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,lphone,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,lstatus,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,male,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,marital,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,motorcar,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,motorcycle,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,njobs,
 gen byte njobs=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,nlfreason,
 gen byte njobs=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,occup,"
 recode Q_8_10 ( 10 11 =2) (3 12 13=5) (5 6 7=7) (8 9=8) (1 2 4=9) (14=99), gen(occup)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,ocusec,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 gen byte ocusec=1 if Q_8_11==3
 replace ocusec=2 if Q_8_11==2
 replace ocusec=. if lstatus!=1
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(Q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist(Q_4_6,4,6,8,9)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,piped_water,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,pline_nat,
 ren pline_adj pline_nat
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,poor_int,
 gen welfare=pexnom_t
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
replace pline_int=.
replace poor_int=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,poor_nat,
 ren poor poor_nat
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,pop_wgt,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,psu,"
 destring Con_Area_Enum_Code, gen(psu)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,radio,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,rbirth,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,rbirth_juris,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,refrigerator,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,relationcs,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,relationharm,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,rprevious,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,rprevious_juris,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,sar_improved_toilet,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,sar_improved_water,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,sewage_toilet,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,sewingmachine,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,soc,
 gen byte soc=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,socialsec,
 gen byte socialsec=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,spdef,
 gen spdef=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,strata,
 replace strata=35 if Resident_Location_Code==3
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,subnatid1,"
 recode subnatid2 (1 2 3 4 5 33 = 1) (6/9=2) (10/13=3) (14/17=4) (18/22=5) (23/25=6) (26/30=7) (31 32 34=8), gen(subnatid1)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,subnatid2,"
 recode Province_Code (17=14) (31=23) (9=16) (21=19) (10=32) (24=34) (33=25) (29=22) (11=6) (23=31) (30=27) (32=24) (28=20) (27=28) (14=9) (15=11) (19=17) (7=12) (6=10) (34=26) (16=13) (12=7) (13=8) (8=33) (20=18) (22=21) (18=15) (25=30) (26=29), gen(subnatid2)"
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,subnatid3,
 gen byte subnatid3=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,survey,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,television,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,toilet_jmp,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,toilet_orig,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,unempldur_l,
 gen byte unempldur_l=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,unempldur_u,
 gen byte unempldur_u=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,union,
 gen byte union=.
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,unitwage,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==."
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,unitwage_2,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,urban,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,veralt,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,vermast,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,wage,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2 & wage!=."
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,wage_2,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,washingmachine,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,water_jmp,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,water_orig,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfare,
 gen welfare=pexnom_t
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfaredef,
 gen welfaredef=pexadj_t
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfarenat,
 gen welfaredef=pexadj_t
 gen welfarenat=welfaredef
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfarenom,
 gen welfarenom=pexnom_t
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfareother,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfareothertype,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfaretype,
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,welfshprosperity,
 gen welfare=pexnom_t
 gen welfshprosperity=welfare
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,wgt,
 gen double wgt=hh_weight
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,whours,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 gen whours = (Q_8_12 * Q_8_13)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,year,
 gen int year=2011
 local year=2011
afg_2011_nrva_v01_m_v02_a_sarmd,AFG,2011,NRVA,v01,v02,yrmove,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,age,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,atschool,
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,bicycle,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,buffalo,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,cellphone,"
 recode Q_7_6_Mobile_Own (2/13=1), gen(cellphone)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,chicken,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,computer,
 gen byte computer=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,contract,
 gen byte contract=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,countrycode,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,cow,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,cpi,
 ren cpi`year'_w cpi
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,cpiperiod,
 gen cpiperiod=syear
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,ed_mod_age,
 gen byte ed_mod_age=6
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,educat4,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,educat5,
 gen educat5=.
 replace educat5=1 if Q_12_5==2
 replace educat5=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat5=3 if (Q_12_6==1 & Q_12_7==6 ) | Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat5=4 if Q_12_6==3 & Q_12_7==3
 replace educat5=5 if Q_12_6>3 & Q_12_6!=.
 replace educat5=2 if Q_12_6==8 | Q_12_6==10
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,educat7,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,educy,
 gen educy = Q_12_7
 replace educy=3 if Q_12_6==8 | Q_12_6==10
 replace educy=13 if Q_12_6==9 & Q_12_7==0
 replace educy = 0 if Q_12_5==2
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,electricity,"
 recode Q_4_12_Electic_Grid (2=0), gen(electricity)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,empstat,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,empstat_2,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,empstat_2_year,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,everattend,
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 18
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,fan,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,firmsize_l,
 gen byte firmsize_l=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,healthins,
 gen byte healthins=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,hsize,
 ren hhsize hsize
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,idh,
 ren Household_Code hhid
 gen str idh = hhid
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,idp,
 gen idp= Unique_Mem_ID
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,industry,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 replace industry=. if lstatus!=1
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,industry_2,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,industry_orig_2,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,int_month,
 gen byte int_month=int_month_c
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,int_year,
 gen byte int_year=int_year_c
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,internet,
 gen byte internet=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,lamp,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,lb_mod_age,
gen byte lb_mod_age=16
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,literacy,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,lphone,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,lstatus,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,male,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,marital,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,motorcar,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,motorcycle,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,njobs,
 gen byte njobs=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,nlfreason,
 gen byte njobs=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,occup,"
 recode Q_8_10 ( 10 11 =2) (3 12 13=5) (5 6 7=7) (8 9=8) (1 2 4=9) (14=99), gen(occup)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,ocusec,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 gen byte ocusec=1 if Q_8_11==3
 replace ocusec=2 if Q_8_11==2
 replace ocusec=. if lstatus!=1
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(Q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist(Q_4_6,4,6,8,9)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,piped_water,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,pline_nat,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,poor_int,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
 replace poor_int=. if pov_sample==0
replace pline_int=.
replace poor_int=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,poor_nat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 gen poor_nat=(welfare/12)<pline_nat & welfare!=.
 replace poor_nat=. if pov_sample==0
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,pop_wgt,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,psu,"
 destring Con_Area_Enum_Code, gen(psu)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,radio,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,rbirth,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,rbirth_juris,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,refrigerator,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,relationcs,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,relationharm,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,rprevious,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,rprevious_juris,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,sar_improved_toilet,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,sar_improved_water,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,sewage_toilet,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,sewingmachine,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,soc,
 gen byte soc=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,socialsec,
 gen byte socialsec=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,spdef,
 gen spdef=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,strata,
 replace strata=35 if Resident_Location_Code==3
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,subnatid1,"
 recode subnatid2 (1 2 3 4 5 33 = 1) (6/9=2) (10/13=3) (14/17=4) (18/22=5) (23/25=6) (26/30=7) (31 32 34=8), gen(subnatid1)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,subnatid2,"
 recode Province_Code (17=14) (31=23) (9=16) (21=19) (10=32) (24=34) (33=25) (29=22) (11=6) (23=31) (30=27) (32=24) (28=20) (27=28) (14=9) (15=11) (19=17) (7=12) (6=10) (34=26) (16=13) (12=7) (13=8) (8=33) (20=18) (22=21) (18=15) (25=30) (26=29), gen(subnatid2)"
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,subnatid3,
 gen byte subnatid3=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,survey,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,television,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,toilet_jmp,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,toilet_orig,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,unempldur_l,
 gen byte unempldur_l=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,unempldur_u,
 gen byte unempldur_u=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,union,
 gen byte union=.
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,unitwage,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==."
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,unitwage_2,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,urban,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,veralt,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,vermast,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,wage,"
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2 & wage!=."
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,wage_2,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,washingmachine,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,water_jmp,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,water_orig,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfare,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfaredef,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfaredef=welfare
 replace welfaredef=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfarenat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfarenat=welfare
 replace welfarenat=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfarenom,
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfarenom=pexnom_t*12
 replace welfarenom=. if pov_sample==0
 replace welfarenom=. if welfare==.
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfareother,
 gen welfareother=.
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfareothertype,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfaretype,
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,welfshprosperity,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)*12
 replace welfare=. if pov_sample==0
 gen welfshprosperity=welfare
 replace welfshprosperity=. if pov_sample==0
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,wgt,
 gen double wgt=hh_weight
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,whours,
 gen lstatus=1 if Q_8_2==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=1 if Q_8_3==1
 replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_4==3
 replace lstatus=2 if Q_8_6==1 | Q_8_4==5 | Q_8_4==6
 replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<16
 gen whours = (Q_8_12 * Q_8_13)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,year,
 gen int year=2011
 local year=2011
afg_2011_nrva_v01_m_v03_a_sarmd,AFG,2011,NRVA,v01,v03,yrmove,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,age,
 replace age=98 if age>=98
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,atschool,
 replace age=98 if age>=98
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,bicycle,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,buffalo,
 gen buffalo=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,cellphone,"
 recode Q_7_6_Mobile_Own (2/13=1), gen(cellphone)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,chicken,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,computer,
 gen byte computer=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,countrycode,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,cow,
 gen cow=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,cpi,
 ren cpi`year'_w cpi
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,cpiperiod,
 gen cpiperiod=syear
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,ed_mod_age,
 gen byte ed_mod_age=6
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,educat4,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 & Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,educat5,
 gen educat5=.
 replace educat5=1 if Q_12_5==2
 replace educat5=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat5=3 if (Q_12_6==1 & Q_12_7==6 ) | Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat5=4 if Q_12_6==3 & Q_12_7==12
 replace educat5=5 if Q_12_6>3 & Q_12_6!=.
 replace educat5=2 if Q_12_6==8 | Q_12_6==10
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,educat7,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 & Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,educy,
 replace age=98 if age>=98
 gen educy = Q_12_7
 replace educy=6 if Q_12_6==2 & educy==0
 replace educy=9 if Q_12_6==3 & educy==0
 replace educy=12 if Q_12_6==4 & educy==0
 replace educy=12 if Q_12_6==5 & educy==0
 replace educy=16 if Q_12_6==6 & educy==0
 replace educy=12 if Q_12_6==7 & educy==0
 replace educy=12 if Q_12_6==9 & educy==0
 replace educy = 0 if Q_12_5==2
 replace educy=. if educy>age+1 & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,electricity,"
 recode Q_4_12_Electic_Grid (2=0), gen(electricity)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,empstat,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,empstat_2_year,
 replace age=98 if age>=98
gen byte lb_mod_age=14
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,everattend,
 replace age=98 if age>=98
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,fan,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,hsize,
 gen z=1
 *replace z=0 if Q_3_3==11
 bys hhid: egen hsize=sum(z)
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,idh,
 ren Household_Code hhid
 gen str idh = hhid
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,idp,
 gen idp= Unique_Mem_ID
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,industry,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,int_month,
 gen int_month=int_month_c
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,int_year,
 gen int_year=int_year_c
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,internet,
 gen byte internet=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,lamp,
 gen lamp=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,lb_mod_age,
gen byte lb_mod_age=14
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,literacy,
 replace age=98 if age>=98
 replace literacy=. if age<6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,lphone,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,lstatus,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,male,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,marital,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,motorcar,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,motorcycle,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,nlfreason,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,occup,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_10 ( 10 11 =2) (3 12 13=5) (5 6 7=7) (8 9=8) (1 2 4=9) (14=99), gen(occup)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,ocusec,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 gen byte ocusec=1 if Q_8_11==3
 replace ocusec=2 if Q_8_11==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(Q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist(Q_4_6,4,6,8,9)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,piped_water,"
recode Q_4_18 (8/9=1) (1/7=0) (10/14=0), gen(piped_water)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,pline_nat,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,poor_int,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
 replace poor_int=. if pov_sample==0
replace pline_int=.
replace poor_int=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,poor_nat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 gen poor_nat=(welfare)<pline_nat & welfare!=.
 replace poor_nat=. if pov_sample==0
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,pop_wgt,
 gen double wgt=hh_weight
 gen z=1
 *replace z=0 if Q_3_3==11
 bys hhid: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,psu,"
 destring cid, gen(psu)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,radio,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,rbirth,
 gen byte rbirth=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,refrigerator,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,relationcs,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,relationharm,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,rprevious,
 gen byte rprevious=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,sar_improved_toilet,"
gen toilet_jmp=.
replace toilet_jmp=12 if Q_4_16==5
replace toilet_jmp=4 if Q_4_16==6
replace toilet_jmp=8 if Q_4_16==1
replace toilet_jmp=7 if Q_4_16==2
replace toilet_jmp=6 if Q_4_16==3
replace toilet_jmp=3 if Q_4_16==4
replace toilet_jmp=13 if Q_4_16==7
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)
replace sar_improved_toilet=0 if Q_4_17==1"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=6 if inlist(Q_4_18,1,2)
replace water_jmp=4 if inlist(Q_4_18,3,4,5)
replace water_jmp=7 if inlist(Q_4_18,7)
replace water_jmp=8 if inlist(Q_4_18,6)
replace water_jmp=1 if inlist(Q_4_18,8)
replace water_jmp=3 if inlist(Q_4_18,9)
replace water_jmp=5 if inlist(Q_4_18,10)
replace water_jmp=12 if inlist(Q_4_18,11)
replace water_jmp=10 if inlist(Q_4_18,12)
replace water_jmp=13 if inlist(Q_4_18,13)
replace water_jmp=14 if inlist(Q_4_18,14)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,sewage_toilet,"
recode Q_4_16 (4=1) (1 2 3 5 6 7=0), gen(sewage_toilet)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,sewingmachine,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,spdef,
 gen spdef=pexnom_t/ pexadj_t
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,strata,
 *replace strata=35 if Resident_Location_Code==3
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,subnatid1,"
 recode Province_Code (17=14) (31=23) (9=16) (21=19) (10=32) (24=34) (33=25) (29=22) (11=6) (23=31) (30=27) (32=24) (28=20) (27=28) (14=9) (15=11) (19=17) (7=12) (6=10) (34=26) (16=13) (12=7) (13=8) (8=33) (20=18) (22=21) (18=15) (25=30) (26=29), gen(subnatid1)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,subnatid2,
 gen byte subnatid2=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,subnatid3,
 gen byte subnatid3=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,survey,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,television,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,toilet_jmp,
gen toilet_jmp=.
replace toilet_jmp=12 if Q_4_16==5
replace toilet_jmp=4 if Q_4_16==6
replace toilet_jmp=8 if Q_4_16==1
replace toilet_jmp=7 if Q_4_16==2
replace toilet_jmp=6 if Q_4_16==3
replace toilet_jmp=3 if Q_4_16==4
replace toilet_jmp=13 if Q_4_16==7
replace toilet_jmp=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,toilet_orig,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,unitwage,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,urban,"
 recode Resident_Location_Code (2=0)(3=0), gen(urban)"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,veralt,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,vermast,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,wage,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2 & wage!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,washingmachine,
 gen washingmachine=.
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=6 if inlist(Q_4_18,1,2)
replace water_jmp=4 if inlist(Q_4_18,3,4,5)
replace water_jmp=7 if inlist(Q_4_18,7)
replace water_jmp=8 if inlist(Q_4_18,6)
replace water_jmp=1 if inlist(Q_4_18,8)
replace water_jmp=3 if inlist(Q_4_18,9)
replace water_jmp=5 if inlist(Q_4_18,10)
replace water_jmp=12 if inlist(Q_4_18,11)
replace water_jmp=10 if inlist(Q_4_18,12)
replace water_jmp=13 if inlist(Q_4_18,13)
replace water_jmp=14 if inlist(Q_4_18,14)
replace water_jmp=."
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,water_orig,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfare,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfaredef,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfaredef=welfare
 replace welfaredef=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfarenat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfarenat=welfare
 replace welfarenat=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfarenom,
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfarenom=pexnom_t
 replace welfarenom=. if pov_sample==0
 replace welfarenom=. if welfare==.
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfareother,
 gen welfareother=.
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfareothertype,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfaretype,
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,welfshprosperity,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfshprosperity=welfare
 replace welfshprosperity=. if pov_sample==0
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,wgt,
 gen double wgt=hh_weight
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,whours,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 gen whours = (Q_8_12 * Q_8_13)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,year,
 gen int year=2011
 local year=2011
afg_2011_nrva_v01_m_v04_a_sarmd,AFG,2011,NRVA,v01,v04,yrmove,
 gen int yrmove=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,age,
 replace age=98 if age>=98
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,atschool,
 replace age=98 if age>=98
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,bicycle,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,buffalo,
 gen buffalo=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,cellphone,"
 recode Q_7_6_Mobile_Own (2/13=1), gen(cellphone)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,chicken,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,computer,
 gen byte computer=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,countrycode,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,cow,
 gen cow=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,cpi,
 ren cpi`year'_w cpi
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,cpiperiod,
 gen cpiperiod=syear
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,ed_mod_age,
 gen byte ed_mod_age=6
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,educat4,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 & Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,educat5,
 gen educat5=.
 replace educat5=1 if Q_12_5==2
 replace educat5=2 if Q_12_6==1 & Q_12_7<6 &Q_12_7!=.
 replace educat5=3 if (Q_12_6==1 & Q_12_7==6 ) | Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat5=4 if Q_12_6==3 & Q_12_7==12
 replace educat5=5 if Q_12_6>3 & Q_12_6!=.
 replace educat5=2 if Q_12_6==8 | Q_12_6==10
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,educat7,
 gen educat7=.
 replace educat7=1 if Q_12_5==2
 replace educat7=2 if Q_12_6==1 & Q_12_7<6 & Q_12_7!=.
 replace educat7=3 if (Q_12_6==1 & Q_12_7==6 )
 replace educat7=4 if Q_12_6==2 | (Q_12_6==3 & Q_12_7<12 & Q_12_7!=.)
 replace educat7=5 if Q_12_6==3 & Q_12_7==12
 replace educat7=7 if Q_12_6>3 & Q_12_6!=.
 replace educat7=2 if Q_12_6==8 | Q_12_6==10
 replace educat7=6 if Q_12_6==4 | Q_12_6==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,educy,
 replace age=98 if age>=98
 gen educy = Q_12_7
 replace educy=6 if Q_12_6==2 & educy==0
 replace educy=9 if Q_12_6==3 & educy==0
 replace educy=12 if Q_12_6==4 & educy==0
 replace educy=12 if Q_12_6==5 & educy==0
 replace educy=16 if Q_12_6==6 & educy==0
 replace educy=12 if Q_12_6==7 & educy==0
 replace educy=12 if Q_12_6==9 & educy==0
 replace educy = 0 if Q_12_5==2
 replace educy=. if educy>age+1 & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,electricity,"
 recode Q_4_12_Electic_Grid (2=0), gen(electricity)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,empstat,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,empstat_2_year,
 replace age=98 if age>=98
gen byte lb_mod_age=14
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,everattend,
 replace age=98 if age>=98
 replace atschool=0 if Q_12_5==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,fan,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,hsize,
 gen z=1
 *replace z=0 if Q_3_3==11
 bys hhid: egen hsize=sum(z)
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,idh,
 ren Household_Code hhid
 gen str idh = hhid
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,idp,
 gen idp= Unique_Mem_ID
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,industry,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,int_month,
 gen int_month=int_month_c
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,int_year,
 gen int_year=int_year_c
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,internet,
 gen byte internet=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,lamp,
 gen lamp=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,lb_mod_age,
gen byte lb_mod_age=14
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,literacy,
 replace age=98 if age>=98
 replace literacy=. if age<6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,lphone,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,lstatus,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,male,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,marital,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,motorcar,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,motorcycle,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,nlfreason,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,occup,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_10 ( 10 11 =2) (3 12 13=5) (5 6 7=7) (8 9=8) (1 2 4=9) (14=99), gen(occup)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,ocusec,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 gen byte ocusec=1 if Q_8_11==3
 replace ocusec=2 if Q_8_11==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist(Q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist(Q_4_6,4,6,8,9)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,piped_water,"
recode Q_4_18 (8/9=1) (1/7=0) (10/14=0), gen(piped_water)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
replace pline_int=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,pline_nat,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,poor_int,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
 replace poor_int=. if pov_sample==0
replace pline_int=.
replace poor_int=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,poor_nat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
 gen poor_nat=(welfare)<pline_nat & welfare!=.
 replace poor_nat=. if pov_sample==0
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,pop_wgt,
 gen double wgt=hh_weight
 gen z=1
 *replace z=0 if Q_3_3==11
 bys hhid: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,psu,"
 destring cid, gen(psu)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,radio,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,rbirth,
 gen byte rbirth=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,refrigerator,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,relationcs,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,relationharm,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,rprevious,
 gen byte rprevious=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,sar_improved_toilet,"
gen toilet_jmp=.
replace toilet_jmp=12 if Q_4_16==5
replace toilet_jmp=4 if Q_4_16==6
replace toilet_jmp=8 if Q_4_16==1
replace toilet_jmp=7 if Q_4_16==2
replace toilet_jmp=6 if Q_4_16==3
replace toilet_jmp=3 if Q_4_16==4
replace toilet_jmp=13 if Q_4_16==7
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)
replace sar_improved_toilet=0 if Q_4_17==1"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=6 if inlist(Q_4_18,1,2)
replace water_jmp=4 if inlist(Q_4_18,3,4,5)
replace water_jmp=7 if inlist(Q_4_18,7)
replace water_jmp=8 if inlist(Q_4_18,6)
replace water_jmp=1 if inlist(Q_4_18,8)
replace water_jmp=3 if inlist(Q_4_18,9)
replace water_jmp=5 if inlist(Q_4_18,10)
replace water_jmp=12 if inlist(Q_4_18,11)
replace water_jmp=10 if inlist(Q_4_18,12)
replace water_jmp=13 if inlist(Q_4_18,13)
replace water_jmp=14 if inlist(Q_4_18,14)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,sewage_toilet,"
recode Q_4_16 (4=1) (1 2 3 5 6 7=0), gen(sewage_toilet)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,sewingmachine,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,spdef,
 gen spdef=pexnom_t/ pexadj_t
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,strata,
 *replace strata=35 if Resident_Location_Code==3
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,subnatid1,"
 recode Province_Code (17=14) (31=23) (9=16) (21=19) (10=32) (24=34) (33=25) (29=22) (11=6) (23=31) (30=27) (32=24) (28=20) (27=28) (14=9) (15=11) (19=17) (7=12) (6=10) (34=26) (16=13) (12=7) (13=8) (8=33) (20=18) (22=21) (18=15) (25=30) (26=29), gen(subnatid1)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,subnatid2,
 gen byte subnatid2=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,subnatid3,
 gen byte subnatid3=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,survey,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,television,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,toilet_jmp,
gen toilet_jmp=.
replace toilet_jmp=12 if Q_4_16==5
replace toilet_jmp=4 if Q_4_16==6
replace toilet_jmp=8 if Q_4_16==1
replace toilet_jmp=7 if Q_4_16==2
replace toilet_jmp=6 if Q_4_16==3
replace toilet_jmp=3 if Q_4_16==4
replace toilet_jmp=13 if Q_4_16==7
replace toilet_jmp=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,toilet_orig,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,unitwage,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,urban,"
 recode Resident_Location_Code (2=0)(3=0), gen(urban)"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,veralt,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,vermast,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,wage,"
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 recode Q_8_11 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2 & wage!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,washingmachine,
 gen washingmachine=.
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=6 if inlist(Q_4_18,1,2)
replace water_jmp=4 if inlist(Q_4_18,3,4,5)
replace water_jmp=7 if inlist(Q_4_18,7)
replace water_jmp=8 if inlist(Q_4_18,6)
replace water_jmp=1 if inlist(Q_4_18,8)
replace water_jmp=3 if inlist(Q_4_18,9)
replace water_jmp=5 if inlist(Q_4_18,10)
replace water_jmp=12 if inlist(Q_4_18,11)
replace water_jmp=10 if inlist(Q_4_18,12)
replace water_jmp=13 if inlist(Q_4_18,13)
replace water_jmp=14 if inlist(Q_4_18,14)
replace water_jmp=."
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,water_orig,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfare,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfaredef,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfaredef=welfare
 replace welfaredef=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfarenat,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfarenat=welfare
 replace welfarenat=. if pov_sample==0
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfarenom,
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfarenom=pexnom_t
 replace welfarenom=. if pov_sample==0
 replace welfarenom=. if welfare==.
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfareother,
 gen welfareother=.
 foreach var in welfare welfarenom welfaredef welfshprosperit welfareother welfarenat{
 replace `var'=. if subnatid2==9 | subnatid2==27
 }
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfareothertype,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfaretype,
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,welfshprosperity,
 gen def_ps=pline/PLN_ps
 gen welfare=(pexnom_t/def_ps)
 replace welfare=. if pov_sample==0
 gen welfshprosperity=welfare
 replace welfshprosperity=. if pov_sample==0
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,wgt,
 gen double wgt=hh_weight
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,whours,
 replace age=98 if age>=98
 gen lstatus=1 if Q_8_2==1
 replace lstatus=1 if Q_8_3==1
 replace lstatus=2 if Q_8_2==2
 replace lstatus=2 if Q_8_6==1 | Q_8_7==8 | Q_8_7==9
 *replace lstatus=1 if Q_8_4>=1 & Q_8_4<=2
 replace lstatus=3 if Q_8_5==2 | Q_8_6==2
 *replace lstatus=2 if Q_8_5==1 & lstatus!=1
 replace lstatus=. if age<14
 gen whours = (Q_8_12 * Q_8_13)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,year,
 gen int year=2011
 local year=2011
afg_2011_nrva_v01_m_v05_a_sarmd,AFG,2011,NRVA,v01,v05,yrmove,
 gen int yrmove=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,age,
 gen byte age= q_3_4
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,atschool,
 gen byte age= q_3_4
 gen byte atschool= q_10_7
 replace atschool=0 if q_10_4==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,bicycle,
 gen bicycle=q_7_1_k>0 if q_7_1_k<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,buffalo,
 gen buffalo=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,cellphone,
 gen cellphone= q_7_1_r>0 if q_7_1_r<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,chicken,
 gen chicken=q_5_2_h>0 if q_5_2_h<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,computer,
 gen byte computer= q_7_1_h>0 if q_7_1_h<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,countrycode,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,cow,
 gen cow=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,cpi,
 gen cpi=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,cpiperiod,
 gen cpiperiod=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,ed_mod_age,
 gen byte ed_mod_age=6
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,educat4,
 gen educat7=.
 replace educat7=1 if q_10_4==2
 replace educat7=2 if q_10_5==1 & q_10_6<6 & q_10_6!=.
 replace educat7=3 if (q_10_5==1 & q_10_6==6 )
 replace educat7=4 if q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat7=5 if q_10_5==3 & q_10_6==12
 replace educat7=7 if q_10_5>3 & q_10_5!=.
 replace educat7=2 if q_10_5==7
 replace educat7=6 if q_10_5==4 | q_10_5==5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,educat5,
 gen educat5=.
 replace educat5=1 if q_10_4==2
 replace educat5=2 if q_10_5==1 & q_10_6<6 &q_10_6!=.
 replace educat5=3 if (q_10_5==1 & q_10_6==6 ) | q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat5=4 if q_10_5==3 & q_10_6==12
 replace educat5=5 if q_10_5>3 & q_10_5!=.
 replace educat5=2 if q_10_5==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,educat7,
 gen educat7=.
 replace educat7=1 if q_10_4==2
 replace educat7=2 if q_10_5==1 & q_10_6<6 & q_10_6!=.
 replace educat7=3 if (q_10_5==1 & q_10_6==6 )
 replace educat7=4 if q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat7=5 if q_10_5==3 & q_10_6==12
 replace educat7=7 if q_10_5>3 & q_10_5!=.
 replace educat7=2 if q_10_5==7
 replace educat7=6 if q_10_5==4 | q_10_5==5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,educy,
 gen educy = q_10_6
 replace educy=6 if q_10_5==2 & educy==0
 replace educy=9 if q_10_5==3 & educy==0
 replace educy=12 if q_10_5==4 & educy==0
 replace educy=12 if q_10_5==5 & educy==0
 replace educy=16 if q_10_5==6 & educy==0
 replace educy = 0 if q_10_4==2
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,electricity,"
 recode q_4_11_a (2=0), gen(electricity)"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,empstat,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 recode q_11_13 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,empstat_2_year,
 gen byte age= q_3_4
gen byte lb_mod_age=14
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,everattend,
 gen byte age= q_3_4
 gen byte atschool= q_10_7
 replace atschool=0 if q_10_4==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
 gen byte everattend= q_10_4
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,fan,
 gen fan=q_7_1_j>0 if q_7_1_j<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,hsize,
 gen z=1
 *replace z=0 if q_3_3==11
 bys hhid: egen hsize=sum(z)
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,idh,
 ren hh_id hhid
 gen str idh = hhid
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,idp,
 gen idp= ind_id
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,industry,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen byte industry= q_11_19_b
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,int_month,
 gen int_month=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,int_year,
 gen int_year=2013 if q_2_1c==92 & (q_2_1b==9 | q_2_1b==10 & q_2_1a<=10)
 replace int_year=2014 if int_year==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,internet,
 gen byte internet= q_7_5
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,lamp,
 gen lamp=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,lb_mod_age,
gen byte lb_mod_age=14
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,literacy,
 gen byte age= q_3_4
 gen byte literacy= q_10_2
 replace literacy=. if age<6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,lphone,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,lstatus,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,male,
 gen byte male= q_3_5
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,marital,
 gen byte marital= q_3_6
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,motorcar,
 gen motorcar=q_7_1_m>0 if q_7_1_m<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,motorcycle,
 gen motorcycle=q_7_1_l>0 if q_7_1_l<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,nlfreason,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,occup,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen occup=q_11_20_b
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,ocusec,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen byte ocusec=1 if q_11_13==3
 replace ocusec=2 if q_11_13==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist( q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist( q_4_6,4,6,8,9)"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,piped_water,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,pline_int,
 gen pline_int=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,pline_nat,
 gen pline_nat=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,poor_int,
 gen poor_int=.
 replace poor_int=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,poor_nat,
 gen poor_nat=.
 replace poor_nat=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,pop_wgt,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,psu,
 gen psu= q_1_4
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,radio,
 gen radio=q_7_1_e>0 if q_7_1_e<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,rbirth,
 gen byte rbirth=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,rbirth_juris,
 gen byte rbirth_juris=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,refrigerator,
 gen refrigerator=q_7_1_a>0 if q_7_1_a<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,relationcs,
 gen byte relationcs=q_3_3
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,relationharm,
 gen byte relationharm=q_3_3
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,rprevious,
 gen byte rprevious=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,rprevious_juris,
 gen byte rprevious_juris=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,sar_improved_toilet,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,sar_improved_water,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,sewage_toilet,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,sewingmachine,
 gen sewingmachine=q_7_1_c>0 if q_7_1_c<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,spdef,
 gen spdef=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,strata,
 gen strata= q_1_1
 replace strata=35 if q_1_5==3
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,subnatid1,"
 recode subnatid2 (1 2 3 4 5 33 = 1) (6/9=2) (10/13=3) (14/17=4) (18/22=5) (23/25=6) (26/30=7) (31 32 34=8), gen(subnatid1)"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,subnatid2,"
 recode q_1_1a (6=10) (7=12) (8=33) (9=16) (10=32) (11=6) (12=7) (13=8) (14=9) (15=11) (16=13) (17=14) (18=15) (19=17) (20=18) (21=19) (22=21) (23=31) (24=34) (25=30) (26=29) (27=28) (28=20) (29=22) (30=27) (31=23) (32=24) (33=25) (34=26), gen(subnatid2)"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,subnatid3,
 gen byte subnatid3=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,survey,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,television,
 gen television=q_7_1_e>0 if q_7_1_e<.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,toilet_jmp,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,toilet_orig,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,unitwage,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 recode q_11_13 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen byte unitwage=1
 replace unitwage=. if lstatus!=1 & empstat!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,urban,"
 recode q_1_5 (2=0)(3=0), gen(urban)
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,veralt,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,vermast,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,wage,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 recode q_11_13 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
 gen double wage= q_11_14
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2 & wage!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,washingmachine,
 gen washingmachine=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,water_jmp,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,water_orig,
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfare,"
 gen welfare=.
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfaredef,
 gen welfaredef=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfarenat,
 gen welfarenat=.
 replace welfarenat=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfarenom,
 gen welfarenom=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfareother,"
 gen welfareother=.
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfareothertype,
 gen welfareothertype=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfaretype,
 gen welfaretype=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,welfshprosperity,
 gen welfshprosperity=.
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,wgt,
 gen double wgt= hh_weight
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,whours,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen whours = ( q_11_17 * q_11_18)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,year,
 gen int year=2013
afg_2013_lcs_v01_m_v01_a_sarmd,AFG,2013,LCS,v01,v01,yrmove,
 gen int yrmove=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,age,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,atschool,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen byte atschool= q_10_7
 replace atschool=0 if q_10_4==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,bicycle,
 gen bicycle=q_7_1_k>0 if q_7_1_k<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,buffalo,
 gen buffalo=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,cellphone,
 gen cellphone= q_7_1_r>0 if q_7_1_r<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,chicken,
 gen chicken=q_5_2_h>0 if q_5_2_h<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,computer,
 gen byte computer= q_7_1_h>0 if q_7_1_h<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,countrycode,
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,cow,
 gen cow=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,cpi,
 gen cpi=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,cpiperiod,
 gen cpiperiod=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,ed_mod_age,
 gen byte ed_mod_age=6
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,educat4,
 gen educat7=.
 replace educat7=1 if q_10_4==2
 replace educat7=2 if q_10_5==1 & q_10_6<6 & q_10_6!=.
 replace educat7=3 if (q_10_5==1 & q_10_6==6 )
 replace educat7=4 if q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat7=5 if q_10_5==3 & q_10_6==12
 replace educat7=7 if q_10_5>3 & q_10_5!=.
 replace educat7=2 if q_10_5==7
 replace educat7=6 if q_10_5==4 | q_10_5==5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,educat5,
 gen educat5=.
 replace educat5=1 if q_10_4==2
 replace educat5=2 if q_10_5==1 & q_10_6<6 &q_10_6!=.
 replace educat5=3 if (q_10_5==1 & q_10_6==6 ) | q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat5=4 if q_10_5==3 & q_10_6==12
 replace educat5=5 if q_10_5>3 & q_10_5!=.
 replace educat5=2 if q_10_5==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,educat7,
 gen educat7=.
 replace educat7=1 if q_10_4==2
 replace educat7=2 if q_10_5==1 & q_10_6<6 & q_10_6!=.
 replace educat7=3 if (q_10_5==1 & q_10_6==6 )
 replace educat7=4 if q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat7=5 if q_10_5==3 & q_10_6==12
 replace educat7=7 if q_10_5>3 & q_10_5!=.
 replace educat7=2 if q_10_5==7
 replace educat7=6 if q_10_5==4 | q_10_5==5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,educy,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen educy = q_10_6
 replace educy=6 if q_10_5==2 & educy==0
 replace educy=9 if q_10_5==3 & educy==0
 replace educy=12 if q_10_5==4 & educy==0
 replace educy=12 if q_10_5==5 & educy==0
 replace educy=16 if q_10_5==6 & educy==0
 replace educy = 0 if q_10_4==2
 replace educy=. if educy>age+1 & educy<. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,electricity,"
 recode q_4_11_a (2=0), gen(electricity)"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,empstat,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 recode q_11_13 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,empstat_2_year,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=14
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,everattend,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen byte atschool= q_10_7
 replace atschool=0 if q_10_4==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
 gen byte everattend= q_10_4
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,fan,
 gen fan=q_7_1_j>0 if q_7_1_j<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,hsize,
 gen z=1
 *replace z=0 if q_3_3==11
 bys hhid: egen hsize=sum(z)
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,idh,
 ren hh_id hhid
 gen str idh = hhid
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,idp,
 gen idp= ind_id
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,industry,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen byte industry= q_11_19_b
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,int_month,
 gen int_month=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,int_year,
 gen int_year=2013 if q_2_1c==92 & (q_2_1b==9 | q_2_1b==10 & q_2_1a<=10)
 replace int_year=2014 if int_year==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,internet,
 gen byte internet= q_7_5
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,lamp,
 gen lamp=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,lb_mod_age,
gen byte lb_mod_age=14
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,literacy,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen byte literacy= q_10_2
 replace literacy=. if age<6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,lphone,
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,lstatus,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,male,
 gen byte male= q_3_5
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,marital,
 gen byte marital= q_3_6
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,motorcar,
 gen motorcar=q_7_1_m>0 if q_7_1_m<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,motorcycle,
 gen motorcycle=q_7_1_l>0 if q_7_1_l<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,nlfreason,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,occup,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen occup=q_11_20_b
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,ocusec,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen byte ocusec=1 if q_11_13==3
 replace ocusec=2 if q_11_13==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist( q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist( q_4_6,4,6,8,9)"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,piped_water,"
recode q_4_18 (1/2=1) (nonmis=0), gen(piped_water)"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,pline_int,
 gen pline_int=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,pline_nat,
 gen pline_nat=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,poor_int,
 gen poor_int=.
 replace poor_int=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,poor_nat,
 gen poor_nat=.
 replace poor_nat=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,pop_wgt,
 gen double wgt= hh_weight
 gen z=1
 *replace z=0 if q_3_3==11
 bys hhid: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,psu,
 gen psu= q_1_4
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,radio,
 gen radio=q_7_1_e>0 if q_7_1_e<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,rbirth,
 gen byte rbirth=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,rbirth_juris,
 gen byte rbirth_juris=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,refrigerator,
 gen refrigerator=q_7_1_a>0 if q_7_1_a<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,relationcs,
 gen byte relationcs=q_3_3
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,relationharm,
 gen byte relationharm=q_3_3
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,rprevious,
 gen byte rprevious=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,rprevious_juris,
 gen byte rprevious_juris=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,sar_improved_toilet,"
gen toilet_jmp=.
replace toilet_jmp=7 if inlist(q_4_16,1)
replace toilet_jmp=8 if inlist(q_4_16,2)
replace toilet_jmp=6 if inlist(q_4_16,3)
replace toilet_jmp=1 if inlist(q_4_16,4)
replace toilet_jmp=2 if inlist(q_4_16,5)
replace toilet_jmp=12 if inlist(q_4_16,6)
replace toilet_jmp=13 if inlist(q_4_16,7)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)
replace sar_improved_toilet=0 if q_4_17==1"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(q_4_18,1)
replace water_jmp=3 if inlist(q_4_18,2)
replace water_jmp=4 if inlist(q_4_18,3,4)
replace water_jmp=7 if inlist(q_4_18,5)
replace water_jmp=8 if inlist(q_4_18,6)
replace water_jmp=12 if inlist(q_4_18,7)
replace water_jmp=10 if inlist(q_4_18,8)
replace water_jmp=14 if inlist(q_4_18,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,sewage_toilet,"
 recode q_4_16 (4=1) (1 2 3 5 6 7=0), gen(sewage_toilet)"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,sewingmachine,
 gen sewingmachine=q_7_1_c>0 if q_7_1_c<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,spdef,
 gen spdef=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,strata,
 gen strata= q_1_1
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,subnatid1,"
 recode q_1_1a (6=10) (7=12) (8=33) (9=16) (10=32) (11=6) (12=7) (13=8) (14=9) (15=11) (16=13) (17=14) (18=15) (19=17) (20=18) (21=19) (22=21) (23=31) (24=34) (25=30) (26=29) (27=28) (28=20) (29=22) (30=27) (31=23) (32=24) (33=25) (34=26), gen(subnatid1)"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,subnatid2,
 gen byte subnatid2=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,subnatid3,
 gen byte subnatid3=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,survey,
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,television,
 gen television=q_7_1_e>0 if q_7_1_e<.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=7 if inlist(q_4_16,1)
replace toilet_jmp=8 if inlist(q_4_16,2)
replace toilet_jmp=6 if inlist(q_4_16,3)
replace toilet_jmp=1 if inlist(q_4_16,4)
replace toilet_jmp=2 if inlist(q_4_16,5)
replace toilet_jmp=12 if inlist(q_4_16,6)
replace toilet_jmp=13 if inlist(q_4_16,7)
replace toilet_jmp=."
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,toilet_orig,
gen toilet_orig=q_4_16
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,unitwage,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen wage=q_11_14 if q_11_13==1
 replace wage=q_11_15 if inlist(q_11_13,2,3)
 replace wage=q_11_16 if inlist(q_11_13,4,5)
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=. if wage==.a
 gen byte unitwage=q_11_13
 replace unitwage=. if lstatus!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,urban,"
 recode q_1_5 (2=0)(3=0), gen(urban)
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,veralt,
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,vermast,
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,wage,"
 gen wage=q_11_14 if q_11_13==1
 replace wage=q_11_15 if inlist(q_11_13,2,3)
 replace wage=q_11_16 if inlist(q_11_13,4,5)
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=. if wage==.a
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,washingmachine,
 gen washingmachine=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(q_4_18,1)
replace water_jmp=3 if inlist(q_4_18,2)
replace water_jmp=4 if inlist(q_4_18,3,4)
replace water_jmp=7 if inlist(q_4_18,5)
replace water_jmp=8 if inlist(q_4_18,6)
replace water_jmp=12 if inlist(q_4_18,7)
replace water_jmp=10 if inlist(q_4_18,8)
replace water_jmp=14 if inlist(q_4_18,9)
replace water_jmp=."
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,water_orig,
gen water_orig=q_4_18
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfare,"
 gen welfare=.
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfaredef,
 gen welfaredef=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfarenat,
 gen welfarenat=.
 replace welfarenat=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfarenom,
 gen welfarenom=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfareother,"
 gen welfareother=.
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfareothertype,
 gen welfareothertype=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfaretype,
 gen welfaretype=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,welfshprosperity,
 gen welfshprosperity=.
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,wgt,
 gen double wgt= hh_weight
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,whours,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen whours = ( q_11_17 * q_11_18)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,year,
 gen int year=2013
afg_2013_lcs_v01_m_v02_a_sarmd,AFG,2013,LCS,v01,v02,yrmove,
 gen int yrmove=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,age,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,atschool,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen byte atschool= q_10_7
 replace atschool=0 if q_10_4==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,bicycle,
 gen bicycle=q_7_1_k>0 if q_7_1_k<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,buffalo,
 gen buffalo=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,cellphone,
 gen cellphone= q_7_1_r>0 if q_7_1_r<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,chicken,
 gen chicken=q_5_2_h>0 if q_5_2_h<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,computer,
 gen byte computer= q_7_1_h>0 if q_7_1_h<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,countrycode,
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,cow,
 gen cow=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,cpi,
 gen cpi=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,cpiperiod,
 gen cpiperiod=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,ed_mod_age,
 gen byte ed_mod_age=6
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,educat4,
 gen educat7=.
 replace educat7=1 if q_10_4==2
 replace educat7=2 if q_10_5==1 & q_10_6<6 & q_10_6!=.
 replace educat7=3 if (q_10_5==1 & q_10_6==6 )
 replace educat7=4 if q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat7=5 if q_10_5==3 & q_10_6==12
 replace educat7=7 if q_10_5>3 & q_10_5!=.
 replace educat7=2 if q_10_5==7
 replace educat7=6 if q_10_5==4 | q_10_5==5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7>=2 & educat7<=3
 replace educat4=3 if educat7>=4 & educat7<=5
 replace educat4=4 if educat7>=6 & educat7<=7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,educat5,
 gen educat5=.
 replace educat5=1 if q_10_4==2
 replace educat5=2 if q_10_5==1 & q_10_6<6 &q_10_6!=.
 replace educat5=3 if (q_10_5==1 & q_10_6==6 ) | q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat5=4 if q_10_5==3 & q_10_6==12
 replace educat5=5 if q_10_5>3 & q_10_5!=.
 replace educat5=2 if q_10_5==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,educat7,
 gen educat7=.
 replace educat7=1 if q_10_4==2
 replace educat7=2 if q_10_5==1 & q_10_6<6 & q_10_6!=.
 replace educat7=3 if (q_10_5==1 & q_10_6==6 )
 replace educat7=4 if q_10_5==2 | (q_10_5==3 & q_10_6<12 & q_10_6!=.)
 replace educat7=5 if q_10_5==3 & q_10_6==12
 replace educat7=7 if q_10_5>3 & q_10_5!=.
 replace educat7=2 if q_10_5==7
 replace educat7=6 if q_10_5==4 | q_10_5==5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,educy,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen educy = q_10_6
 replace educy=6 if q_10_5==2 & educy==0
 replace educy=9 if q_10_5==3 & educy==0
 replace educy=12 if q_10_5==4 & educy==0
 replace educy=12 if q_10_5==5 & educy==0
 replace educy=16 if q_10_5==6 & educy==0
 replace educy = 0 if q_10_4==2
 replace educy=. if educy>age+1 & educy<. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,electricity,"
 recode q_4_11_a (2=0), gen(electricity)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,empstat,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 recode q_11_13 (1/3=1) (5=3) (6=2), gen(empstat)
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,empstat_2_year,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=14
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,everattend,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen byte atschool= q_10_7
 replace atschool=0 if q_10_4==2
 replace atschool = . if age < 6
 replace atschool = . if age > 24
 gen byte everattend= q_10_4
 replace everattend = 1 if atschool==1
 replace everattend = . if age < 6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,fan,
 gen fan=q_7_1_j>0 if q_7_1_j<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,hsize,
 gen z=1
 *replace z=0 if q_3_3==11
 bys hhid: egen hsize=sum(z)
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,idh,
 ren hh_id hhid
 gen str idh = hhid
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,idp,
 gen idp= ind_id
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,industry,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen byte industry= q_11_19_b
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,int_month,
 gen int_month=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,int_year,
 gen int_year=2013 if q_2_1c==92 & (q_2_1b==9 | q_2_1b==10 & q_2_1a<=10)
 replace int_year=2014 if int_year==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,internet,
 gen byte internet= q_7_5
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,lamp,
 gen lamp=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,lb_mod_age,
gen byte lb_mod_age=14
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,literacy,
 gen byte age= q_3_4
 replace age=98 if age>=98 & age!=.
 gen byte literacy= q_10_2
 replace literacy=. if age<6
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,lphone,
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,lstatus,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,male,
 gen byte male= q_3_5
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,marital,
 gen byte marital= q_3_6
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,motorcar,
 gen motorcar=q_7_1_m>0 if q_7_1_m<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,motorcycle,
 gen motorcycle=q_7_1_l>0 if q_7_1_l<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,njobs,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,nlfreason,
 gen byte njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,occup,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen occup=q_11_20_b
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,ocusec,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen byte ocusec=1 if q_11_13==3
 replace ocusec=2 if q_11_13==2
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if inlist( q_4_6,1,2,3,5,7)
 replace ownhouse=0 if inlist( q_4_6,4,6,8,9)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,piped_water,"
recode q_4_18 (1/2=1) (nonmis=0), gen(piped_water)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,pline_int,
 gen pline_int=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,pline_nat,
 gen pline_nat=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,poor_int,
 gen poor_int=.
 replace poor_int=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,poor_nat,
 gen poor_nat=.
 replace poor_nat=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,pop_wgt,
 gen double wgt= hh_weight
 gen z=1
 *replace z=0 if q_3_3==11
 bys hhid: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,psu,
 gen psu= q_1_4
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,radio,
 gen radio=q_7_1_e>0 if q_7_1_e<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,rbirth,
 gen byte rbirth=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,refrigerator,
 gen refrigerator=q_7_1_a>0 if q_7_1_a<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,relationcs,
 gen byte relationcs=q_3_3
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,relationharm,
 gen byte relationharm=q_3_3
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,rprevious,
 gen byte rprevious=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,sar_improved_toilet,"
gen toilet_jmp=.
replace toilet_jmp=7 if inlist(q_4_16,1)
replace toilet_jmp=8 if inlist(q_4_16,2)
replace toilet_jmp=6 if inlist(q_4_16,3)
replace toilet_jmp=1 if inlist(q_4_16,4)
replace toilet_jmp=2 if inlist(q_4_16,5)
replace toilet_jmp=12 if inlist(q_4_16,6)
replace toilet_jmp=13 if inlist(q_4_16,7)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)
replace sar_improved_toilet=0 if q_4_17==1"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(q_4_18,1)
replace water_jmp=3 if inlist(q_4_18,2)
replace water_jmp=4 if inlist(q_4_18,3,4)
replace water_jmp=7 if inlist(q_4_18,5)
replace water_jmp=8 if inlist(q_4_18,6)
replace water_jmp=12 if inlist(q_4_18,7)
replace water_jmp=10 if inlist(q_4_18,8)
replace water_jmp=14 if inlist(q_4_18,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,sewage_toilet,"
 recode q_4_16 (4=1) (1 2 3 5 6 7=0), gen(sewage_toilet)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,sewingmachine,
 gen sewingmachine=q_7_1_c>0 if q_7_1_c<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,soc,
 gen byte soc=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,spdef,
 gen spdef=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,strata,
 gen strata= q_1_1
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,subnatid1,"
 recode q_1_1a (6=10) (7=12) (8=33) (9=16) (10=32) (11=6) (12=7) (13=8) (14=9) (15=11) (16=13) (17=14) (18=15) (19=17) (20=18) (21=19) (22=21) (23=31) (24=34) (25=30) (26=29) (27=28) (28=20) (29=22) (30=27) (31=23) (32=24) (33=25) (34=26), gen(subnatid1)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,subnatid2,
 gen byte subnatid2=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,subnatid3,
 gen byte subnatid3=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,survey,
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,television,
 gen television=q_7_1_f>0 if q_7_1_f<.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=7 if inlist(q_4_16,1)
replace toilet_jmp=8 if inlist(q_4_16,2)
replace toilet_jmp=6 if inlist(q_4_16,3)
replace toilet_jmp=1 if inlist(q_4_16,4)
replace toilet_jmp=2 if inlist(q_4_16,5)
replace toilet_jmp=12 if inlist(q_4_16,6)
replace toilet_jmp=13 if inlist(q_4_16,7)
replace toilet_jmp=."
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,toilet_orig,
gen toilet_orig=q_4_16
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,unitwage,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen wage=q_11_14 if q_11_13==1
 replace wage=q_11_15 if inlist(q_11_13,2,3)
 replace wage=q_11_16 if inlist(q_11_13,4,5)
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=. if wage==.a
 gen byte unitwage=q_11_13
 replace unitwage=. if lstatus!=1
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,urban,"
 recode q_1_5 (2=0)(3=0), gen(urban)"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,veralt,
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,vermast,
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,wage,"
 gen wage=q_11_14 if q_11_13==1
 replace wage=q_11_15 if inlist(q_11_13,2,3)
 replace wage=q_11_16 if inlist(q_11_13,4,5)
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=. if wage==.a
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,washingmachine,
 gen washingmachine=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(q_4_18,1)
replace water_jmp=3 if inlist(q_4_18,2)
replace water_jmp=4 if inlist(q_4_18,3,4)
replace water_jmp=7 if inlist(q_4_18,5)
replace water_jmp=8 if inlist(q_4_18,6)
replace water_jmp=12 if inlist(q_4_18,7)
replace water_jmp=10 if inlist(q_4_18,8)
replace water_jmp=14 if inlist(q_4_18,9)
replace water_jmp=."
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,water_orig,
gen water_orig=q_4_18
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfare,"
 gen welfare=.
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }
 foreach w in welfare welfareother {

  qui su `w'
  if r(N)==0 {

   drop `w'type

  }"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfaredef,
 gen welfaredef=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfarenat,
 gen welfarenat=.
 replace welfarenat=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfarenom,
 gen welfarenom=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfareother,"
 gen welfareother=.
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }
 foreach w in welfare welfareother {

  qui su `w'
  if r(N)==0 {

   drop `w'type

  }"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfareothertype,"
 gen welfareothertype=.
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfaretype,
 gen welfaretype=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,welfshprosperity,
 gen welfshprosperity=.
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,wgt,
 gen double wgt= hh_weight
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,whours,"
 gen lstatus=1 if inlist(1, q_11_2, q_11_3, q_11_4, q_11_5, q_11_6)
 replace lstatus=1 if q_11_8==1
 replace lstatus=2 if q_11_11==1 | q_11_12==8 | q_11_12==9
 replace lstatus=3 if q_11_11==2 | q_11_11==2
 replace lstatus=. if age<14
 gen whours = ( q_11_17 * q_11_18)
 replace whours = . if lstatus != 1
 replace whours = 96 if whours > 96 & whours < .
 replace whours = . if whours > 168
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup_orig occup industry_orig industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,year,
 gen int year=2013
afg_2013_lcs_v01_m_v03_a_sarmd,AFG,2013,LCS,v01,v03,yrmove,
 gen int yrmove=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,age,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,atschool,
 gen byte atschool=s3b01
 replace atschool =. if age<5
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,bicycle,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,buffalo,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,cellphone,
 gen byte cellphone=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,chicken,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,computer,
 gen byte computer= .
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,contract,
 gen byte contract=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,countrycode,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,cow,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,educat4,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte educat4=educat7
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,educat5,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,educat7,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,educy,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,electricity,
 gen byte electricity=s208
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,empstat,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a06==1
 replace empstat=4 if s5a06>=2 & s5a06<=3
 replace empstat=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,empstat_2,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,empstat_2_year,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,everattend,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,fan,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,healthins,
 gen byte healthins=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,hsize,
 ren hhsize hsize
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,idh,"
 tostring hhcode, gen(idh)"
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,idp,"
 tostring hhcode, gen(idh)
 egen idp=concat(idh idcode), punct(-)"
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,industry,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte industry=s5a01c
 replace industry=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,industry_2,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,industry_orig_2,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,int_month,
 gen byte int_month=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,int_year,
 gen byte int_year=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,internet,
 gen byte internet=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,lamp,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=5
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,literacy,
 gen byte literacy=.
 replace literacy=1 if s3a01==1 & s3a02==1
 replace literacy=0 if s3a01==2 | s3a02==2
 replace literacy =. if age<5
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,lphone,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,lstatus,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,male,
 gen byte male=sex
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,marital,
 gen byte marital=mstatus
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,motorcar,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,motorcycle,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,njobs,
 bys hhcode idcode: egen njobs=max(n)
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,occup,"
 gen occup= 1 if inrange(s5a01b,20,30) | s5a01b==40
 replace occup= 2 if inlist(s5a01b,2,4,6) |inrange(s5a01b,8,13)|inrange(s5a01b,15,19)
 replace occup= 3 if inlist(s5a01b,1,3,5,7,14)
 replace occup= 4 if inrange(s5a01b,31,33) | s5a01b==39
 replace occup= 5 if inrange(s5a01b,50,59)
 replace occup=6 if inrange(s5a01b,60,66)
 replace occup=7 if inrange(s5a01b,40,46) | s5a01b==49
 replace occup=8 if inrange(s5a01b,34,38) |inrange(s5a01b,70,86)
 replace occup=9 if inrange(s5a01b,87,99)
 replace occup=. if lstatus==2| lstatus==3"
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,ocusec,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=s5b07
 replace ocusec=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,ownhouse,
 gen byte ownhouse=s211
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,piped_water,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,pline_nat,
 gen pline_nat=zu00
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,poor_int,
 ren pcexp pcexp2
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,poor_nat,
 ren pcexp pcexp2
 gen welfare=pcexp
 gen pline_nat=zu00
 gen poor_nat=welfare<pline_nat & welfare!=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,pop_wgt,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,psu,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,radio,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,rbirth,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,rbirth_juris,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,refrigerator,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,relationcs,
 gen byte relationcs=relation
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,relationharm,
 gen byte relationharm=relation
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,rprevious,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,rprevious_juris,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,sar_improved_toilet,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,sar_improved_water,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,sewage_toilet,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,sewingmachine,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,soc,
 gen byte soc=religion
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,socialsec,
 gen byte socialsec=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,spdef,
 gen spdef=zu00
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,strata,"
 destring stratum, gen(strata)"
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,subnatid1,
 gen byte subnatid1=area
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,subnatid2,
 gen byte subnatid2=district
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,survey,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,television,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,toilet_jmp,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,toilet_orig,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,union,
 gen byte union=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,unitwage,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a06==1
 replace empstat=4 if s5a06>=2 & s5a06<=3
 replace empstat=. if lstatus==2| lstatus==3
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s5b02==wage
 replace unitwage=5 if s5b08==wage
 replace unitwage=. if lstatus!=1
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,unitwage_2,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,urban,
 gen byte urban=urbrural
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,veralt,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,vermast,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,wage,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a06==1
 replace empstat=4 if s5a06>=2 & s5a06<=3
 replace empstat=. if lstatus==2| lstatus==3
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,wage_2,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,washingmachine,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,water_jmp,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,water_orig,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfare,
 ren pcexp pcexp2
 gen welfare=pcexp
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfaredef,
 ren pcexp pcexp2
 gen welfaredef=pcexp
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfarenat,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfarenom,
 gen welfarenom=.
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfareother,
 ren hhsize hsize
 gen welfareother=(income/12)/hsize
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfareothertype,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfaretype,
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,welfshprosperity,
 ren pcexp pcexp2
 gen welfaredef=pcexp
 gen welfshprosperity=welfaredef
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,wgt,
 drop year wgt
 gen double wgt=hhwght
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,whours,
 gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen whours=int(s5a04*s5a03)/4.25
 replace whours=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,year,
 drop if year!=3
 drop year month
 drop year wgt
 gen int year=2000
 local year=2005
bgd_2000_hies_v01_m_v01_a_sarmd,BGD,2000,HIES,v01,v01,yrmove,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,age,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,atschool,
 gen byte atschool=s3b01
 replace atschool =. if age<5
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,bicycle,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,buffalo,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,cellphone,
 gen byte cellphone=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,chicken,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,computer,
 gen byte computer= .
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,contract,
 gen byte contract=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,countrycode,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,cow,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,educat4,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte educat4=educat7
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,educat5,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,educat7,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,educy,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,electricity,
 gen byte electricity=s208
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,empstat,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a06==1
 replace empstat=4 if s5a06>=2 & s5a06<=3
 replace empstat=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,empstat_2,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,empstat_2_year,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,everattend,
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3a04==. & s3b02!=.
 replace educy=20 if s3b02==17
 replace educy=18 if s3b02==16
 replace educy=0 if educy==-1
 replace educy=0 if s3b02==1
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,fan,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,healthins,
 gen byte healthins=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,hsize,
 ren hhsize hsize
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,idh,"
 tostring hhcode, gen(idh)"
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,idp,"
 tostring hhcode, gen(idh)
 egen idp=concat(idh idcode), punct(-)"
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,industry,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte industry=s5a01c
 replace industry=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,industry_2,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,industry_orig_2,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,int_month,
 gen byte int_month=month
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,int_year,
 gen byte int_year=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,internet,
 gen byte internet=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,lamp,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=5
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,literacy,
 gen byte literacy=.
 replace literacy=1 if s3a01==1 & s3a02==1
 replace literacy=0 if s3a01==2 | s3a02==2
 replace literacy =. if age<5
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,lphone,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,lstatus,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,male,
 gen byte male=sex
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,marital,
 gen byte marital=mstatus
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,motorcar,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,motorcycle,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,njobs,
 bys hhcode idcode: egen njobs=max(n)
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,occup,"
 gen occup= 1 if inrange(s5a01b,20,30) | s5a01b==40
 replace occup= 2 if inlist(s5a01b,2,4,6) |inrange(s5a01b,8,13)|inrange(s5a01b,15,19)
 replace occup= 3 if inlist(s5a01b,1,3,5,7,14)
 replace occup= 4 if inrange(s5a01b,31,33) | s5a01b==39
 replace occup= 5 if inrange(s5a01b,50,59)
 replace occup=6 if inrange(s5a01b,60,66)
 replace occup=7 if inrange(s5a01b,40,46) | s5a01b==49
 replace occup=8 if inrange(s5a01b,34,38) |inrange(s5a01b,70,86)
 replace occup=9 if inrange(s5a01b,87,99)
 replace occup=. if lstatus==2| lstatus==3"
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,ocusec,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=s5b07
 replace ocusec=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,ownhouse,
 gen byte ownhouse=s211
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,piped_water,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,pline_nat,
 gen pline_nat=zu00
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu00
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,pop_wgt,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,psu,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,radio,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,rbirth,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,rbirth_juris,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,refrigerator,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,relationcs,
 gen byte relationcs=relation
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,relationharm,
 gen byte relationharm=relation
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,rprevious,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,rprevious_juris,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,sar_improved_toilet,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,sar_improved_water,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,sewage_toilet,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,sewingmachine,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,soc,
 gen byte soc=religion
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,socialsec,
 gen byte socialsec=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,spdef,
 gen spdef=zu00
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,strata,"
 destring stratum, gen(strata)"
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,subnatid1,
 gen byte subnatid1=area
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,subnatid2,
 gen byte subnatid2=district
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,survey,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,television,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,toilet_jmp,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,toilet_orig,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,union,
 gen byte union=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,unitwage,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a06==1
 replace empstat=4 if s5a06>=2 & s5a06<=3
 replace empstat=. if lstatus==2| lstatus==3
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s5b02==wage
 replace unitwage=5 if s5b08==wage
 replace unitwage=. if lstatus!=1
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,unitwage_2,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,urban,
 gen byte urban=urbrural
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,veralt,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,vermast,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,wage,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a06==1
 replace empstat=4 if s5a06>=2 & s5a06<=3
 replace empstat=. if lstatus==2| lstatus==3
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,wage_2,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,washingmachine,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,water_jmp,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,water_orig,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfare,
 gen welfare=pcexp
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfaredef,
 gen welfaredef=.
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfarenom,
 gen welfarenom=pcexp
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfareother,
 ren hhsize hsize
 gen welfareother=(income/12)/hsize
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfareothertype,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfaretype,
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,wgt,
 drop year wgt
 gen double wgt=hhwght
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,whours,
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if s1b01==2
 replace lstatus=3 if lstatus==2 & s1b02==2
 replace lstatus=3 if s1b03==2
 replace lstatus=1 if s1b04==6 | s1b04==8
 replace lstatus=. if age<lb_mod_age
 gen whours=int(s5a04*s5a03)/4.25
 replace whours=. if lstatus==2| lstatus==3
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,year,
 drop year wgt
 gen int year=2000
 local year=2005
bgd_2000_hies_v01_m_v02_a_sarmd,BGD,2000,HIES,v01,v02,yrmove,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte atschool=s3b01
 replace atschool =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,bicycle,
 gen bicycle=numberBicycle____544>0 & numberBicycle____544<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,buffalo,
 gen buffalo=numBuffalo204>0 & numBuffalo204<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,cellphone,
 gen cellphone=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,chicken,
 gen chicken=numChicken206>0 & numChicken206<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,computer,
 gen computer=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,countrycode,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,cow,
 gen cow=numCattle201>0 & numCattle201<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,educat4,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,educat5,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,educat7,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,educy,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,electricity,
 gen byte electricity=s208
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,empstat_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,empstat_2_year,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,fan,
 gen fan= numberFans_______549>0 & numberFans_______549<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,hsize,
 ren hhsize hsize
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,idh,"
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 reshape wide number , i(hhcode ) j(codeit1) string
 ren s7c01a num
 reshape wide num, i( hhcode ) j(anim2) string
 tostring hhcode, gen(idh)"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,idp,"
 drop if idcode==.
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 reshape wide number , i(hhcode ) j(codeit1) string
 ren s7c01a num
 reshape wide num, i( hhcode ) j(anim2) string
 tostring hhcode, gen(idh)
 egen idp=concat(idh idcode), punct(-)"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte industry=s5a01c1
 replace industry=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,industry_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte industry_2=s5a01c2
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,industry_orig_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen industry_orig_2=s5a01c2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,int_month,
 gen byte int_month=month
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,int_year,
 gen byte int_year=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,internet,
 gen byte internet=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,lamp,
 gen lamp=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=5
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte literacy=.
 replace literacy=1 if s3a01==1 & s3a02==1
 replace literacy=0 if s3a01==2 | s3a02==2
 replace literacy =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,lphone,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,male,
 gen byte male=sex
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,marital,
 gen byte marital=mstatus
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,motorcar,
 gen motorcar= numberMotor_car_e546>0 & numberMotor_car_e546<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,motorcycle,
 gen motorcycle=numberMotorcycle_545>0 & numberMotorcycle_545<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,njobs,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,occup,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=s5b071
 replace ocusec=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,ownhouse,
 gen byte ownhouse=s211
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,piped_water,
gen piped_water= s206==1 if s206!=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,pline_nat,
 gen pline_nat=zu00
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu00
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,pop_wgt,
 drop year wgt
 gen double wgt=hhwght
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,psu,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,radio,
 gen radio= numberRadio______541>0 & !mi(numberRadio______541)
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,rbirth,
 gen byte rbirth=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,refrigerator,
 gen refrigerator=numberRefrigerato547>0 & numberRefrigerato547<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,relationcs,
 gen byte relationcs=relation
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,relationharm,
 gen byte relationharm=relation
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,rprevious,
 gen byte rprevious=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(s205,1,2,3)
replace sar_improved_toilet=0 if inlist(s205,4,5,6)"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if s206==1
replace water_jmp=4 if s206==2
replace water_jmp=12 if s206==3
replace water_jmp=14 if s206==4
replace water_jmp=14 if s206==5
replace water_jmp=14 if s206==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,sewage_toilet,
gen sewage_toilet=s205
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,sewingmachine,
 gen sewingmachine=numberSewing_mach556>0 & numberSewing_mach556<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,soc,
 gen byte soc=religion
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,spdef,
 gen spdef=zu00
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,strata,"
 destring stratum, gen(strata)"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,subnatid1,"
 gen byte subnatid1=.
replace division=60 if region==90
replace division=55 if inlist(region, 35, 85)
replace subnatid1=division"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,subnatid2,
 gen byte subnatid2=district
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,survey,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,television,
 gen television= numberTelevision_552>0 & numberTelevision_552<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=14 if inrange(s205,1,5)
replace toilet_jmp=12 if s205==6"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,toilet_orig,
gen toilet_orig=s205
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
 gen double wage=.
 replace wage=s5b081 if s5b081>=0 & s5b081!=.
 replace wage=s5b021 if s5b021>=0 & s5b021!=. & wage!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s5b021==wage & wage!=.
 replace unitwage=5 if s5b081==wage & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,unitwage_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s5b082 if s5b082>=0 & s5b082~=.
 replace wage_2=s5b022 if s5b022>=0 & s5b022~=.
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=1 if s5b022==wage_2 & wage_2!=.
 replace unitwage_2=5 if s5b082==wage_2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,urban,
 gen byte urban=urbrural
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,veralt,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,vermast,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
 gen double wage=.
 replace wage=s5b081 if s5b081>=0 & s5b081!=.
 replace wage=s5b021 if s5b021>=0 & s5b021!=. & wage!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,wage_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s5b082 if s5b082>=0 & s5b082~=.
 replace wage_2=s5b022 if s5b022>=0 & s5b022~=.
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,washingmachine,
 gen washingmachine=numberWashing_mac548>0 & numberWashing_mac548<.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,water_jmp,
gen water_jmp=.
replace water_jmp=1 if s206==1
replace water_jmp=4 if s206==2
replace water_jmp=12 if s206==3
replace water_jmp=14 if s206==4
replace water_jmp=14 if s206==5
replace water_jmp=14 if s206==6
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,water_orig,
gen water_orig=s206
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfare,
 gen welfare=pcexp
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfaredef,
 gen welfaredef=.
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfarenom,
 gen welfarenom=pcexp
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfareother,
 ren hhsize hsize
 gen welfareother=(income/12)/hsize
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfareothertype,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfaretype,
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,wgt,
 drop year wgt
 gen double wgt=hhwght
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen whours=int(s5a041*s5a031)/4.25
 replace whours=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,year,
 drop year wgt
 gen int year=2000
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2000_hies_v01_m_v03_a_sarmd,BGD,2000,HIES,v01,v03,yrmove,
 gen int yrmove=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte atschool=s3b01
 replace atschool =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,bicycle,
 gen bicycle=numberBicycle____544>0 & numberBicycle____544<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,buffalo,
 gen buffalo=numBuffalo204>0 & numBuffalo204<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,cellphone,
 gen cellphone=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,chicken,
 gen chicken=numChicken206>0 & numChicken206<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,computer,
 gen computer=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,countrycode,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,cow,
 gen cow=numCattle201>0 & numCattle201<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,cpi,
 ren cpi`year'_w cpi
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,cpiperiod,
 gen cpiperiod=syear
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,educat4,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,educat5,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,educat7,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,educy,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,electricity,
 gen byte electricity=s208
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,empstat_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,empstat_2_year,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,fan,
 gen fan= numberFans_______549>0 & numberFans_______549<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,hsize,
 ren hhsize hsize
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,idh,"
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 reshape wide number , i(hhcode ) j(codeit1) string
 ren s7c01a num
 reshape wide num, i( hhcode ) j(anim2) string
 tostring hhcode, gen(idh)"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,idp,"
 drop if idcode==.
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 reshape wide number , i(hhcode ) j(codeit1) string
 ren s7c01a num
 reshape wide num, i( hhcode ) j(anim2) string
 tostring hhcode, gen(idh)
 egen idp=concat(idh idcode), punct(-)"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte industry=s5a01c1
 replace industry=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,industry_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte industry_2=s5a01c2
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,industry_orig_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen industry_orig_2=s5a01c2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,int_month,
 gen byte int_month=month
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,int_year,
 gen byte int_year=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,internet,
 gen byte internet=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,lamp,
 gen lamp=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,lb_mod_age,
gen byte lb_mod_age=5
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte literacy=.
 replace literacy=1 if s3a01==1 & s3a02==1
 replace literacy=0 if s3a01==2 | s3a02==2
 replace literacy =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,lphone,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,male,
 gen byte male=sex
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,marital,
 gen byte marital=mstatus
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,motorcar,
 gen motorcar= numberMotor_car_e546>0 & numberMotor_car_e546<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,motorcycle,
 gen motorcycle=numberMotorcycle_545>0 & numberMotorcycle_545<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,njobs,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,occup,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=s5b071
 replace ocusec=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,ownhouse,
 gen byte ownhouse=s211
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,piped_water,
gen piped_water= s206==1 if s206!=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,pline_nat,
 gen pline_nat=zu00
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu00
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,pop_wgt,
 drop year wgt
 gen double wgt=hhwght
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,psu,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,radio,
 gen radio= numberRadio______541>0 & !mi(numberRadio______541)
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,rbirth,
 gen byte rbirth=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,refrigerator,
 gen refrigerator=numberRefrigerato547>0 & numberRefrigerato547<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,relationcs,
 gen byte relationcs=relation
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,relationharm,
 gen byte relationharm=relation
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,rprevious,
 gen byte rprevious=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(s205,1,2,3)
replace sar_improved_toilet=0 if inlist(s205,4,5,6)"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if s206==1
replace water_jmp=4 if s206==2
replace water_jmp=12 if s206==3
replace water_jmp=14 if s206==4
replace water_jmp=14 if s206==5
replace water_jmp=14 if s206==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,sewage_toilet,
gen sewage_toilet=s205
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,sewingmachine,
 gen sewingmachine=numberSewing_mach556>0 & numberSewing_mach556<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,soc,
 gen byte soc=religion
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,spdef,
 gen spdef=zu00
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,strata,"
 destring stratum, gen(strata)"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,subnatid1,"
 gen byte subnatid1=.
replace division=60 if region==90
replace division=55 if inlist(region, 35, 85)
replace subnatid1=division"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,subnatid2,
 gen byte subnatid2=district
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,subnatid3,
 gen byte subnatid3=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,survey,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,television,
 gen television= numberTelevision_552>0 & numberTelevision_552<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=14 if inrange(s205,1,5)
replace toilet_jmp=12 if s205==6"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,toilet_orig,
gen toilet_orig=s205
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
 gen double wage=.
 replace wage=s5b081 if s5b081>=0 & s5b081!=.
 replace wage=s5b021 if s5b021>=0 & s5b021!=. & wage!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s5b021==wage & wage!=.
 replace unitwage=5 if s5b081==wage & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,unitwage_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s5b082 if s5b082>=0 & s5b082~=.
 replace wage_2=s5b022 if s5b022>=0 & s5b022~=.
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=1 if s5b022==wage_2 & wage_2!=.
 replace unitwage_2=5 if s5b082==wage_2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,urban,
 gen byte urban=urbrural
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,veralt,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,vermast,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
 gen double wage=.
 replace wage=s5b081 if s5b081>=0 & s5b081!=.
 replace wage=s5b021 if s5b021>=0 & s5b021!=. & wage!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,wage_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s5b082 if s5b082>=0 & s5b082~=.
 replace wage_2=s5b022 if s5b022>=0 & s5b022~=.
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,washingmachine,
 gen washingmachine=numberWashing_mac548>0 & numberWashing_mac548<.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,water_jmp,
gen water_jmp=.
replace water_jmp=1 if s206==1
replace water_jmp=4 if s206==2
replace water_jmp=12 if s206==3
replace water_jmp=14 if s206==4
replace water_jmp=14 if s206==5
replace water_jmp=14 if s206==6
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,water_orig,
gen water_orig=s206
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfare,
 gen welfare=pcexp
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfaredef,
 gen welfaredef=.
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfarenom,
 gen welfarenom=pcexp
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfareother,
 ren hhsize hsize
 gen welfareother=(income/12)/hsize
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfareothertype,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfaretype,
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,wgt,
 drop year wgt
 gen double wgt=hhwght
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen whours=int(s5a041*s5a031)/4.25
 replace whours=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,year,
 drop year wgt
 gen int year=2000
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2000_hies_v01_m_v04_a_sarmd,BGD,2000,HIES,v01,v04,yrmove,
 gen int yrmove=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte atschool=s3b01
 replace atschool =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,bicycle,
 gen bicycle=numberBicycle____544>0 & numberBicycle____544<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,buffalo,
 gen buffalo=numBuffalo204>0 & numBuffalo204<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,cellphone,
 gen cellphone=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,chicken,
 gen chicken=numChicken206>0 & numChicken206<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,computer,
 gen computer=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,countrycode,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,cow,
 gen cow=numCattle201>0 & numCattle201<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,cpi,
 ren cpi`year'_w cpi
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,cpiperiod,
 gen cpiperiod=syear
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,educat4,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,educat5,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,educat7,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,educy,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,electricity,
 gen byte electricity=s208
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,empstat_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,empstat_2_year,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte educy=s3a04
 replace educy=s3b02 if educy==. & s3b02!=.
 replace educy=educy-1 if s3b02<=11 & s3a04==.
 replace educy=. if age<5
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s3a04==17 | s3b02==17
 replace educat7=. if age<5
 gen byte educat4=educat7
 gen byte everattend=1 if educat4>1 & educat4!=.
 replace everattend=0 if educat4==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,fan,
 gen fan= numberFans_______549>0 & numberFans_______549<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,hsize,
 ren hhsize hsize
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,idh,"
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 reshape wide number , i(hhcode ) j(codeit1) string
 ren s7c01a num
 reshape wide num, i( hhcode ) j(anim2) string
 tostring hhcode, gen(idh)"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,idp,"
 drop if idcode==.
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 reshape wide number , i(hhcode ) j(codeit1) string
 ren s7c01a num
 reshape wide num, i( hhcode ) j(anim2) string
 tostring hhcode, gen(idh)
 egen idp=concat(idh idcode), punct(-)"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte industry=s5a01c1
 replace industry=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,industry_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte industry_2=s5a01c2
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,industry_orig_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen industry_orig_2=s5a01c2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,int_month,
 gen byte int_month=month
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,int_year,
 gen byte int_year=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,internet,
 gen byte internet=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,lamp,
 gen lamp=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,lb_mod_age,
gen byte lb_mod_age=5
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte literacy=.
 replace literacy=1 if s3a01==1 & s3a02==1
 replace literacy=0 if s3a01==2 | s3a02==2
 replace literacy =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,lphone,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,male,
 gen byte male=sex
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,marital,
 gen byte marital=mstatus
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,motorcar,
 gen motorcar= numberMotor_car_e546>0 & numberMotor_car_e546<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,motorcycle,
 gen motorcycle=numberMotorcycle_545>0 & numberMotorcycle_545<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,njobs,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,occup,
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=s1b04
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=s5b071
 replace ocusec=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,ownhouse,
 gen byte ownhouse=s211
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,piped_water,
gen piped_water= s206==1 if s206!=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,pline_nat,
 gen pline_nat=zu00
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu00
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,pop_wgt,
 drop year wgt
 gen double wgt=hhwght
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,psu,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,radio,
 gen radio= numberRadio______541>0 & !mi(numberRadio______541)
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,rbirth,
 gen byte rbirth=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,refrigerator,
 gen refrigerator=numberRefrigerato547>0 & numberRefrigerato547<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,relationcs,
 gen byte relationcs=relation
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,relationharm,
 gen byte relationharm=relation
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,rprevious,
 gen byte rprevious=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(s205,1,2,3)
replace sar_improved_toilet=0 if inlist(s205,4,5,6)"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if s206==1
replace water_jmp=4 if s206==2
replace water_jmp=12 if s206==3
replace water_jmp=14 if s206==4
replace water_jmp=14 if s206==5
replace water_jmp=14 if s206==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,sewage_toilet,
gen sewage_toilet=s205
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,sewingmachine,
 gen sewingmachine=numberSewing_mach556>0 & numberSewing_mach556<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,soc,
 gen byte soc=religion
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,spdef,
 gen spdef=zu00
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,strata,"
 destring stratum, gen(strata)"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,subnatid1,"
 gen byte subnatid1=.
replace division=60 if region==90
replace division=55 if inlist(region, 35, 85)
replace subnatid1=division"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,subnatid2,
 gen byte subnatid2=district
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,subnatid3,
 gen byte subnatid3=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,survey,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,television,
 gen television= numberTelevision_552>0 & numberTelevision_552<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=14 if inrange(s205,1,5)
replace toilet_jmp=12 if s205==6"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,toilet_orig,
gen toilet_orig=s205
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
 gen double wage=.
 replace wage=s5b081 if s5b081>=0 & s5b081!=.
 replace wage=s5b021 if s5b021>=0 & s5b021!=. & wage!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s5b021==wage & wage!=.
 replace unitwage=5 if s5b081==wage & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,unitwage_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s5b082 if s5b082>=0 & s5b082~=.
 replace wage_2=s5b022 if s5b022>=0 & s5b022~=.
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=1 if s5b022==wage_2 & wage_2!=.
 replace unitwage_2=5 if s5b082==wage_2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,urban,
 gen byte urban=urbrural
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,veralt,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,vermast,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=.
 replace empstat=1 if s5a061==1
 replace empstat=4 if s5a061>=2 & s5a061<=3
 replace empstat=. if lstatus==2| lstatus==3
 gen double wage=.
 replace wage=s5b081 if s5b081>=0 & s5b081!=.
 replace wage=s5b021 if s5b021>=0 & s5b021!=. & wage!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,wage_2,"
 bys hhcode idcode: egen njobs=max(n)
 reshape wide s5a01b s5a01c s5a03 s5a02 s5a04 s5a06 s5b02 s5b07 s5b08, i(hhcode idcode) j(n)
 replace njobs=njobs-1
 drop animcode
 drop animal
 ren s7c01a num
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s5a062==1
 replace empstat_2=4 if s5a062>=2 & s5a062<=3
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s5b082 if s5b082>=0 & s5b082~=.
 replace wage_2=s5b022 if s5b022>=0 & s5b022~=.
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,washingmachine,
 gen washingmachine=numberWashing_mac548>0 & numberWashing_mac548<.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,water_jmp,
gen water_jmp=.
replace water_jmp=1 if s206==1
replace water_jmp=4 if s206==2
replace water_jmp=12 if s206==3
replace water_jmp=14 if s206==4
replace water_jmp=14 if s206==5
replace water_jmp=14 if s206==6
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,water_orig,
gen water_orig=s206
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfare,
 gen welfare=pcexp
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfaredef,
 gen welfaredef=.
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfarenom,
 gen welfarenom=pcexp
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfareother,
 ren hhsize hsize
 gen welfareother=(income/12)/hsize
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfareothertype,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfaretype,
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,wgt,
 drop year wgt
 gen double wgt=hhwght
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if s1b01==1
 replace lstatus=2 if (s1b01==2 & s1b03==1)
 replace lstatus=3 if s1b01==2 & (s1b02==2 | s1b03==2)
 replace lstatus=2 if s1b04==9
 replace lstatus=. if age<lb_mod_age
 gen whours=int(s5a041*s5a031)/4.25
 replace whours=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,year,
 drop year wgt
 gen int year=2000
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2000_hies_v01_m_v05_a_sarmd,BGD,2000,HIES,v01,v05,yrmove,
 gen int yrmove=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,age,
 gen byte age= q04_1a
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,atschool,
 gen byte age= q04_1a
 replace atschool =. if age<5
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,bicycle,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,buffalo,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,cellphone,
 gen byte cellphone=q14_2
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,chicken,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,computer,
 gen byte computer= q15_2
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,contract,
 gen byte contract=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,countrycode,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,cow,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,educat4,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,educat5,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,educat7,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,educy,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,electricity,
 gen byte electricity=q12_2
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,empstat,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a if q06_5a==1
 replace empstat=q08_5a if q06_5a==2
 replace empstat=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,empstat_2,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,empstat_2_year,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,everattend,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,fan,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,healthins,
 gen byte healthins=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,hsize,
 gen int year=2005
 bys idh: egen hsize=count(year)
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,idh,"
 gen idh=hhold
 drop if idh=="""" & RELATION==."
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,idp,
 gen idh=hhold
 egen idp=concat(idh idc)
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,industry,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte industry=q01c_5a
 replace industry=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,industry_2,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,industry_orig_2,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,int_month,
 gen byte int_month=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,int_year,
 gen byte int_year=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,internet,
 gen byte internet=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,lamp,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=5
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,literacy,
 gen byte age= q04_1a
 gen byte literacy=1 if q01_3a==1 & q02_3a==1
 replace literacy=0 if literacy!=1 & (q01_3a!=. | q02_3a!=.)
 replace literacy =. if age<5
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,lphone,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,lstatus,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,male,
 gen byte male=q02_1a
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,marital,
 gen byte marital=q06_1a
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,motorcar,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,motorcycle,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,njobs,
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 bys hhold idc: egen njobs=max(n)
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,nlfreason,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,occup,"
 gen occup= 1 if inrange(q01b_5a,20,30) | q01b_5a==40
 replace occup= 2 if inlist(q01b_5a,2,4,6) |inrange(q01b_5a,8,13)|inrange(q01b_5a,15,19)
 replace occup= 3 if inlist(q01b_5a,1,3,5,7,14)
 replace occup= 4 if inrange(q01b_5a,31,33) | q01b_5a==39
 replace occup= 5 if inrange(q01b_5a,50,59)
 replace occup=6 if inrange(q01b_5a,60,66)
 replace occup=7 if inrange(q01b_5a,40,46) | q01b_5a==49
 replace occup=8 if inrange(q01b_5a,34,38) |inrange(q01b_5a,70,86)
 replace occup=9 if inrange(q01b_5a,87,99)
 replace occup=. if lstatus==2| lstatus==3"
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,ocusec,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 replace ocusec=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,ownhouse,
 gen byte ownhouse=q18_2
 replace ownhouse=0 if q18_2>1 & q18_2<=6
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,piped_water,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,pline_nat,
 gen pline_nat=zu05
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,poor_nat,
 gen welfare=pcexp
 gen pline_nat=zu05
 gen poor_nat=welfare<pline_nat & welfare!=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,pop_wgt,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,psu,"
 drop psu
 gen psu=substr(hhold,1,3)"
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,radio,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,rbirth,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,rbirth_juris,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,refrigerator,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,relationcs,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,relationharm,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,rprevious,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,rprevious_juris,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,sar_improved_toilet,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,sar_improved_water,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,sewage_toilet,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,sewingmachine,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,soc,
 gen byte soc=q05_1a
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,socialsec,
 gen byte socialsec=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,spdef,
 gen spdef=zu05
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,strata,
 gen strata=stratum
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,subnatid1,"
 destring div, gen(subnatid1)
 replace subnatid1=55 if dis==85 | dis==27 | dis==49 | dis==32 | dis==73 | dis==77 | dis==94 | dis==52"
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,subnatid2,
 gen subnatid2=dis
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,survey,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,television,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,toilet_jmp,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,toilet_orig,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,union,
 gen byte union=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,unitwage,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte unitwage=.
 replace unitwage=1 if q01_5b==1
 replace unitwage=5 if q01_5b==2
 replace unitwage=. if lstatus!=1
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,unitwage_2,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,urban,
 bys idh: egen byte urban=max(rmo)
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,veralt,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,vermast,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,wage,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a if q06_5a==1
 replace empstat=q08_5a if q06_5a==2
 replace empstat=. if lstatus==2| lstatus==3
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,wage_2,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,washingmachine,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,water_jmp,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,water_orig,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfare,
 gen welfare=pcexp
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfaredef,
 gen welfaredef=pcexp
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfarenat,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfarenom,
 gen welfarenom=.
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfareother,
 gen welfareother=p_income
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfareothertype,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfaretype,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,welfshprosperity,
 gen welfaredef=pcexp
 gen welfshprosperity=welfaredef
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,wgt,
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,whours,
 gen byte age= q04_1a
 gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen whours=int(q04_5a*q03_5a)/4.25
 replace whours=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,year,
 gen int year=2005
 local year=2005
bgd_2005_hies_v01_m_v01_a_sarmd,BGD,2005,HIES,v01,v01,yrmove,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,age,
 gen byte age= q04_1a
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,atschool,
 gen byte age= q04_1a
 replace atschool =. if age<5
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,bicycle,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,buffalo,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,cellphone,
 gen byte cellphone=q14_2
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,chicken,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,computer,
 gen byte computer= q15_2
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,contract,
 gen byte contract=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,countrycode,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,cow,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,educat4,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,educat5,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,educat7,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,educy,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,electricity,
 gen byte electricity=q12_2
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,empstat,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a if q06_5a==1
 replace empstat=q08_5a if q06_5a==2
 replace empstat=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,empstat_2,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,empstat_2_year,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,everattend,
 gen byte age= q04_1a
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1!=. & q03_3a==.
 replace educy=0 if educy==-1
 replace educy=. if age<5
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,fan,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,healthins,
 gen byte healthins=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,hsize,
 drop year stratum div
 gen int year=2005
 bys idh: egen hsize=count(year)
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,idh,"
 drop if hhold==""2960509168"" & as==""B""
 ren id hhold
 gen idh=hhold"
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,idp,"
 drop if hhold==""2960509168"" & as==""B""
 ren id hhold
 gen idh=hhold
 egen idp=concat(idh idc)"
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,industry,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte industry=q01c_5a
 replace industry=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,industry_2,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,industry_orig_2,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,int_month,
 gen byte int_month=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,int_year,
 gen byte int_year=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,internet,
 gen byte internet=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,lamp,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=5
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,literacy,
 gen byte age= q04_1a
 gen byte literacy=1 if q01_3a==1 & q02_3a==1
 replace literacy=0 if literacy!=1 & (q01_3a!=. | q02_3a!=.)
 replace literacy =. if age<5
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,lphone,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,lstatus,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,male,
 gen byte male=q02_1a
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,marital,
 gen byte marital=q06_1a
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,motorcar,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,motorcycle,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,njobs,
 bys hhold idc: egen njobs=max(n)
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,nlfreason,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,occup,"
 gen occup= 1 if inrange(q01b_5a,20,30) | q01b_5a==40
 replace occup= 2 if inlist(q01b_5a,2,4,6) |inrange(q01b_5a,8,13)|inrange(q01b_5a,15,19)
 replace occup= 3 if inlist(q01b_5a,1,3,5,7,14)
 replace occup= 4 if inrange(q01b_5a,31,33) | q01b_5a==39
 replace occup= 5 if inrange(q01b_5a,50,59)
 replace occup=6 if inrange(q01b_5a,60,66)
 replace occup=7 if inrange(q01b_5a,40,46) | q01b_5a==49
 replace occup=8 if inrange(q01b_5a,34,38) |inrange(q01b_5a,70,86)
 replace occup=9 if inrange(q01b_5a,87,99)
 replace occup=. if lstatus==2| lstatus==3"
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,ocusec,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 replace ocusec=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,ownhouse,
 gen byte ownhouse=q18_2
 replace ownhouse=0 if q18_2>1 & q18_2<=6
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,piped_water,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,pline_nat,
 gen pline_nat=zu05
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu05
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,pop_wgt,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,psu,"
 drop if hhold==""2960509168"" & as==""B""
 ren id hhold
 drop psu
 gen psu=substr(hhold,1,3)"
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,radio,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,rbirth,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,rbirth_juris,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,refrigerator,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,relationcs,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,relationharm,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,rprevious,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,rprevious_juris,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,sar_improved_toilet,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,sar_improved_water,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,sewage_toilet,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,sewingmachine,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,soc,
 gen byte soc=q05_1a
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,socialsec,
 gen byte socialsec=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,spdef,
 gen spdef=zu05
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,strata,
 gen strata=strat05
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,subnatid1,"
 recode reg (5 75 = 10) (7 15 25 46 65 84 = 20) (30 40 42 48 60 95 = 30) (45 50 55 = 40) (10 35 70 80 85=50) (90 = 60), gen(subnatid1)
 replace subnatid1=55 if dis==85 | dis==27 | dis==49 | dis==32 | dis==73 | dis==77 | dis==94 | dis==52"
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,subnatid2,
 gen subnatid2=dis
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,survey,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,television,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,toilet_jmp,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,toilet_orig,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,union,
 gen byte union=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,unitwage,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte unitwage=.
 replace unitwage=1 if q01_5b==1
 replace unitwage=5 if q01_5b==2
 replace unitwage=. if lstatus!=1
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,unitwage_2,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,urban,
 gen urban=urbrural
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,veralt,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,vermast,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,wage,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a if q06_5a==1
 replace empstat=q08_5a if q06_5a==2
 replace empstat=. if lstatus==2| lstatus==3
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,wage_2,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,washingmachine,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,water_jmp,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,water_orig,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfare,
 gen welfare=pcexp
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfaredef,
 gen welfaredef=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfarenom,
 gen welfarenom=pcexp
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfareother,
 gen welfareother=.
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfareothertype,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfaretype,
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,wgt,
 drop wgt
 gen wgt=wgt05
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,whours,
 gen byte age= q04_1a
gen byte lb_mod_age=5
 gen byte lstatus=q01_1b
 replace lstatus=2 if lstatus!=1 &( (q01_1b==2 &q03_1b==1 & q02_1b==1) | (q02_1b==2 & q03_1b==.))
 replace lstatus=3 if q02_1b==2 | q03_1b==2
 replace lstatus=2 if lstatus==3 & (q04_1b==8 | q04_1b==8)
 replace lstatus=. if age<lb_mod_age
 replace lstatus=. if age<lb_mod_age
 gen whours=int(q04_5a*q03_5a)/4.25
 replace whours=. if lstatus==2| lstatus==3
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,year,
 drop year stratum div
 gen int year=2005
 local year=2005
bgd_2005_hies_v01_m_v02_a_sarmd,BGD,2005,HIES,v01,v02,yrmove,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,age,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,atschool,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 replace atschool =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,bicycle,
 gen bicycle=num564>0 & num564<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,buffalo,
 gen buffalo=numblivestock204>0 & numblivestock204<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,cellphone,
 gen byte cellphone=q14_2
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,chicken,
 gen chicken=numblivestock206>0 & numblivestock206<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,computer,
 gen byte computer= q15_2
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,countrycode,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,cow,
 gen cow=numblivestock201>0 & numblivestock201<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,educat4,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,educat5,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,educat7,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,educy,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,electricity,
 gen byte electricity=q12_2
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,empstat,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,empstat_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=q07_5a2 if q06_5a2==1
 replace empstat_2=q08_5a2 if q06_5a2==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,empstat_2_year,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=q07_5a2 if q06_5a2==1
 replace empstat_2=q08_5a2 if q06_5a2==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,everattend,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,fan,
 gen fan= num569>0 & num569<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,hsize,
 drop year stratum div
 gen int year=2005
 bys idh: egen hsize=count(year)
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,idh,"
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 ren id hhold
 reshape wide num, i( hhold ) j( code ) string
 reshape wide numblivestock, i( hhold ) j( anc ) string
 gen idh=hhold"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,idp,"
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 ren id hhold
 reshape wide num, i( hhold ) j( code ) string
 reshape wide numblivestock, i( hhold ) j( anc ) string
 gen idh=hhold
 egen idp=concat(idh idc)"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,industry,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte industry=q01c_5a1
 replace industry=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,industry_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte industry_2=q01c_5a2
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,industry_orig_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen industry_orig_2=q01c_5a2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,int_month,
 gen byte int_month=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,int_year,
 gen byte int_year=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,internet,
 gen byte internet=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,lamp,
 gen lamp=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=5
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,literacy,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte literacy=1 if q01_3a==1 & q02_3a==1
 replace literacy=0 if literacy!=1 & (q01_3a!=. | q02_3a!=.)
 replace literacy =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,lphone,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,lstatus,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,male,
 gen byte male=q02_1a
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,marital,
 gen byte marital=q06_1a
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,motorcar,
 gen motorcar= num566>0 & num566<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,motorcycle,
 gen motorcycle=num565>0 & num565<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,njobs,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,nlfreason,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,occup,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,ocusec,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace ocusec=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,ownhouse,
 gen byte ownhouse=q18_2
 replace ownhouse=0 if q18_2>1 & q18_2<=6
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,piped_water,
gen piped_water= q07_2==1 if q07_2!=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,pline_nat,
 gen pline_nat=zu05
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu05
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,pop_wgt,
 drop year stratum div
 gen int year=2005
 drop wgt
 gen wgt=wgt05
 bys idh: egen hsize=count(year)
 gen pop_wgt=wgt*hsize
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,psu,
 drop psu
 gen psu=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,radio,
 gen radio= num561>0 & num561<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,rbirth,
 gen byte rbirth=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,refrigerator,
 gen refrigerator=num567>0 & num567<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,relationcs,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,relationharm,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,rprevious,
 gen byte rprevious=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(q06_2,1,2,3)
replace sar_improved_toilet=0 if inlist(q06_2,4,5,6)"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if q07_2==1
replace water_jmp=4 if q07_2==2
replace water_jmp=12 if q07_2==3
replace water_jmp=14 if q07_2==4
replace water_jmp=14 if q07_2==5
replace water_jmp=14 if q07_2==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,sewage_toilet,
gen sewage_toilet=q06_2
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,sewingmachine,
 gen sewingmachine=num576>0 & num576<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,soc,
 gen byte soc=q05_1a
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,spdef,
 gen spdef=zu05
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,strata,
 gen strata=strat05
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,subnatid1,"
gen subnatid1=div
replace subnatid1=55 if inlist(reg,35, 85)"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,subnatid2,
 gen subnatid2=dis
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,survey,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,television,
 gen television= num572>0 & num572<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=14 if inrange(q06_2,1,5)
replace toilet_jmp=12 if q06_2==6"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,toilet_orig,
gen toilet_orig=q06_2
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,unitwage,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
 gen wage=q02c_5b1 if q01_5b1==1
 replace wage=q08_5b1 if q01_5b1==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
 gen byte unitwage=.
 replace unitwage=1 if q01_5b1==1 & wage!=.
 replace unitwage=5 if q01_5b1==2 & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,unitwage_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen wage_2=q02c_5b2 if q01_5b2==1
 replace wage_2=q08_5b2 if q01_5b2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 replace wage_2=0 if empstat_2==2
 gen byte unitwage_2=.
 replace unitwage_2=1 if q01_5b2==1 & wage_2!=.
 replace unitwage_2=5 if q01_5b2==2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,urban,
 gen urban=urbrural
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,veralt,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,vermast,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,wage,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
 gen wage=q02c_5b1 if q01_5b1==1
 replace wage=q08_5b1 if q01_5b1==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,wage_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen wage_2=q02c_5b2 if q01_5b2==1
 replace wage_2=q08_5b2 if q01_5b2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 replace wage_2=0 if empstat_2==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,washingmachine,
 gen washingmachine=num568>0 & num568<.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,water_jmp,
gen water_jmp=.
replace water_jmp=1 if q07_2==1
replace water_jmp=4 if q07_2==2
replace water_jmp=12 if q07_2==3
replace water_jmp=14 if q07_2==4
replace water_jmp=14 if q07_2==5
replace water_jmp=14 if q07_2==6
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,water_orig,
gen water_orig=q07_2
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfare,
 gen welfare=pcexp
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfaredef,
 gen welfaredef=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfarenom,
 gen welfarenom=pcexp
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfareother,
 gen welfareother=.
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfareothertype,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfaretype,
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,wgt,
 drop wgt
 gen wgt=wgt05
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,whours,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen whours=int( q03_5a1* q04_5a1)/4.25
 replace whours=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,year,
 drop year stratum div
 gen int year=2005
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2005_hies_v01_m_v03_a_sarmd,BGD,2005,HIES,v01,v03,yrmove,
 gen int yrmove=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,age,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,atschool,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 replace atschool =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,bicycle,
 gen bicycle=num564>0 & num564<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,buffalo,
 gen buffalo=numblivestock204>0 & numblivestock204<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,cellphone,
 gen byte cellphone=q14_2
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,chicken,
 gen chicken=numblivestock206>0 & numblivestock206<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,computer,
 gen byte computer= q15_2
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,countrycode,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,cow,
 gen cow=numblivestock201>0 & numblivestock201<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,cpi,
 ren cpi`year'_w cpi
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,cpiperiod,
 gen cpiperiod=syear
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,educat4,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,educat5,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,educat7,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,educy,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,electricity,
 gen byte electricity=q12_2
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,empstat,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,empstat_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=q07_5a2 if q06_5a2==1
 replace empstat_2=q08_5a2 if q06_5a2==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,empstat_2_year,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=q07_5a2 if q06_5a2==1
 replace empstat_2=q08_5a2 if q06_5a2==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,everattend,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,fan,
 gen fan= num569>0 & num569<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,hsize,
 drop year stratum div
 gen int year=2005
 bys idh: egen hsize=count(year)
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,idh,"
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 ren id hhold
 reshape wide num, i( hhold ) j( code ) string
 reshape wide numblivestock, i( hhold ) j( anc ) string
 gen idh=hhold"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,idp,"
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 ren id hhold
 reshape wide num, i( hhold ) j( code ) string
 reshape wide numblivestock, i( hhold ) j( anc ) string
 gen idh=hhold
 egen idp=concat(idh idc)"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,industry,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte industry=q01c_5a1
 replace industry=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,industry_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte industry_2=q01c_5a2
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,industry_orig_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen industry_orig_2=q01c_5a2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,int_month,
 gen byte int_month=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,int_year,
 gen byte int_year=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,internet,
 gen byte internet=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,lamp,
 gen lamp=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,lb_mod_age,
gen byte lb_mod_age=5
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,literacy,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte literacy=1 if q01_3a==1 & q02_3a==1
 replace literacy=0 if literacy!=1 & (q01_3a!=. | q02_3a!=.)
 replace literacy =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,lphone,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,lstatus,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,male,
 gen byte male=q02_1a
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,marital,
 gen byte marital=q06_1a
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,motorcar,
 gen motorcar= num566>0 & num566<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,motorcycle,
 gen motorcycle=num565>0 & num565<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,njobs,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,nlfreason,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,occup,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,ocusec,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace ocusec=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,ownhouse,
 gen byte ownhouse=q18_2
 replace ownhouse=0 if q18_2>1 & q18_2<=6
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,piped_water,
gen piped_water= q07_2==1 if q07_2!=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,pline_nat,
 gen pline_nat=zu05
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu05
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,pop_wgt,
 drop year stratum div
 gen int year=2005
 drop wgt
 gen wgt=wgt05
 bys idh: egen hsize=count(year)
 gen pop_wgt=wgt*hsize
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,psu,
 drop psu
 gen psu=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,radio,
 gen radio= num561>0 & num561<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,rbirth,
 gen byte rbirth=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,refrigerator,
 gen refrigerator=num567>0 & num567<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,relationcs,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,relationharm,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,rprevious,
 gen byte rprevious=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(q06_2,1,2,3)
replace sar_improved_toilet=0 if inlist(q06_2,4,5,6)"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if q07_2==1
replace water_jmp=4 if q07_2==2
replace water_jmp=12 if q07_2==3
replace water_jmp=14 if q07_2==4
replace water_jmp=14 if q07_2==5
replace water_jmp=14 if q07_2==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,sewage_toilet,
gen sewage_toilet=q06_2
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,sewingmachine,
 gen sewingmachine=num576>0 & num576<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,soc,
 gen byte soc=q05_1a
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,spdef,
 gen spdef=zu05
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,strata,
 gen strata=strat05
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,subnatid1,"
gen subnatid1=div
replace subnatid1=55 if inlist(reg,35, 85)"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,subnatid2,
 gen subnatid2=dis
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,subnatid3,
 gen byte subnatid3=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,survey,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,television,
 gen television= num572>0 & num572<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=14 if inrange(q06_2,1,5)
replace toilet_jmp=12 if q06_2==6"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,toilet_orig,
gen toilet_orig=q06_2
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,unitwage,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
 gen wage=q02c_5b1 if q01_5b1==1
 replace wage=q08_5b1 if q01_5b1==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
 gen byte unitwage=.
 replace unitwage=1 if q01_5b1==1 & wage!=.
 replace unitwage=5 if q01_5b1==2 & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,unitwage_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen wage_2=q02c_5b2 if q01_5b2==1
 replace wage_2=q08_5b2 if q01_5b2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 replace wage_2=0 if empstat_2==2
 gen byte unitwage_2=.
 replace unitwage_2=1 if q01_5b2==1 & wage_2!=.
 replace unitwage_2=5 if q01_5b2==2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,urban,
 gen urban=urbrural
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,veralt,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,vermast,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,wage,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
 gen wage=q02c_5b1 if q01_5b1==1
 replace wage=q08_5b1 if q01_5b1==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,wage_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen wage_2=q02c_5b2 if q01_5b2==1
 replace wage_2=q08_5b2 if q01_5b2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 replace wage_2=0 if empstat_2==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,washingmachine,
 gen washingmachine=num568>0 & num568<.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,water_jmp,
gen water_jmp=.
replace water_jmp=1 if q07_2==1
replace water_jmp=4 if q07_2==2
replace water_jmp=12 if q07_2==3
replace water_jmp=14 if q07_2==4
replace water_jmp=14 if q07_2==5
replace water_jmp=14 if q07_2==6
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,water_orig,
gen water_orig=q07_2
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfare,
 gen welfare=pcexp
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfaredef,
 gen welfaredef=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfarenom,
 gen welfarenom=pcexp
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfareother,
 gen welfareother=.
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfareothertype,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfaretype,
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,wgt,
 drop wgt
 gen wgt=wgt05
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,whours,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen whours=int( q03_5a1* q04_5a1)/4.25
 replace whours=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,year,
 drop year stratum div
 gen int year=2005
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2005_hies_v01_m_v04_a_sarmd,BGD,2005,HIES,v01,v04,yrmove,
 gen int yrmove=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,age,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,atschool,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 replace atschool =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,bicycle,
 gen bicycle=num564>0 & num564<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,buffalo,
 gen buffalo=numblivestock204>0 & numblivestock204<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,cellphone,
 gen byte cellphone=q14_2
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,chicken,
 gen chicken=numblivestock206>0 & numblivestock206<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,computer,
 gen byte computer= q15_2
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,countrycode,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,cow,
 gen cow=numblivestock201>0 & numblivestock201<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,cpi,
 ren cpi`year'_w cpi
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,cpiperiod,
 gen cpiperiod=syear
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,educat4,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,educat5,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,educat7,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,educy,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,electricity,
 gen byte electricity=q12_2
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,empstat,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,empstat_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=q07_5a2 if q06_5a2==1
 replace empstat_2=q08_5a2 if q06_5a2==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,empstat_2_year,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte empstat_2=q07_5a2 if q06_5a2==1
 replace empstat_2=q08_5a2 if q06_5a2==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,everattend,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte educy=q03_3a
 replace educy=q02_3b1 if educy==. & q02_3b1!=.
 replace educy=educy-1 if q02_3b1<=11 & q03_3a==.
 *replace educy=0 if q02_3b1==1
 replace educy=. if age<5
 replace educy=. if educy>age+1 & educy<. 
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=8 if q03_3a==16 | q02_3b1==16
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,fan,
 gen fan= num569>0 & num569<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,hsize,
 drop year stratum div
 gen int year=2005
 bys idh: egen hsize=count(year)
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,idh,"
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 ren id hhold
 reshape wide num, i( hhold ) j( code ) string
 reshape wide numblivestock, i( hhold ) j( anc ) string
 gen idh=hhold"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,idp,"
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 ren id hhold
 reshape wide num, i( hhold ) j( code ) string
 reshape wide numblivestock, i( hhold ) j( anc ) string
 gen idh=hhold
 egen idp=concat(idh idc)"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,industry,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte industry=q01c_5a1
 replace industry=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,industry_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen byte industry_2=q01c_5a2
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,industry_orig_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen industry_orig_2=q01c_5a2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,int_month,
 gen byte int_month=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,int_year,
 gen byte int_year=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,internet,
 gen byte internet=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,lamp,
 gen lamp=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,lb_mod_age,
gen byte lb_mod_age=5
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,literacy,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
 gen byte literacy=1 if q01_3a==1 & q02_3a==1
 replace literacy=0 if literacy!=1 & (q01_3a!=. | q02_3a!=.)
 replace literacy =. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,lphone,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,lstatus,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,male,
 gen byte male=q02_1a
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,marital,
 gen byte marital=q06_1a
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,motorcar,
 gen motorcar= num566>0 & num566<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,motorcycle,
 gen motorcycle=num565>0 & num565<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,njobs,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,nlfreason,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,occup,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,ocusec,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace ocusec=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,ownhouse,
 gen byte ownhouse=q18_2
 replace ownhouse=0 if q18_2>1 & q18_2<=6
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,piped_water,
gen piped_water= q07_2==1 if q07_2!=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,pline_nat,
 gen pline_nat=zu05
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 gen pline_nat=zu05
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,pop_wgt,
 drop year stratum div
 gen int year=2005
 drop wgt
 gen wgt=wgt05
 bys idh: egen hsize=count(year)
 gen pop_wgt=wgt*hsize
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,psu,
 drop psu
 gen psu=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,radio,
 gen radio= num561>0 & num561<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,rbirth,
 gen byte rbirth=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,refrigerator,
 gen refrigerator=num567>0 & num567<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,relationcs,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,relationharm,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,rprevious,
 gen byte rprevious=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(q06_2,1,2,3)
replace sar_improved_toilet=0 if inlist(q06_2,4,5,6)"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if q07_2==1
replace water_jmp=4 if q07_2==2
replace water_jmp=12 if q07_2==3
replace water_jmp=14 if q07_2==4
replace water_jmp=14 if q07_2==5
replace water_jmp=14 if q07_2==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,sewage_toilet,
gen sewage_toilet=q06_2
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,sewingmachine,
 gen sewingmachine=num576>0 & num576<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,soc,
 gen byte soc=q05_1a
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,spdef,
 gen spdef=zu05
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,strata,
 gen strata=strat05
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,subnatid1,"
gen subnatid1=div
replace subnatid1=55 if inlist(reg,35, 85)"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,subnatid2,
 gen subnatid2=dis
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,subnatid3,
 gen byte subnatid3=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,survey,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,television,
 gen television= num572>0 & num572<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,toilet_jmp,"
gen toilet_jmp=.
replace toilet_jmp=14 if inrange(q06_2,1,5)
replace toilet_jmp=12 if q06_2==6"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,toilet_orig,
gen toilet_orig=q06_2
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,unitwage,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
 gen wage=q02c_5b1 if q01_5b1==1
 replace wage=q08_5b1 if q01_5b1==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
 gen byte unitwage=.
 replace unitwage=1 if q01_5b1==1 & wage!=.
 replace unitwage=5 if q01_5b1==2 & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,unitwage_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen wage_2=q02c_5b2 if q01_5b2==1
 replace wage_2=q08_5b2 if q01_5b2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 replace wage_2=0 if empstat_2==2
 gen byte unitwage_2=.
 replace unitwage_2=1 if q01_5b2==1 & wage_2!=.
 replace unitwage_2=5 if q01_5b2==2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,urban,
 gen urban=urbrural
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,veralt,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,vermast,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,wage,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=q07_5a1 if q06_5a1==1
 replace empstat=q08_5a1 if q06_5a1==2
 replace empstat=. if lstatus==2| lstatus==3
 gen wage=q02c_5b1 if q01_5b1==1
 replace wage=q08_5b1 if q01_5b1==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,wage_2,"
 bys hhold idc: egen njobs=max(n)
 reshape wide q03_5a q04_5a q02_5a q06_5a q07_5a q08_5a q08_5b q01c_5a q01b_5a q01_5b q02c_5b q06_5b q07_5b, i(hhold id) j(n)
 replace njobs=njobs-1
 drop pointer TAG n
 drop fema inte
 drop pointer TAG n
 drop pointer TAG n
 drop pointer TAG n
 ren q02_9e num
 ren q01a_7c1 numblivestock
 ren _merge mergeeducation
 ren _merge mergeeducation2
 ren _merge mergeinitial
 ren _merge merge_cons
 foreach i in landholding durables agric{
 merge m:1 hhold using ``i''
 drop _merge
 }
 drop if merge_cons==1
 drop if mergeeducation==2
 drop if mergeeducation2==2
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 replace njobs=. if lstatus!=1
 gen wage_2=q02c_5b2 if q01_5b2==1
 replace wage_2=q08_5b2 if q01_5b2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 replace wage_2=0 if empstat_2==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,washingmachine,
 gen washingmachine=num568>0 & num568<.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,water_jmp,
gen water_jmp=.
replace water_jmp=1 if q07_2==1
replace water_jmp=4 if q07_2==2
replace water_jmp=12 if q07_2==3
replace water_jmp=14 if q07_2==4
replace water_jmp=14 if q07_2==5
replace water_jmp=14 if q07_2==6
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,water_orig,
gen water_orig=q07_2
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfare,
 gen welfare=pcexp
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfaredef,
 gen welfaredef=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfarenom,
 gen welfarenom=pcexp
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfareother,
 gen welfareother=.
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfareothertype,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfaretype,
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,wgt,
 drop wgt
 gen wgt=wgt05
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,whours,
 gen byte age= q04_1a
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=5
 gen byte lstatus=.
 replace lstatus=1 if q01_1b==1
 replace lstatus=2 if q01_1b==2 & q03_1b==1
 replace lstatus=3 if q01_1b==2 & (q02_1b==2 | q03_1b==2)
 replace lstatus=2 if q04_1b==8
 replace lstatus=. if age<lb_mod_age
 gen whours=int( q03_5a1* q04_5a1)/4.25
 replace whours=. if lstatus==2| lstatus==3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,year,
 drop year stratum div
 gen int year=2005
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2005_hies_v01_m_v05_a_sarmd,BGD,2005,HIES,v01,v05,yrmove,
 gen int yrmove=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,age,
 gen byte age= s01a_q04
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,atschool,
 gen byte age= s01a_q04
 gen byte atschool=s02b_q01
 replace atschool=0 if s02b_q01==2
 replace atschool=. if age<5
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,bicycle,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,buffalo,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,cellphone,
 gen byte cellphone=.
 replace cellphone=1 if s06a_q16==1
 replace cellphone=0 if s06a_q16==2
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,chicken,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,computer,
 gen byte computer= .
 replace computer=1 if s06a_q18==1
 replace computer=0 if s06a_q18==2
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,contract,
 gen byte contract=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,countrycode,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,cow,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,educat4,
 gen byte age= s01a_q04
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 |educat7==7
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,educat5,
 gen byte age= s01a_q04
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 |educat7==7
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,educat7,
 gen byte age= s01a_q04
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,educy,
 gen byte age= s01a_q04
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,electricity,
 gen byte electricity= s06a_q14
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,empstat,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q07==1|s04a_q08==1|s04a_q07==4|s04a_q08==4
 replace empstat=3 if s04a_q07==3| s04a_q08==3
 replace empstat=4 if s04a_q07==2| s04a_q08==2
 replace empstat=. if lstatus!=1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,empstat_2,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,empstat_2_year,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,everattend,
 gen byte age= s01a_q04
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,fan,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,healthins,
 gen byte healthins=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,hsize,
 ren member hsize
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,idh,"
 egen idh=concat(psu hhold), punct(-)"
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,idp,"
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idcode), punct(-)"
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,industry,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen industry=s04a_q_2
 replace industry=. if lstatus==2| lstatus==3
 replace industry=. if lstatus!=1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,industry_2,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,industry_orig_2,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,int_month,
 gen byte int_month=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,int_year,
 gen byte int_year=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,internet,
 gen byte internet=.
 replace internet=1 if s06a_q19==1
 replace internet=0 if s06a_q19==2
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,lamp,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=5
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,literacy,
 gen byte age= s01a_q04
 gen byte ed_mod_age=5
 gen byte literacy=.
 replace literacy=1 if s02a_q03==1 & s02a_q04==1
 replace literacy=0 if s02a_q03==0 | s02a_q04==0
 replace literacy=. if age<ed_mod_age
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,lphone,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,lstatus,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,male,
 drop male
 gen byte male= s01a_q02
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,marital,
 gen byte marital=.
 replace marital=1 if s01a_q06==1
 replace marital=4 if s01a_q06==5 | s01a_q06==4
 replace marital=5 if s01a_q06==3
 replace marital=2 if s01a_q06==2
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,motorcar,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,motorcycle,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,njobs,
 bys indvid: egen njobs=max(n)
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,nlfreason,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,occup,"
 gen occup= 1 if inrange(s04a_q_1,20,30) | s04a_q_1==40
 replace occup= 2 if inlist(s04a_q_1,2,4,6) |inrange(s04a_q_1,8,13)|inrange(s04a_q_1,15,19)
 replace occup= 3 if inlist(s04a_q_1,1,3,5,7,14)
 replace occup= 4 if inrange(s04a_q_1,31,33) | s04a_q_1==39
 replace occup= 5 if inrange(s04a_q_1,50,59)
 replace occup=6 if inrange(s04a_q_1,60,66)
 replace occup=7 if inrange(s04a_q_1,40,46) | s04a_q_1==49
 replace occup=8 if inrange(s04a_q_1,34,38) |inrange(s04a_q_1,70,86)
 replace occup=9 if inrange(s04a_q_1,87,99)
 replace occup=. if lstatus!=1"
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,ocusec,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte ocusec=.
 replace ocusec= 1 if s04b_q06== 1 |s04b_q06==2 | s04b_q06==4 | s04b_q06==6
 replace ocusec= 1 if s04b_q06==7
 replace ocusec= 2 if s04b_q06==3 |s04b_q06==5 | s04b_q06==8
 replace ocusec=. if lstatus!=1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=0 if s08a_q05==2
 replace ownhouse=1 if s08a_q05==1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,piped_water,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,pline_nat,
 gen pline_nat=zu10
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,poor_int,
 gen welfare=p_cons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,poor_nat,
 gen welfare=p_cons
 gen pline_nat=zu10
 gen poor_nat=welfare<pline_nat & welfare!=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,pop_wgt,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,psu,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,radio,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,rbirth,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,rbirth_juris,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,refrigerator,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,relationcs,
 gen byte relationcs=s01a_q03
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,relationharm,
 gen byte relationharm=s01a_q03
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,rprevious,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,rprevious_juris,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,sar_improved_toilet,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,sar_improved_water,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,sewage_toilet,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,sewingmachine,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,soc,
 gen byte soc=s01a_q05
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,socialsec,
 gen byte socialsec=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,spdef,
 gen spdef=zu10
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,strata,
 gen strata= stratum
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,subnatid1,
 gen byte subnatid1=region
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,subnatid2,
 gen byte subnatid2=district
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,survey,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,television,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,toilet_jmp,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,toilet_orig,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,union,
 drop union
 gen byte union=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,unitwage,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte unitwage=.
 replace unitwage=1 if s04b_q01==1
 replace unitwage=5 if s04b_q01==2
 replace unitwage=. if lstatus!=1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,unitwage_2,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,urban,"
 gen byte urban=.
 replace urban=1 if (urbanrur==2 & spc!=""Municipal"") | (urbanrur==4 & spc==""SMA"")
 replace urban=0 if (urbanrur==1 & spc==""Rural"") | (urbanrur==3 & spc==""Rural"")"
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,veralt,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,vermast,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,wage,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen double wage=.
 replace wage=s04b_q02 if s04b_q01==1
 replace wage=s04b_q08 if s04b_q01==2
 replace wage=. if lstatus!=1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,wage_2,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,washingmachine,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,water_jmp,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,water_orig,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfare,
 gen welfare=p_cons
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfaredef,
 gen welfaredef=p_cons
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfarenat,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfarenom,
 gen welfarenom=.
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfareother,
 gen welfareother=p_income
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfareothertype,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfaretype,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,welfshprosperity,
 gen welfaredef=p_cons
 gen welfshprosperity=welfaredef
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,wgt,
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,whours,
 gen byte age= s01a_q04
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen whours=s04a_q04*5.5
 replace whours=. if lstatus!=1
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,year,
 gen int year=2010
 local year=2005
bgd_2010_hies_v01_m_v01_a_sarmd,BGD,2010,HIES,v01,v01,yrmove,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,age,
 gen byte age= s01a_q04
 replace age=98 if age>98
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,atschool,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte atschool=s02b_q01
 replace atschool=0 if s02b_q01==2
 replace atschool=. if age<5
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,bicycle,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,buffalo,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,cellphone,
 gen byte cellphone=.
 replace cellphone=1 if s06a_q16==1
 replace cellphone=0 if s06a_q16==2
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,chicken,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,computer,
 gen byte computer= .
 replace computer=1 if s06a_q18==1
 replace computer=0 if s06a_q18==2
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,contract,
 gen byte contract=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,countrycode,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,cow,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,educat4,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 |educat7==7
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,educat5,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 |educat7==7
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,educat7,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,educy,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,electricity,
 gen byte electricity= s06a_q14
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,empstat,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q07==1|s04a_q08==1|s04a_q07==4|s04a_q08==4
 replace empstat=3 if s04a_q07==3| s04a_q08==3
 replace empstat=4 if s04a_q07==2| s04a_q08==2
 replace empstat=. if lstatus!=1
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,empstat_2,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,empstat_2_year,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,everattend,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if s02a_q05==16 | s02a_q05==17
 replace educat7=6 if s02b_q02==16 | s02b_q02==17
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,fan,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,healthins,
 gen byte healthins=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,hsize,
 drop member
 gen member=1 if s01a_q03>=1 & s01a_q03<12
 bys idh: egen hsize=total(member)
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,idh,"
 gen hhold=substr(id,l+1,m-l)
 egen idh=concat(psu hhold), punct(-)"
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,idp,"
 gen hhold=substr(id,l+1,m-l)
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idcode), punct(-)"
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,industry,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen industry=s04a_q_2
 replace industry=. if lstatus==2| lstatus==3
 replace industry=. if lstatus!=1
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,industry_2,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,industry_orig_2,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,int_month,
 gen byte int_month=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,int_year,
 gen byte int_year=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,internet,
 gen byte internet=.
 replace internet=1 if s06a_q19==1
 replace internet=0 if s06a_q19==2
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,lamp,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=5
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,literacy,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte ed_mod_age=5
 gen byte literacy=.
 replace literacy=1 if s02a_q03==1 & s02a_q04==1
 replace literacy=0 if s02a_q03==0 | s02a_q04==0
 replace literacy=. if age<ed_mod_age
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,lphone,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,lstatus,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,male,
 gen byte male= s01a_q02
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,marital,
 gen byte marital=.
 replace marital=1 if s01a_q06==1
 replace marital=4 if s01a_q06==5 | s01a_q06==4
 replace marital=5 if s01a_q06==3
 replace marital=2 if s01a_q06==2
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,motorcar,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,motorcycle,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,njobs,
 bys psu hhold idcode: egen njobs=max(n)
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,nlfreason,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,occup,"
 gen occup= 1 if inrange(s04a_q_1,20,30) | s04a_q_1==40
 replace occup= 2 if inlist(s04a_q_1,2,4,6) |inrange(s04a_q_1,8,13)|inrange(s04a_q_1,15,19)
 replace occup= 3 if inlist(s04a_q_1,1,3,5,7,14)
 replace occup= 4 if inrange(s04a_q_1,31,33) | s04a_q_1==39
 replace occup= 5 if inrange(s04a_q_1,50,59)
 replace occup=6 if inrange(s04a_q_1,60,66)
 replace occup=7 if inrange(s04a_q_1,40,46) | s04a_q_1==49
 replace occup=8 if inrange(s04a_q_1,34,38) |inrange(s04a_q_1,70,86)
 replace occup=9 if inrange(s04a_q_1,87,99)
 replace occup=. if lstatus!=1"
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,ocusec,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte ocusec=.
 replace ocusec= 1 if s04b_q06== 1 |s04b_q06==2 | s04b_q06==4 | s04b_q06==6
 replace ocusec= 1 if s04b_q06==7
 replace ocusec= 2 if s04b_q06==3 |s04b_q06==5 | s04b_q06==8
 replace ocusec=. if lstatus!=1
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s06a_q21==1
 replace ownhouse=0 if s06a_q21!=1 & s06a_q21!=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,piped_water,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,pline_nat,
 gen pline_nat=zu10
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,poor_int,
 gen welfare=p_cons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.25*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,poor_nat,
 gen welfare=p_cons
 gen welfarenat=welfare
 gen pline_nat=zu10
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,pop_wgt,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,psu,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,radio,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,rbirth,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,rbirth_juris,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,refrigerator,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,relationcs,
 gen byte relationcs=s01a_q03
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,relationharm,
 gen byte relationharm=s01a_q03
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,rprevious,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,rprevious_juris,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,sar_improved_toilet,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,sar_improved_water,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,sewage_toilet,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,sewingmachine,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,soc,
 gen byte soc=s01a_q05
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,socialsec,
 gen byte socialsec=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,spdef,
 gen spdef=zu10
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,strata,
 gen strata= stratum
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,subnatid1,
 gen byte subnatid1=region
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,subnatid2,
 gen byte subnatid2=district
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,survey,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,television,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,toilet_jmp,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,toilet_orig,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,union,
 drop union
 gen byte union=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,unitwage,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen byte unitwage=.
 replace unitwage=1 if s04b_q01==1
 replace unitwage=5 if s04b_q01==2
 replace unitwage=. if lstatus!=1
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,unitwage_2,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,urban,"
 gen byte urban=.
 replace urban=1 if (urbanrur==2 & spc!=""Municipal"") | (urbanrur==4 & spc==""SMA"")
 replace urban=0 if (urbanrur==1 & spc==""Rural"") | (urbanrur==3 & spc==""Rural"")"
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,veralt,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,vermast,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,wage,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen double wage=.
 replace wage=s04b_q02 if s04b_q01==1
 replace wage=s04b_q08 if s04b_q01==2
 replace wage=. if lstatus!=1
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,wage_2,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,washingmachine,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,water_jmp,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,water_orig,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfare,
 gen welfare=p_cons
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfaredef,
 gen welfaredef=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfarenat,
 gen welfare=p_cons
 gen welfarenat=welfare
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfarenom,
 gen welfarenom=p_cons
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfareother,
 gen welfareother=.
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfareothertype,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfaretype,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,welfshprosperity,
 gen welfaredef=.
 gen welfshprosperity=welfaredef
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,wgt,
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,whours,
 gen byte age= s01a_q04
 replace age=98 if age>98
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q02==1 & s01b_q03==1 & lstatus==.
 replace lstatus=3 if s01b_q01==2 & s01b_q02==2 & s01b_q02==2
 replace lstatus=. if age<5
 gen whours=s04a_q04*5.5
 replace whours=. if lstatus!=1
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,year,
 replace year=2010
 gen int year=2010
 local year=2005
bgd_2010_hies_v01_m_v02_a_sarmd,BGD,2010,HIES,v01,v02,yrmove,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,age,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,atschool,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte atschool=s02b_q01
 replace atschool=0 if s02b_q01==2
 replace atschool=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,bicycle,
 gen bicycle= numit564>0 if numit564<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,buffalo,
 gen buffalo= numlivestock204>0 if numlivestock204<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,cellphone,"
 recode s06a_q16 (0=.) (2=0), gen(cellphone)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,chicken,
 gen chicken=numlivestock205>0 if numlivestock205<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,computer,"
 recode s06a_q18 (0=.) (2=0), gen(computer)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,countrycode,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,cow,
 gen cow=numlivestock201>0 if numlivestock201<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,educat4,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,educat5,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,educat7,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,educy,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,electricity,
 gen byte electricity= s06a_q14
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,empstat,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,empstat_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,empstat_2_year,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,everattend,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,fan,
 gen fan= numit569>0 if numit569<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,hsize,
 drop member
 gen member=1
 bys idh: egen hsize=total(member)
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,idh,"
 gen hhold=substr(id,l+1,m-l)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)
 egen idh=concat(psu hhold), punct(-)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,idp,"
 gen hhold=substr(id,l+1,m-l)
 drop if idcode==.
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idcode), punct(-)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,industry,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen industry=s04a_q_21
 replace industry=. if lstatus==2| lstatus==3
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,industry_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen industry_2=s04a_q_22
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,industry_orig_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen industry_orig_2=s04a_q_22
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,int_month,
 gen byte int_month=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,int_year,
 gen byte int_year=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,internet,
 gen byte internet=.
 replace internet=1 if s06a_q19==1
 replace internet=0 if s06a_q19==2
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,lamp,
 gen lamp=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=5
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,literacy,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=5
 gen byte literacy=.
 replace literacy=1 if s02a_q03==1 & s02a_q04==1
 replace literacy=0 if s02a_q03==0 | s02a_q04==0
 replace literacy=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,lphone,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,lstatus,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,male,
 gen byte male= s01a_q02
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,marital,
 gen byte marital=.
 replace marital=1 if s01a_q06==1
 replace marital=4 if s01a_q06==5 | s01a_q06==4
 replace marital=5 if s01a_q06==3
 replace marital=2 if s01a_q06==2
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,motorcar,
 gen motorcar= numit566>0 if numit566<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,motorcycle,
 gen motorcycle=numit565>0 if numit565<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,njobs,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,occup,
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,ocusec,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte ocusec=.
 replace ocusec= 1 if s04b_q061== 1 |s04b_q061==2 | s04b_q061==4 | s04b_q061==6
 replace ocusec= 1 if s04b_q061==7
 replace ocusec= 2 if s04b_q061==3 |s04b_q061==5 | s04b_q061==8 | s04b_q061==9
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s06a_q21==1
 replace ownhouse=0 if s06a_q21!=1 & s06a_q21!=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,piped_water,
gen piped_water= s06a_q09==1 if s06a_q09!=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,pline_nat,
 gen pline_nat=zu10
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,poor_int,
 gen welfare=p_cons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,poor_nat,
 gen welfare=p_cons
 gen welfarenat=welfare
 gen pline_nat=zu10
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,pop_wgt,
 drop member
 gen member=1
 bys idh: egen hsize=total(member)
 gen pop_wgt=wgt*hsize
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,psu,"
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,radio,
 gen radio= numit561>0 if numit561<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,rbirth,
 gen byte rbirth=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,refrigerator,
 gen refrigerator=numit567>0 if numit567<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,relationcs,
 gen byte relationcs=s01a_q03
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,relationharm,
 gen byte relationharm=s01a_q03
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,rprevious,
 gen byte rprevious=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(s06a_q08,1,2,3)
replace sar_improved_toilet=0 if inlist(s06a_q08,4,5,6)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if s06a_q09==1
replace water_jmp=4 if s06a_q09==2
replace water_jmp=12 if s06a_q09==3
replace water_jmp=14 if s06a_q09==4
replace water_jmp=14 if s06a_q09==5
replace water_jmp=14 if s06a_q09==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,sewage_toilet,
gen sewage_toilet=s06a_q08
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,sewingmachine,
 gen sewingmachine=numit576>0 if numit576<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,soc,
 gen byte soc=s01a_q05
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,spdef,
 gen spdef=zu10
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,strata,
 gen strata= stratum
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,subnatid1,
 gen byte subnatid1=region
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,subnatid2,
 gen byte subnatid2=district
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,survey,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,television,
 gen television= numit572>0 if numit572<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,toilet_jmp,
gen toilet_jmp=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,toilet_orig,
gen toilet_orig=s06a_q08
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,union,
 drop union
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,unitwage,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s04b_q_21 if s04b_q011==1
 replace wage=s04b_q081 if s04b_q011==2
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s04b_q011==1 & wage!=.
 replace unitwage=5 if s04b_q011==2 & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,unitwage_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s04b_q_22 if s04b_q012==1
 replace wage_2=s04b_q082 if s04b_q012==2
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=1 if s04b_q012==1 & wage_2!=.
 replace unitwage_2=5 if s04b_q012==2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,urban,"
 gen byte urban=.
 replace urban=1 if (urbanrur==2 & spc!=""Municipal"") | (urbanrur==4 & spc==""SMA"")
 replace urban=0 if (urbanrur==1 & spc==""Rural"") | (urbanrur==3 & spc==""Rural"")"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,veralt,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,vermast,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,wage,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s04b_q_21 if s04b_q011==1
 replace wage=s04b_q081 if s04b_q011==2
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,wage_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s04b_q_22 if s04b_q012==1
 replace wage_2=s04b_q082 if s04b_q012==2
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,washingmachine,
 gen washingmachine= numit568>0 if numit568<.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,water_jmp,
gen water_jmp=.
replace water_jmp=1 if s06a_q09==1
replace water_jmp=4 if s06a_q09==2
replace water_jmp=12 if s06a_q09==3
replace water_jmp=14 if s06a_q09==4
replace water_jmp=14 if s06a_q09==5
replace water_jmp=14 if s06a_q09==6
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,water_orig,
gen water_orig=s06a_q09
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfare,
 gen welfare=p_cons
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfaredef,
 gen welfaredef=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfarenat,
 gen welfare=p_cons
 gen welfarenat=welfare
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfarenom,
 gen welfarenom=p_cons
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfareother,
 gen welfareother=.
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfareothertype,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfaretype,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,welfshprosperity,
 gen welfarenom=p_cons
 gen welfshprosperity=welfarenom
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,wgt,
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,whours,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen whours=int(s04a_q031* s04a_q041)/4.25
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,year,
 replace year=2010
 gen int year=2010
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2010_hies_v01_m_v03_a_sarmd,BGD,2010,HIES,v01,v03,yrmove,
 gen int yrmove=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,age,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,atschool,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte atschool=s02b_q01
 replace atschool=0 if s02b_q01==2
 replace atschool=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,bicycle,
 gen bicycle= numit564>0 if numit564<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,buffalo,
 gen buffalo= numlivestock204>0 if numlivestock204<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,cellphone,"
 recode s06a_q16 (0=.) (2=0), gen(cellphone)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,chicken,
 gen chicken=numlivestock205>0 if numlivestock205<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,computer,"
 recode s06a_q18 (0=.) (2=0), gen(computer)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,countrycode,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,cow,
 gen cow=numlivestock201>0 if numlivestock201<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,cpi,
 ren cpi`year'_w cpi
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,cpiperiod,
 gen cpiperiod=syear
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,educat4,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,educat5,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,educat7,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,educy,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,electricity,
 gen byte electricity= s06a_q14
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,empstat,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,empstat_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,empstat_2_year,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,everattend,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,fan,
 gen fan= numit569>0 if numit569<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,hsize,
 drop member
 gen member=1
 bys idh: egen hsize=total(member)
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,idh,"
 gen hhold=substr(id,l+1,m-l)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)
 egen idh=concat(psu hhold), punct(-)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,idp,"
 gen hhold=substr(id,l+1,m-l)
 drop if idcode==.
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idcode), punct(-)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,industry,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen industry=s04a_q_21
 replace industry=. if lstatus==2| lstatus==3
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,industry_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen industry_2=s04a_q_22
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,industry_orig_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen industry_orig_2=s04a_q_22
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,int_month,
 gen byte int_month=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,int_year,
 gen byte int_year=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,internet,
 gen byte internet=.
 replace internet=1 if s06a_q19==1
 replace internet=0 if s06a_q19==2
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,lamp,
 gen lamp=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,lb_mod_age,
gen byte lb_mod_age=5
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,literacy,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=5
 gen byte literacy=.
 replace literacy=1 if s02a_q03==1 & s02a_q04==1
 replace literacy=0 if s02a_q03==0 | s02a_q04==0
 replace literacy=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,lphone,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,lstatus,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,male,
 gen byte male= s01a_q02
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,marital,
 gen byte marital=.
 replace marital=1 if s01a_q06==1
 replace marital=4 if s01a_q06==5 | s01a_q06==4
 replace marital=5 if s01a_q06==3
 replace marital=2 if s01a_q06==2
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,motorcar,
 gen motorcar= numit566>0 if numit566<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,motorcycle,
 gen motorcycle=numit565>0 if numit565<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,njobs,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,occup,
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,ocusec,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte ocusec=.
 replace ocusec= 1 if s04b_q061== 1 |s04b_q061==2 | s04b_q061==4 | s04b_q061==6
 replace ocusec= 1 if s04b_q061==7
 replace ocusec= 2 if s04b_q061==3 |s04b_q061==5 | s04b_q061==8 | s04b_q061==9
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s06a_q21==1
 replace ownhouse=0 if s06a_q21!=1 & s06a_q21!=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,piped_water,
gen piped_water= s06a_q09==1 if s06a_q09!=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,pline_nat,
 gen pline_nat=zu10
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,poor_int,
 gen welfare=p_cons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,poor_nat,
 gen welfare=p_cons
 gen welfarenat=welfare
 gen pline_nat=zu10
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,pop_wgt,
 drop member
 gen member=1
 bys idh: egen hsize=total(member)
 gen pop_wgt=wgt*hsize
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,psu,"
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,radio,
 gen radio= numit561>0 if numit561<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,rbirth,
 gen byte rbirth=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,refrigerator,
 gen refrigerator=numit567>0 if numit567<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,relationcs,
 gen byte relationcs=s01a_q03
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,relationharm,
 gen byte relationharm=s01a_q03
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,rprevious,
 gen byte rprevious=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(s06a_q08,1,2,3)
replace sar_improved_toilet=0 if inlist(s06a_q08,4,5,6)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if s06a_q09==1
replace water_jmp=4 if s06a_q09==2
replace water_jmp=12 if s06a_q09==3
replace water_jmp=14 if s06a_q09==4
replace water_jmp=14 if s06a_q09==5
replace water_jmp=14 if s06a_q09==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,sewage_toilet,
gen sewage_toilet=s06a_q08
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,sewingmachine,
 gen sewingmachine=numit576>0 if numit576<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,soc,
 gen byte soc=s01a_q05
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,spdef,
 gen spdef=zu10
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,strata,
 gen strata= stratum
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,subnatid1,
 gen byte subnatid1=region
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,subnatid2,
 gen byte subnatid2=district
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,subnatid3,
 gen byte subnatid3=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,survey,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,television,
 gen television= numit572>0 if numit572<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,toilet_jmp,
gen toilet_jmp=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,toilet_orig,
gen toilet_orig=s06a_q08
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,union,
 drop union
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,unitwage,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s04b_q_21 if s04b_q011==1
 replace wage=s04b_q081 if s04b_q011==2
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s04b_q011==1 & wage!=.
 replace unitwage=5 if s04b_q011==2 & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,unitwage_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s04b_q_22 if s04b_q012==1
 replace wage_2=s04b_q082 if s04b_q012==2
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=1 if s04b_q012==1 & wage_2!=.
 replace unitwage_2=5 if s04b_q012==2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,urban,"
 gen byte urban=.
 replace urban=1 if (urbanrur==2 & spc!=""Municipal"") | (urbanrur==4 & spc==""SMA"")
 replace urban=0 if (urbanrur==1 & spc==""Rural"") | (urbanrur==3 & spc==""Rural"")"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,veralt,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,vermast,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,wage,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s04b_q_21 if s04b_q011==1
 replace wage=s04b_q081 if s04b_q011==2
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,wage_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s04b_q_22 if s04b_q012==1
 replace wage_2=s04b_q082 if s04b_q012==2
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,washingmachine,
 gen washingmachine= numit568>0 if numit568<.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,water_jmp,
gen water_jmp=.
replace water_jmp=1 if s06a_q09==1
replace water_jmp=4 if s06a_q09==2
replace water_jmp=12 if s06a_q09==3
replace water_jmp=14 if s06a_q09==4
replace water_jmp=14 if s06a_q09==5
replace water_jmp=14 if s06a_q09==6
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,water_orig,
gen water_orig=s06a_q09
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfare,
 gen welfare=p_cons
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfaredef,
 gen welfaredef=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfarenat,
 gen welfare=p_cons
 gen welfarenat=welfare
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfarenom,
 gen welfarenom=p_cons
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfareother,
 gen welfareother=.
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfareothertype,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfaretype,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,welfshprosperity,
 gen welfarenom=p_cons
 gen welfshprosperity=welfarenom
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,wgt,
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,whours,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen whours=int(s04a_q031* s04a_q041)/4.25
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,year,
 replace year=2010
 gen int year=2010
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2010_hies_v01_m_v04_a_sarmd,BGD,2010,HIES,v01,v04,yrmove,
 gen int yrmove=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,age,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,atschool,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte atschool=s02b_q01
 replace atschool=0 if s02b_q01==2
 replace atschool=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,bicycle,
 gen bicycle= numit564>0 if numit564<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,buffalo,
 gen buffalo= numlivestock204>0 if numlivestock204<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,cellphone,"
 recode s06a_q16 (0=.) (2=0), gen(cellphone)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,chicken,
 gen chicken=numlivestock205>0 if numlivestock205<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,computer,"
 recode s06a_q18 (0=.) (2=0), gen(computer)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,countrycode,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,cow,
 gen cow=numlivestock201>0 if numlivestock201<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,cpi,
 ren cpi`year'_w cpi
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,cpiperiod,
 gen cpiperiod=syear
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,educat4,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,educat5,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,educat7,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,educy,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,electricity,
 gen byte electricity= s06a_q14
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,empstat,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,empstat_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,empstat_2_year,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,everattend,"
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte educy=s02a_q05
 replace educy=s02b_q02 if educy==. & s02b_q02!=.
 replace educy=educy-1 if s02a_q05==. & s02b_q02<=11
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s02a_q05==19 | s02b_q02==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if educat7>=2 | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,fan,
 gen fan= numit569>0 if numit569<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,hsize,
 drop member
 gen member=1
 bys idh: egen hsize=total(member)
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,idh,"
 gen hhold=substr(id,l+1,m-l)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)
 egen idh=concat(psu hhold), punct(-)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,idp,"
 gen hhold=substr(id,l+1,m-l)
 drop if idcode==.
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idcode), punct(-)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,industry,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen industry=s04a_q_21
 replace industry=. if lstatus==2| lstatus==3
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,industry_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen industry_2=s04a_q_22
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,industry_orig_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen industry_orig_2=s04a_q_22
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,int_month,
 gen byte int_month=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,int_year,
 gen byte int_year=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,internet,
 gen byte internet=.
 replace internet=1 if s06a_q19==1
 replace internet=0 if s06a_q19==2
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,lamp,
 gen lamp=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,lb_mod_age,
gen byte lb_mod_age=5
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,literacy,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=5
 gen byte literacy=.
 replace literacy=1 if s02a_q03==1 & s02a_q04==1
 replace literacy=0 if s02a_q03==0 | s02a_q04==0
 replace literacy=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,lphone,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,lstatus,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,male,
 gen byte male= s01a_q02
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,marital,
 gen byte marital=.
 replace marital=1 if s01a_q06==1
 replace marital=4 if s01a_q06==5 | s01a_q06==4
 replace marital=5 if s01a_q06==3
 replace marital=2 if s01a_q06==2
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,motorcar,
 gen motorcar= numit566>0 if numit566<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,motorcycle,
 gen motorcycle=numit565>0 if numit565<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,njobs,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,occup,
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s01b_q04==3
 replace nlfreason=2 if s01b_q04==2|s01b_q04==1
 replace nlfreason=3 if s01b_q04==4
 replace nlfreason=4 if s01b_q04==7
 replace nlfreason=5 if s01b_q04==5|s01b_q04==6|s01b_q04>=8 & s01b_q04<=11
 replace nlfreason=. if s01b_q04==0 | s01b_q04==25 | lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,ocusec,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte ocusec=.
 replace ocusec= 1 if s04b_q061== 1 |s04b_q061==2 | s04b_q061==4 | s04b_q061==6
 replace ocusec= 1 if s04b_q061==7
 replace ocusec= 2 if s04b_q061==3 |s04b_q061==5 | s04b_q061==8 | s04b_q061==9
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s06a_q21==1
 replace ownhouse=0 if s06a_q21!=1 & s06a_q21!=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,piped_water,
gen piped_water= s06a_q09==1 if s06a_q09!=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,pline_nat,
 gen pline_nat=zu10
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,poor_int,
 gen welfare=p_cons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,poor_nat,
 gen welfare=p_cons
 gen welfarenat=welfare
 gen pline_nat=zu10
 gen poor_nat=welfarenat<pline_nat & welfare!=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,pop_wgt,
 drop member
 gen member=1
 bys idh: egen hsize=total(member)
 gen pop_wgt=wgt*hsize
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,psu,"
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 ren s09e_q02 numit
 reshape wide numit, i( psu hhold) j( dg_code)
 ren s07c_q02 numlivestock
 reshape wide numlivestock, i( psu hhold) j( liv_code)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,radio,
 gen radio= numit561>0 if numit561<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,rbirth,
 gen byte rbirth=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,refrigerator,
 gen refrigerator=numit567>0 if numit567<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,relationcs,
 gen byte relationcs=s01a_q03
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,relationharm,
 gen byte relationharm=s01a_q03
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,rprevious,
 gen byte rprevious=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(s06a_q08,1,2,3)
replace sar_improved_toilet=0 if inlist(s06a_q08,4,5,6)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if s06a_q09==1
replace water_jmp=4 if s06a_q09==2
replace water_jmp=12 if s06a_q09==3
replace water_jmp=14 if s06a_q09==4
replace water_jmp=14 if s06a_q09==5
replace water_jmp=14 if s06a_q09==6
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,sewage_toilet,
gen sewage_toilet=s06a_q08
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,sewingmachine,
 gen sewingmachine=numit576>0 if numit576<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,soc,
 gen byte soc=s01a_q05
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,spdef,
 gen spdef=zu10
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,strata,
 gen strata= stratum
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,subnatid1,
 gen byte subnatid1=region
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,subnatid2,
 gen byte subnatid2=district
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,subnatid3,
 gen byte subnatid3=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,survey,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,television,
 gen television= numit572>0 if numit572<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,toilet_jmp,
gen toilet_jmp=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,toilet_orig,
gen toilet_orig=s06a_q08
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,union,
 drop union
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,unitwage,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s04b_q_21 if s04b_q011==1
 replace wage=s04b_q081 if s04b_q011==2
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=.
 replace unitwage=1 if s04b_q011==1 & wage!=.
 replace unitwage=5 if s04b_q011==2 & wage!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,unitwage_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s04b_q_22 if s04b_q012==1
 replace wage_2=s04b_q082 if s04b_q012==2
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=1 if s04b_q012==1 & wage_2!=.
 replace unitwage_2=5 if s04b_q012==2 & wage_2!=.
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,urban,"
 gen byte urban=.
 replace urban=1 if (urbanrur==2 & spc!=""Municipal"") | (urbanrur==4 & spc==""SMA"")
 replace urban=0 if (urbanrur==1 & spc==""Rural"") | (urbanrur==3 & spc==""Rural"")"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,veralt,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,vermast,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,wage,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s04a_q071==1|s04a_q081==1|s04a_q071==4|s04a_q081==4
 replace empstat=3 if s04a_q071==3| s04a_q081==3
 replace empstat=4 if s04a_q071==2| s04a_q081==2
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s04b_q_21 if s04b_q011==1
 replace wage=s04b_q081 if s04b_q011==2
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,wage_2,"
 bys psu hhold idcode: egen njobs=max(n)
 reshape wide s04a_q_1 s04a_q_2 s04a_q02 s04a_q03 s04a_q04 s04a_q06 s04b_q_2 s04a_q07 s04a_q08 s04b_q01 s04b_q02 s04b_q03 s04b_q06 s04b_q08, i(psu hhold idcode) j(n)
 replace njobs=njobs-1
 drop ln s09e_q01 s09e_q03 s09e_q04
 ren s09e_q02 numit
 ren s07c_q02 numlivestock
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if s04a_q072==1|s04a_q082==1|s04a_q072==4|s04a_q082==4
 replace empstat_2=3 if s04a_q072==3| s04a_q082==3
 replace empstat_2=4 if s04a_q072==2| s04a_q082==2
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
 gen double wage_2=.
 replace wage_2=s04b_q_22 if s04b_q012==1
 replace wage_2=s04b_q082 if s04b_q012==2
 replace wage_2=0 if empstat_2==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,washingmachine,
 gen washingmachine= numit568>0 if numit568<.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,water_jmp,
gen water_jmp=.
replace water_jmp=1 if s06a_q09==1
replace water_jmp=4 if s06a_q09==2
replace water_jmp=12 if s06a_q09==3
replace water_jmp=14 if s06a_q09==4
replace water_jmp=14 if s06a_q09==5
replace water_jmp=14 if s06a_q09==6
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,water_orig,
gen water_orig=s06a_q09
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfare,
 gen welfare=p_cons
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfaredef,
 gen welfaredef=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfarenat,
 gen welfare=p_cons
 gen welfarenat=welfare
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfarenom,
 gen welfarenom=p_cons
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfareother,
 gen welfareother=.
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfareothertype,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfaretype,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,welfshprosperity,
 gen welfarenom=p_cons
 gen welfshprosperity=welfarenom
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,wgt,
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,whours,
 gen byte age= s01a_q04
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=.
 replace lstatus=1 if s01b_q01==1
 replace lstatus=2 if s01b_q01==2 & s01b_q03==1
 replace lstatus=3 if s01b_q01==2 & (s01b_q02==2 | s01b_q03==2)
 replace lstatus=2 if s01b_q04==8
 replace lstatus=. if age<5
 gen whours=int(s04a_q031* s04a_q041)/4.25
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,year,
 replace year=2010
 gen int year=2010
foreach var in lstatus lstatus_year empstat empstat_year njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
bgd_2010_hies_v01_m_v05_a_sarmd,BGD,2010,HIES,v01,v05,yrmove,
 gen int yrmove=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,age,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=."
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,atschool,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte atschool=s2bq01
 replace atschool=0 if s2bq01==2
 replace atschool=. if s2bq01>2
 replace atschool=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,bicycle,
 gen bicycle= assets574
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,buffalo,
 gen buffalo= s7c1q02a204
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,cellphone,"
 recode s1aq10 (2=0), gen(cellphone)"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,chicken,
 gen chicken= s7c1q02a205
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,computer,
 gen chicken= s7c1q02a205
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,contract,
 gen byte contract=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,countrycode,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,cow,
 gen cow=s7c1q02a201
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,educat4,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen educy=s2aq04
 replace educy=s2bq03 if educy==. & s2bq03!=.
 replace educy=educy-1 if s2aq04==. & s2bq03<=11 & s2bq03!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s2aq04==19 | s2bq03==19
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 |educat7==3
 replace educat4=3 if educat7==4 |educat7==5
 replace educat4=4 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,educat5,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen educy=s2aq04
 replace educy=s2bq03 if educy==. & s2bq03!=.
 replace educy=educy-1 if s2aq04==. & s2bq03<=11 & s2bq03!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s2aq04==19 | s2bq03==19
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 |educat7==7
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,educat7,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen educy=s2aq04
 replace educy=s2bq03 if educy==. & s2bq03!=.
 replace educy=educy-1 if s2aq04==. & s2bq03<=11 & s2bq03!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s2aq04==19 | s2bq03==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,educy,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen educy=s2aq04
 replace educy=s2bq03 if educy==. & s2bq03!=.
 replace educy=educy-1 if s2aq04==. & s2bq03<=11 & s2bq03!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s2aq04==19 | s2bq03==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
 replace everattend=. if age<5
 replace educy=0 if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,electricity,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,empstat,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
 gen byte empstat=.
 replace empstat=1 if s4aq07==1|s4aq08==1|s4aq07==4|s4aq08==4
 replace empstat=3 if s4aq07==3| s4aq08==3
 replace empstat=4 if s4aq07==2| s4aq08==2
 replace empstat=. if lstatus!=1"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,empstat_2,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,empstat_2_year,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,everattend,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen educy=s2aq04
 replace educy=s2bq03 if educy==. & s2bq03!=.
 replace educy=educy-1 if s2aq04==. & s2bq03<=11 & s2bq03!=.
 replace educy=0 if educy==-1
 replace educy=. if educy==50
 replace educy=. if age<5
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if (educy>0 & educy<5)
 replace educat7=3 if (educy==5)
 replace educat7=4 if (educy>5 & educy<12)
 replace educat7=5 if (educy==12)
 replace educat7=7 if (educy>12 & educy<23)
 replace educat7=6 if inlist(educy,13,14)
 replace educat7=8 if s2aq04==19 | s2bq03==19
 replace educat7=. if age<5
 gen byte everattend=.
 replace everattend=0 if educat7==1
 replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
 replace everattend=. if age<5
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,fan,
 gen fan= assets579
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,healthins,
 gen byte healthins=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,hsize,"
 ren s1aq00 idp
 drop if member1==0
 drop if idp==.
 ren s1bq00 idp
 drop if idp==.
 ren s4aq00 idp
 drop if idp==.
  ren s4bq00 idp
  drop if idp==.
 ren s2aq00 idp
 drop if idp==.
 ren s2bq00 idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X""
 replace assets=. if s9eq01a==""X"" & s9eq02!=.
 replace assets=. if assets==1 & s9eq02==.
 replace assets=. if assets==0 & s9eq02!=.
 reshape wide assets, i(hhold) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 reshape wide s7c1q02a, i(hhold) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {
  merge m:1 hhold using ``j'', keep(1 3) nogen
 }
 ren idp idp1
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idp1), punct(-)
 ren member hsize"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,idh,"
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X""
 replace assets=. if s9eq01a==""X"" & s9eq02!=.
 replace assets=. if assets==1 & s9eq02==.
 replace assets=. if assets==0 & s9eq02!=.
 reshape wide assets, i(hhold) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 reshape wide s7c1q02a, i(hhold) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {
  merge m:1 hhold using ``j'', keep(1 3) nogen
 }
 egen idh=concat(psu hhold), punct(-)"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,idp,"
 ren s1aq00 idp
 drop if idp==.
 ren s1bq00 idp
 drop if idp==.
 ren s4aq00 idp
 drop if idp==.
  ren s4bq00 idp
  drop if idp==.
 ren s2aq00 idp
 drop if idp==.
 ren s2bq00 idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X""
 replace assets=. if s9eq01a==""X"" & s9eq02!=.
 replace assets=. if assets==1 & s9eq02==.
 replace assets=. if assets==0 & s9eq02!=.
 reshape wide assets, i(hhold) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 reshape wide s7c1q02a, i(hhold) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {
  merge m:1 hhold using ``j'', keep(1 3) nogen
 }
 ren idp idp1
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idp1), punct(-)"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,industry,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
gen industry_orig=s4aq01c
replace industry_orig=. if lstatus!=1
 gen industry=industry_orig
 replace industry=. if lstatus==2| lstatus==3
 replace industry=. if lstatus!=1"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,industry_2,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,industry_orig_2,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,int_month,
 gen byte int_month=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,int_year,
 gen byte int_year=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,internet,
 gen byte int_year=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,lamp,
 gen lamp= assets585
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=5
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,literacy,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte ed_mod_age=5
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if (s2aq01==2 | s2aq02==2) & literacy!=1
 replace literacy=. if age<ed_mod_age
 replace literacy=. if (s2aq01!=1 & s2aq01!=2) | (s2aq02!=2 & s2aq02!=1)
foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

 replace `var'=. if age<ed_mod_age

}"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,lphone,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,lstatus,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,male,
 gen byte male= s1aq01
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,marital,
 gen byte marital=.
 replace marital=1 if s1aq05==1
 replace marital=4 if s1aq05==5 | s1aq05==4
 replace marital=5 if s1aq05==3
 replace marital=2 if s1aq05==2
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,motorcar,
 gen motorcar= assets576
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,motorcycle,
 gen motorcycle= assets575
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,njobs,"
  gen one=1
  bys psu hhold idp: egen njobs=total(one)
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
 replace njobs=. if lstatus!=1"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s1bq04==3
 replace nlfreason=2 if s1bq04==2 | s1bq04==1
 replace nlfreason=3 if s1bq04==4
 replace nlfreason=4 if s1bq04==7
 replace nlfreason=5 if s1bq04==5 | s1bq04==6 | s1bq04>=9 & s1bq04<=11
 replace nlfreason=. if s1bq04==0 | s1bq04==14 | lstatus!=3
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,occup,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
 gen byte nlfreason=.
 replace nlfreason=1 if s1bq04==3
 replace nlfreason=2 if s1bq04==2 | s1bq04==1
 replace nlfreason=3 if s1bq04==4
 replace nlfreason=4 if s1bq04==7
 replace nlfreason=5 if s1bq04==5 | s1bq04==6 | s1bq04>=9 & s1bq04<=11
 replace nlfreason=. if s1bq04==0 | s1bq04==14 | lstatus!=3
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,ocusec,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
 gen byte ocusec=.
 replace ocusec= 1 if s4bq06==1 | s4bq06==2 | s4bq06==4 | s4bq06==6
 replace ocusec= 1 if s4bq06==7
 replace ocusec= 2 if s4bq06==3 | s4bq06==5 | s4bq06==8
 replace ocusec=. if lstatus!=1"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s6aq23==1
 replace ownhouse=0 if s6aq23!=1 & s6aq23!=.
 replace ownhouse=. if s6aq23==5
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,piped_water,
 gen piped_water= s6aq12==1 if s6aq12!=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,pline_nat,
 drop pline_nat
 gen pline_nat=zu16
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,poor_int,
 gen welfare=pcexp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int if welfare!=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,poor_nat,
 gen welfare=pcexp
 gen welfarenat=welfare
 drop pline_nat
 gen pline_nat=zu16
 gen poor_nat=welfarenat<pline_nat if welfare!=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,pop_wgt,"
 ren s1aq00 idp
 drop if member1==0
 drop if idp==.
 ren s1bq00 idp
 drop if idp==.
 ren s4aq00 idp
 drop if idp==.
  ren s4bq00 idp
  drop if idp==.
 ren s2aq00 idp
 drop if idp==.
 ren s2bq00 idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X""
 replace assets=. if s9eq01a==""X"" & s9eq02!=.
 replace assets=. if assets==1 & s9eq02==.
 replace assets=. if assets==0 & s9eq02!=.
 reshape wide assets, i(hhold) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 reshape wide s7c1q02a, i(hhold) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {
  merge m:1 hhold using ``j'', keep(1 3) nogen
 }
 ren idp idp1
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idp1), punct(-)
 drop wgt
 gen double wgt=hhwgt
 ren member hsize
 gen pop_wgt=wgt*hsize"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,psu,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,radio,
 gen radio=assets571
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,rbirth,
 gen byte rbirth=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,rbirth_juris,
 gen byte rbirth_juris=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,refrigerator,
 gen refrigerator= assets577
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,relationcs,"
 ren s1aq00 idp
 drop if idp==.
 ren s1bq00 idp
 drop if idp==.
 ren s4aq00 idp
 drop if idp==.
  ren s4bq00 idp
  drop if idp==.
 ren s2aq00 idp
 drop if idp==.
 ren s2bq00 idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X""
 replace assets=. if s9eq01a==""X"" & s9eq02!=.
 replace assets=. if assets==1 & s9eq02==.
 replace assets=. if assets==0 & s9eq02!=.
 reshape wide assets, i(hhold) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 reshape wide s7c1q02a, i(hhold) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {
  merge m:1 hhold using ``j'', keep(1 3) nogen
 }
 ren idp idp1
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idp1), punct(-)
 replace s1aq02=. if s1aq02==0
 replace s1aq02=14 if s1aq02==. & hhold==387041 & idp1==2
 replace s1aq02=14 if headnew==0 & s1aq02==1
 replace s1aq02=1 if headnew==1
 gen byte relationcs=s1aq02
 replace relationcs=. if s1aq02==0"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,relationharm,"
 ren s1aq00 idp
 drop if idp==.
 ren s1bq00 idp
 drop if idp==.
 ren s4aq00 idp
 drop if idp==.
  ren s4bq00 idp
  drop if idp==.
 ren s2aq00 idp
 drop if idp==.
 ren s2bq00 idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X""
 replace assets=. if s9eq01a==""X"" & s9eq02!=.
 replace assets=. if assets==1 & s9eq02==.
 replace assets=. if assets==0 & s9eq02!=.
 reshape wide assets, i(hhold) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 reshape wide s7c1q02a, i(hhold) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {
  merge m:1 hhold using ``j'', keep(1 3) nogen
 }
 ren idp idp1
 egen idh=concat(psu hhold), punct(-)
 egen idp=concat(idh idp1), punct(-)
 replace s1aq02=. if s1aq02==0
 replace s1aq02=14 if s1aq02==. & hhold==387041 & idp1==2
 replace s1aq02=14 if headnew==0 & s1aq02==1
 replace s1aq02=1 if headnew==1
 gen byte relationharm=s1aq02"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,rprevious,
 gen byte rprevious=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,rprevious_juris,
 gen byte rprevious_juris=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,sar_improved_toilet,"
 gen sar_improved_toilet=.
 replace sar_improved_toilet=1 if inlist(s6aq10,1,2,3)
 replace sar_improved_toilet=0 if inlist(s6aq10,4,5,6)"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,sar_improved_water,"
 gen water_jmp=.
 replace water_jmp=1 if s6aq12==1
 replace water_jmp=4 if s6aq12==2
 replace water_jmp=12 if s6aq12==3
 replace water_jmp=14 if s6aq12==4
 replace water_jmp=14 if s6aq12==5
 replace water_jmp=14 if s6aq12==6
 gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
 replace sar_improved_water=0 if inlist(water_jmp,6,8,10,11,12,13,14)"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,sewage_toilet,
 gen sewage_toilet=s6aq10
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,sewingmachine,
 gen sewingmachine= assets586
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,soc,
 gen byte soc=s1aq04
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,socialsec,
 gen byte socialsec=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,spdef,
 gen spdef=spindex
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,strata,
 gen int year=2016
 egen strata=concat(year zilaid)
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,subnatid1,
 gen int year=2016
 gen byte subnatid1=.
 replace subnatid1=div
 replace subnatid1=30 if subnatid1==45 & year==2016
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,subnatid2,
 gen byte subnatid2=zl
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,survey,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,television,
 gen television= assets582
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,toilet_jmp,
 gen toilet_jmp=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,toilet_orig,
 gen toilet_orig=s6aq10
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,union,
 gen byte union=.
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,unitwage,"
  gen wage=.
  replace wage=s4bq02c if s4bq01==1
  replace wage=s4bq08 if s4bq01==1
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte unitwage=.
 replace unitwage=1 if s4bq01==1 & wage!=.
 replace unitwage=5 if s4bq01==2 & wage!=.
 replace unitwage=. if lstatus!=1
 replace unitwage=0 if empstat==2"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,unitwage_2,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,urban,"
 gen byte urban=urbrural
 foreach var of varlist urban - welfareother {
  qui sum `var'
  scalar sclrc = r(mean)
  if sclrc==. {
    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
  }"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,veralt,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,vermast,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,wage,"
  gen wage=.
  replace wage=s4bq02c if s4bq01==1
  replace wage=s4bq08 if s4bq01==1
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,wage_2,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,washingmachine,
 gen washingmachine= assets578
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,water_jmp,
 gen water_jmp=.
 replace water_jmp=1 if s6aq12==1
 replace water_jmp=4 if s6aq12==2
 replace water_jmp=12 if s6aq12==3
 replace water_jmp=14 if s6aq12==4
 replace water_jmp=14 if s6aq12==5
 replace water_jmp=14 if s6aq12==6
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,water_orig,
 gen water_orig=s6aq12
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfare,"
 gen welfare=pcexp
 foreach var of varlist urban - welfareother {
  qui sum `var'
  scalar sclrc = r(mean)
  if sclrc==. {
    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
  }
 foreach w in welfare welfareother{
  qui su `w'
  if r(N)==0{
   drop `w'type
  }"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfaredef,
 gen welfaredef=rpcexp
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfarenat,
 gen welfare=pcexp
 gen welfarenat=welfare
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfarenom,
 gen welfarenom=pcexp
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfareother,"
 gen welfareother=.
 foreach var of varlist urban - welfareother {
  qui sum `var'
  scalar sclrc = r(mean)
  if sclrc==. {
    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
  }
 foreach w in welfare welfareother{
  qui su `w'
  if r(N)==0{
   drop `w'type
  }"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfareothertype,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfaretype,
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,welfshprosperity,
 gen welfshprosperity=pcexp
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,wgt,
 drop wgt
 gen double wgt=hhwgt
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,whours,"
 foreach i in employment education_all education_current wage_employment {
  merge m:1 hhold idp using ``i'', keep(1 3) nogen
 }
 gen byte age= s1aq03
 replace age=98 if age>98 & s1aq03!=.
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=2 if s1bq01==2 & s1bq03==1
 replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
 replace lstatus=2 if s1bq04==8 | s1bq04==10 /*Waiting to start new job /and/ On leave/looking for job/business*/
 replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
 replace lstatus=. if age<5
 replace s4aq04=. if s4aq04>24
 gen whours=int(s4aq03* s4aq04)/4.25
 replace whours=. if lstatus!=1"
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,year,
 gen int year=2016
 local year=2011
bgd_2016_hies_v01_m_v01_a_sarmd,BGD,2016,HIES,v01,v01,yrmove,
 gen int yrmove=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,age,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=."
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,atschool,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte atschool=s2bq01
  replace atschool=0 if s2bq01==2
  replace atschool=. if s2bq01>2
  replace atschool=. if age<5
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,bicycle,
  gen bicycle= assets574
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,buffalo,
  gen buffalo= s7c1q02a_204
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,cellphone,"
  recode s1aq10 (2 = 0), gen(cellphone)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,chicken,
  gen chicken= s7c1q02a_205
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,computer,"
  recode s6aq20 (2 = 0) (0 = .), gen(computer)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,contract,
  gen byte contract=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,countrycode,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,cow,
  gen cow=s7c1q02a_201
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,cpi,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,cpiperiod,
  gen cpiperiod=syear
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,ed_mod_age,
  gen byte ed_mod_age=5
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,educat4,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte educat4=.
  replace educat4=1 if educat7==1
  replace educat4=2 if educat7==2 |educat7==3
  replace educat4=3 if educat7==4 |educat7==5
  replace educat4=4 if educat7==6 |educat7==7
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,educat5,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen educat5=.
  replace educat5=1 if educat7==1
  replace educat5=2 if educat7==2
  replace educat5=3 if educat7==3 | educat7==4
  replace educat5=4 if educat7==5
  replace educat5=5 if educat7==6 |educat7==7
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,educat7,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,educy,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,electricity,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,empstat,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte empstat=.
  replace empstat=1 if (s4aq07_1==1 | s4aq08_1==1 | s4aq07_1==4 | s4aq08_1==4)
  replace empstat=3 if (s4aq07_1==3 | s4aq08_1==3)
  replace empstat=4 if (s4aq07_1==2 | s4aq08_1==2)
  replace empstat=. if lstatus!=1
  replace empstat=. if lstatus!=1 "
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,empstat_2,"
 gen one=1
 bys psu hhid idp: egen njobs=total(one)
 drop one
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace njobs=. if lstatus!=1
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,empstat_2_year,"
 gen one=1
 bys psu hhid idp: egen njobs=total(one)
 drop one
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace njobs=. if lstatus!=1
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)
  gen empstat_2_year=.
  replace empstat_2_year=empstat_2
  replace empstat_2_year=. if (njobs_year==0 | njobs_year==. | lstatus_year!=1)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,everattend,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,fan,
  gen fan= assets579
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,firmsize_l,
  gen byte firmsize_l=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,healthins,
  gen byte healthins=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,hsize,"
 ren indid idp
 drop if member1==0
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 ren idp idp1
  egen idh=concat(psu hhid), punct(-)
  egen idp=concat(idh idp1), punct(-)
  ren member hsize"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,idh,"
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
  egen idh=concat(psu hhid), punct(-)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,idp,"
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 ren idp idp1
  egen idh=concat(psu hhid), punct(-)
  egen idp=concat(idh idp1), punct(-)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,industry,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen industry_orig=s4aq01c_1
  replace industry_orig=. if lstatus!=1
  gen industry=industry_orig
  replace industry=. if lstatus==2| lstatus==3
  replace industry=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,industry_2,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen industry_orig_2=s4aq01c_2
  replace industry_orig_2=. if lstatus!=1
  gen industry_2=industry_orig_2
  replace industry_2=. if lstatus==2| lstatus==3
  replace industry_2=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,industry_orig_2,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen industry_orig_2=s4aq01c_2
  replace industry_orig_2=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,int_month,
  gen byte int_month=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,int_year,
  gen byte int_year=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,internet,"
  recode s6aq21 (2 = 0) (0 = .), gen(internet)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,lamp,
  gen lamp= assets585
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,lb_mod_age,
  gen byte lb_mod_age=5
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,literacy,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte ed_mod_age=5
  gen byte literacy=.
  replace literacy=1 if (s2aq01==1 & s2aq02==1)
  replace literacy=0 if (s2aq01==2 | s2aq02==2) & literacy!=1 // A person with different response is reported as missing
  replace literacy=. if age<ed_mod_age
  replace literacy=. if (s2aq01!=1 & s2aq01!=2) | (s2aq02!=2 & s2aq02!=1)
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,lphone,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,lstatus,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,male,
  gen byte male= s1aq01
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,marital,
  gen byte marital=.
  replace marital=1 if s1aq05==1
  replace marital=4 if s1aq05==5 | s1aq05==4
  replace marital=5 if s1aq05==3
  replace marital=2 if s1aq05==2
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,motorcar,
  gen motorcar= assets576
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,motorcycle,
  gen motorcycle= assets575
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,njobs,"
 gen one=1
 bys psu hhid idp: egen njobs=total(one)
 drop one
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace njobs=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,nlfreason,
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte nlfreason=.
  replace nlfreason=1 if s1bq04==3
  replace nlfreason=2 if (s1bq04==2 | s1bq04==1)
  replace nlfreason=3 if s1bq04==4
  replace nlfreason=4 if s1bq04==7
  replace nlfreason=5 if (s1bq04==5 | s1bq04==6 | s1bq04>=9) & s1bq04<=11
  replace nlfreason=. if (s1bq04==0 | s1bq04==14 | lstatus!=3)
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,occup,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace occup=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,ocusec,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte ocusec=.
  replace ocusec= 1 if (s4bq06_1==1 | s4bq06_1==2 | s4bq06_1==4 | s4bq06_1==6)
  replace ocusec= 1 if (s4bq06_1==7)
  replace ocusec= 2 if (s4bq06_1==3 | s4bq06_1==5 | s4bq06_1==8)
  replace ocusec=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,ownhouse,
  gen byte ownhouse=.
  replace ownhouse=1 if s6aq23==1
  replace ownhouse=0 if (s6aq23!=1 & s6aq23!=.)
  replace ownhouse=. if s6aq23==5
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,piped_water,
  gen piped_water= s6aq12==1 if s6aq12!=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,pline_int,
  gen pline_int=1.90*cpi*ppp*365/12
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,pline_nat,
  drop pline_nat
  gen pline_nat=zu16
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,poor_int,
  gen welfare=pcexp
  gen pline_int=1.90*cpi*ppp*365/12
  gen poor_int=welfare<pline_int if welfare!=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,poor_nat,
  gen welfare=pcexp
  gen welfarenat=welfare
  drop pline_nat
  gen pline_nat=zu16
  gen poor_nat=welfarenat<pline_nat if welfare!=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,pop_wgt,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,psu,"
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,radio,
  gen radio=assets571
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,rbirth,
  gen byte rbirth=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,rbirth_juris,
  gen byte rbirth_juris=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,refrigerator,
  gen refrigerator= assets577
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,relationcs,"
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X"" // Mark both Yes and No
 replace assets=. if s9eq01a==""X"" & s9eq02!=.  // Mark No but have number of items
 replace assets=. if assets==1 & s9eq02==.   // Mark Yes but doesn't have the number
 reshape wide assets, i(hhid) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 ren (s7c1q02a) (s7c1q02a_)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {

  merge m:1 hhid using ``j'', keep(1 3) nogen

 }
 ren idp idp1
  egen idp=concat(idh idp1), punct(-)
 replace s1aq02=. if s1aq02==0
 replace s1aq02=14 if s1aq02==. & hhid==387041 & idp1==2
 replace s1aq02=14 if headnew==0 & s1aq02==1
 replace s1aq02=1 if headnew==1
  gen byte relationcs=s1aq02
  replace relationcs=. if s1aq02==0"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,relationharm,"
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X"" // Mark both Yes and No
 replace assets=. if s9eq01a==""X"" & s9eq02!=.  // Mark No but have number of items
 replace assets=. if assets==1 & s9eq02==.   // Mark Yes but doesn't have the number
 reshape wide assets, i(hhid) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 ren (s7c1q02a) (s7c1q02a_)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {

  merge m:1 hhid using ``j'', keep(1 3) nogen

 }
 ren idp idp1
  egen idp=concat(idh idp1), punct(-)
 replace s1aq02=. if s1aq02==0
 replace s1aq02=14 if s1aq02==. & hhid==387041 & idp1==2
 replace s1aq02=14 if headnew==0 & s1aq02==1
 replace s1aq02=1 if headnew==1
 gen byte relationharm=s1aq02"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,rprevious,
  gen byte rprevious=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,rprevious_juris,
  gen byte rprevious_juris=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,sar_improved_toilet,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,sar_improved_water,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,sewage_toilet,
  gen sewage_toilet=s6aq10
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,sewingmachine,
  gen sewingmachine= assets586
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,soc,
  gen byte soc=s1aq04
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,socialsec,
  gen byte socialsec=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,spdef,
  gen spdef=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,strata,
  gen int year=2016
  egen strata=concat(year stratum)
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,subnatid1,
  gen int year=2016
  gen byte subnatid1=.
  replace subnatid1=division_code
  replace subnatid1=30 if (subnatid1==45 & year==2016)
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,subnatid2,
  gen byte subnatid2=zila_code
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,subnatid3,
  gen byte subnatid3=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,survey,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,television,
  gen television= assets582
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,toilet_jmp,
  gen toilet_jmp=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,toilet_orig,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,unempldur_l,
  gen byte unempldur_l=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,unempldur_u,
  gen byte unempldur_u=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,union,
  gen byte union=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,unitwage,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte empstat=.
  replace empstat=1 if (s4aq07_1==1 | s4aq08_1==1 | s4aq07_1==4 | s4aq08_1==4)
  replace empstat=3 if (s4aq07_1==3 | s4aq08_1==3)
  replace empstat=4 if (s4aq07_1==2 | s4aq08_1==2)
  replace empstat=. if lstatus!=1
  gen double wage=.
  replace wage=s4bq07_1 if s4bq01_1==2
  replace wage=s4bq02c_1 if s4bq01_1==1
  replace empstat=. if lstatus!=1 
  replace wage=0 if empstat==2
  replace wage=. if lstatus!=1
  gen byte unitwage=.
  replace unitwage=1 if s4bq01_1==1 & wage!=.
  replace unitwage=5 if s4bq01_1==2 & wage!=.
  replace unitwage=. if lstatus!=1
  replace unitwage=0 if empstat==2"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,unitwage_2,
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)
  gen double wage_2=.
  replace wage_2=s4bq07_2 if s4bq01_2==2
  replace wage_2=s4bq02c_2 if s4bq01_2==1
  replace wage_2=0 if empstat_2==2
  gen byte unitwage_2=.
  replace unitwage_2=1 if s4bq01_2==1 & wage_2!=.
  replace unitwage_2=5 if s4bq01_2==2 & wage_2!=.
  replace unitwage_2=0 if empstat_2==2
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,urban,
  gen byte urban=urbrural
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,veralt,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,vermast,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,wage,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte empstat=.
  replace empstat=1 if (s4aq07_1==1 | s4aq08_1==1 | s4aq07_1==4 | s4aq08_1==4)
  replace empstat=3 if (s4aq07_1==3 | s4aq08_1==3)
  replace empstat=4 if (s4aq07_1==2 | s4aq08_1==2)
  replace empstat=. if lstatus!=1
  gen double wage=.
  replace wage=s4bq07_1 if s4bq01_1==2
  replace wage=s4bq02c_1 if s4bq01_1==1
  replace empstat=. if lstatus!=1 
  replace wage=0 if empstat==2
  replace wage=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,wage_2,
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)
  gen double wage_2=.
  replace wage_2=s4bq07_2 if s4bq01_2==2
  replace wage_2=s4bq02c_2 if s4bq01_2==1
  replace wage_2=0 if empstat_2==2
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,washingmachine,
  gen washingmachine= assets578
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,water_jmp,
  gen water_jmp=.
  replace water_jmp=1 if s6aq12==1
  replace water_jmp=4 if s6aq12==2
  replace water_jmp=12 if s6aq12==3
  replace water_jmp=14 if s6aq12==4
  replace water_jmp=14 if s6aq12==5
  replace water_jmp=14 if s6aq12==6
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,water_orig,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfare,
  gen welfare=pcexp
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfaredef,
  gen welfaredef=rpcexp
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfarenat,
  gen welfare=pcexp
  gen welfarenat=welfare
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfarenom,
  gen welfarenom=pcexp
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfareother,
  gen welfareother=.
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfareothertype,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfaretype,
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,welfshprosperity,
  gen welfshprosperity=pcexp
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,wgt,
  gen double wgt=hhwgt
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,whours,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace s4aq04_1=. if s4aq04_1>24
  gen whours=int(s4aq03_1* s4aq04_1)/4.25
  replace whours=. if lstatus!=1"
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,year,
  gen int year=2016
 glo year=2011
bgd_2016_hies_v01_m_v02_a_sarmd,BGD,2016,HIES,v01,v02,yrmove,
  gen int yrmove=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,age,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=."
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,atschool,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte atschool=s2bq01
  replace atschool=0 if s2bq01==2
  replace atschool=. if s2bq01>2
  replace atschool=. if age<5
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,bicycle,
  gen bicycle= assets574
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,buffalo,
  gen buffalo= s7c1q02a_204
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,cellphone,"
  recode s1aq10 (2 = 0), gen(cellphone)
  bysort hhid: egen cellphone_total=sum(cellphone)
  replace cellphone=1 if cellphone_total>1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,chicken,
  gen chicken= s7c1q02a_205
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,computer,"
  recode s6aq20 (2 = 0) (0 = .), gen(computer)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,contract,
  gen byte contract=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,countrycode,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,cow,
  gen cow=s7c1q02a_201
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,cpi,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,cpiperiod,
  gen cpiperiod=syear
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,ed_mod_age,
  gen byte ed_mod_age=5
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,educat4,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte educat4=.
  replace educat4=1 if educat7==1
  replace educat4=2 if educat7==2 |educat7==3
  replace educat4=3 if educat7==4 |educat7==5
  replace educat4=4 if educat7==6 |educat7==7
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,educat5,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen educat5=.
  replace educat5=1 if educat7==1
  replace educat5=2 if educat7==2
  replace educat5=3 if educat7==3 | educat7==4
  replace educat5=4 if educat7==5
  replace educat5=5 if educat7==6 |educat7==7
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,educat7,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,educy,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 replace educy=0 if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,electricity,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,empstat,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte empstat=.
  replace empstat=1 if (s4aq07_1==1 | s4aq08_1==1 | s4aq07_1==4 | s4aq08_1==4)
  replace empstat=3 if (s4aq07_1==3 | s4aq08_1==3)
  replace empstat=4 if (s4aq07_1==2 | s4aq08_1==2)
  replace empstat=. if lstatus!=1
  replace empstat=. if lstatus!=1 "
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,empstat_2,"
 gen one=1
 bys psu hhid idp: egen njobs=total(one)
 drop one
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace njobs=. if lstatus!=1
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,empstat_2_year,"
 gen one=1
 bys psu hhid idp: egen njobs=total(one)
 drop one
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace njobs=. if lstatus!=1
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)
  gen empstat_2_year=.
  replace empstat_2_year=empstat_2
  replace empstat_2_year=. if (njobs_year==0 | njobs_year==. | lstatus_year!=1)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,everattend,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen educy=s2aq04
  replace educy=s2bq03 if (educy==. & s2bq03!=.)
  replace educy=educy-1 if (s2aq04==. & s2bq03<=11 & s2bq03!=.)
  replace educy=0 if educy==-1
  replace educy=. if educy==50
  replace educy=. if age<5
  replace educy=. if (educy>age & educy!=. & age!=.)
  gen byte educat7=.
  replace educat7=1 if educy==0
  replace educat7=2 if (educy>0 & educy<5)
  replace educat7=3 if (educy==5)
  replace educat7=4 if (educy>5 & educy<12)
  replace educat7=5 if (educy==12)
  replace educat7=7 if (educy>12 & educy<23)
  replace educat7=6 if inlist(educy,13,14)
  replace educat7=8 if s2aq04==19 | s2bq03==19
  replace educat7=. if age<5
  gen byte everattend=.
  replace everattend=0 if educat7==1
  replace everattend=1 if (educat7>=2 & educat7!=.) | atschool==1
  replace everattend=. if age<5
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,fan,
  gen fan= assets579
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,firmsize_l,
  gen byte firmsize_l=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,healthins,
  gen byte healthins=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,hsize,"
 ren indid idp
 drop if member1==0
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 ren idp idp1
  egen idh=concat(psu hhid), punct(-)
  egen idp=concat(idh idp1), punct(-)
  ren member hsize"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,idh,"
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
  egen idh=concat(psu hhid), punct(-)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,idp,"
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 ren idp idp1
  egen idh=concat(psu hhid), punct(-)
  egen idp=concat(idh idp1), punct(-)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,industry,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen industry_orig=s4aq01c_1
  replace industry_orig=. if lstatus!=1
  gen industry=industry_orig
  replace industry=. if lstatus==2| lstatus==3
  replace industry=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,industry_2,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen industry_orig_2=s4aq01c_2
  replace industry_orig_2=. if lstatus!=1
  gen industry_2=industry_orig_2
  replace industry_2=. if lstatus==2| lstatus==3
  replace industry_2=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,industry_orig_2,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen industry_orig_2=s4aq01c_2
  replace industry_orig_2=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,int_month,
  gen byte int_month=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,int_year,
  gen byte int_year=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,internet,"
  recode s6aq21 (2 = 0) (0 = .), gen(internet)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,lamp,
  gen lamp= assets585
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,lb_mod_age,
  gen byte lb_mod_age=5
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,literacy,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte ed_mod_age=5
  gen byte literacy=.
  replace literacy=1 if (s2aq01==1 & s2aq02==1)
  replace literacy=0 if (s2aq01==2 | s2aq02==2) & literacy!=1 // A person with different response is reported as missing
  replace literacy=. if age<ed_mod_age
  replace literacy=. if (s2aq01!=1 & s2aq01!=2) | (s2aq02!=2 & s2aq02!=1)
 foreach var in atschool literacy educy everattend educat4 educat5 educat7 {

  replace `var'=. if age<ed_mod_age

 }"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,lphone,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,lstatus,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,male,
  gen byte male= s1aq01
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,marital,
  gen byte marital=.
  replace marital=1 if s1aq05==1
  replace marital=4 if s1aq05==5 | s1aq05==4
  replace marital=5 if s1aq05==3
  replace marital=2 if s1aq05==2
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,motorcar,
  gen motorcar= assets576
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,motorcycle,
  gen motorcycle= assets575
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,njobs,"
 gen one=1
 bys psu hhid idp: egen njobs=total(one)
 drop one
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace njobs=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,nlfreason,
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte nlfreason=.
  replace nlfreason=1 if s1bq04==3
  replace nlfreason=2 if (s1bq04==2 | s1bq04==1)
  replace nlfreason=3 if s1bq04==4
  replace nlfreason=4 if s1bq04==7
  replace nlfreason=5 if (s1bq04==5 | s1bq04==6 | s1bq04>=9) & s1bq04<=11
  replace nlfreason=. if (s1bq04==0 | s1bq04==14 | lstatus!=3)
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,occup,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace occup=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,ocusec,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte ocusec=.
  replace ocusec= 1 if (s4bq06_1==1 | s4bq06_1==2 | s4bq06_1==4 | s4bq06_1==6)
  replace ocusec= 1 if (s4bq06_1==7)
  replace ocusec= 2 if (s4bq06_1==3 | s4bq06_1==5 | s4bq06_1==8)
  replace ocusec=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,ownhouse,
  gen byte ownhouse=.
  replace ownhouse=1 if s6aq23==1
  replace ownhouse=0 if (s6aq23!=1 & s6aq23!=.)
  replace ownhouse=. if s6aq23==5
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,piped_water,
  gen piped_water= s6aq12==1 if s6aq12!=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,pline_int,
  gen pline_int=1.90*cpi*ppp*365/12
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,pline_nat,
  drop pline_nat
  gen pline_nat=zu16
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,poor_int,
  gen welfare=pcexp
  gen pline_int=1.90*cpi*ppp*365/12
  gen poor_int=welfare<pline_int if welfare!=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,poor_nat,
  gen welfare=pcexp
  gen welfarenat=welfare
  drop pline_nat
  gen pline_nat=zu16
  gen poor_nat=welfarenat<pline_nat if welfare!=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,pop_wgt,"
 ren indid idp
 drop if member1==0
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 reshape wide assets, i(hhid) j(s9eq00)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 ren idp idp1
  egen idh=concat(psu hhid), punct(-)
  egen idp=concat(idh idp1), punct(-)
  gen double wgt=hhwgt
  ren member hsize
  gen pop_wgt=wgt*hsize"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,psu,"
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,radio,
  gen radio=assets571
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,rbirth,
  gen byte rbirth=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,rbirth_juris,
  gen byte rbirth_juris=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,refrigerator,
  gen refrigerator= assets577
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,relationcs,"
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X"" // Mark both Yes and No
 replace assets=. if s9eq01a==""X"" & s9eq02!=.  // Mark No but have number of items
 replace assets=. if assets==1 & s9eq02==.   // Mark Yes but doesn't have the number
 reshape wide assets, i(hhid) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 ren (s7c1q02a) (s7c1q02a_)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {

  merge m:1 hhid using ``j'', keep(1 3) nogen

 }
 ren idp idp1
  egen idp=concat(idh idp1), punct(-)
 replace s1aq02=. if s1aq02==0
 replace s1aq02=14 if s1aq02==. & hhid==387041 & idp1==2
 replace s1aq02=14 if headnew==0 & s1aq02==1
 replace s1aq02=1 if headnew==1
  gen byte relationcs=s1aq02
  replace relationcs=. if s1aq02==0"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,relationharm,"
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 ren indid idp
 drop if idp==.
 s4bq06_ s4bq07_ s4bq08_ s4bq09_, i(psu hhid idp) j(activity)
 ren indid idp
 drop if idp==.
 ren indid idp 
 drop if idp==.
 gen assets=1 if s9eq01b==""X""
 replace assets=0 if s9eq01a==""X""
 replace assets=1 if s9eq02!=.
 replace assets=. if s9eq01b==""X"" & s9eq01a==""X"" // Mark both Yes and No
 replace assets=. if s9eq01a==""X"" & s9eq02!=.  // Mark No but have number of items
 replace assets=. if assets==1 & s9eq02==.   // Mark Yes but doesn't have the number
 reshape wide assets, i(hhid) j(s9eq00)
 replace s7c1q02a=1 if s7c1q02a>=1 & s7c1q02a!=.
 replace s7c1q02a=0 if s7c1q02a==.
 ren (s7c1q02a) (s7c1q02a_)
 reshape wide s7c1q02a_, i(hhid) j(s7c1q00)
 foreach j in housing consumption assets assets_animal land {

  merge m:1 hhid using ``j'', keep(1 3) nogen

 }
 ren idp idp1
  egen idp=concat(idh idp1), punct(-)
 replace s1aq02=. if s1aq02==0
 replace s1aq02=14 if s1aq02==. & hhid==387041 & idp1==2
 replace s1aq02=14 if headnew==0 & s1aq02==1
 replace s1aq02=1 if headnew==1
 gen byte relationharm=s1aq02"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,rprevious,
  gen byte rprevious=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,rprevious_juris,
  gen byte rprevious_juris=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,sar_improved_toilet,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,sar_improved_water,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,sewage_toilet,
  gen sewage_toilet=s6aq10
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,sewingmachine,
  gen sewingmachine= assets586
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,soc,
  gen byte soc=s1aq04
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,socialsec,
  gen byte socialsec=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,spdef,
  gen spdef=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,strata,
  gen int year=2016
  egen strata=concat(year stratum)
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,subnatid1,
  gen int year=2016
  gen byte subnatid1=.
  replace subnatid1=division_code
  replace subnatid1=30 if (subnatid1==45 & year==2016)
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,subnatid2,
  gen byte subnatid2=zila_code
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,subnatid3,
  gen byte subnatid3=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,survey,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,television,
  gen television= assets582
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,toilet_jmp,
  gen toilet_jmp=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,toilet_orig,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,unempldur_l,
  gen byte unempldur_l=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,unempldur_u,
  gen byte unempldur_u=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,union,
  gen byte union=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,unitwage,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte empstat=.
  replace empstat=1 if (s4aq07_1==1 | s4aq08_1==1 | s4aq07_1==4 | s4aq08_1==4)
  replace empstat=3 if (s4aq07_1==3 | s4aq08_1==3)
  replace empstat=4 if (s4aq07_1==2 | s4aq08_1==2)
  replace empstat=. if lstatus!=1
  gen double wage=.
  replace wage=s4bq07_1 if s4bq01_1==2
  replace wage=s4bq02c_1 if s4bq01_1==1
  replace empstat=. if lstatus!=1 
  replace wage=0 if empstat==2
  replace wage=. if lstatus!=1
  gen byte unitwage=.
  replace unitwage=1 if s4bq01_1==1 & wage!=.
  replace unitwage=5 if s4bq01_1==2 & wage!=.
  replace unitwage=. if lstatus!=1
  replace unitwage=0 if empstat==2"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,unitwage_2,
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)
  gen double wage_2=.
  replace wage_2=s4bq07_2 if s4bq01_2==2
  replace wage_2=s4bq02c_2 if s4bq01_2==1
  replace wage_2=0 if empstat_2==2
  gen byte unitwage_2=.
  replace unitwage_2=1 if s4bq01_2==1 & wage_2!=.
  replace unitwage_2=5 if s4bq01_2==2 & wage_2!=.
  replace unitwage_2=0 if empstat_2==2
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,urban,
  gen byte urban=urbrural
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,veralt,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,vermast,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,wage,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  gen byte empstat=.
  replace empstat=1 if (s4aq07_1==1 | s4aq08_1==1 | s4aq07_1==4 | s4aq08_1==4)
  replace empstat=3 if (s4aq07_1==3 | s4aq08_1==3)
  replace empstat=4 if (s4aq07_1==2 | s4aq08_1==2)
  replace empstat=. if lstatus!=1
  gen double wage=.
  replace wage=s4bq07_1 if s4bq01_1==2
  replace wage=s4bq02c_1 if s4bq01_1==1
  replace empstat=. if lstatus!=1 
  replace wage=0 if empstat==2
  replace wage=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,wage_2,
  gen byte empstat_2=.
  replace empstat_2=1 if (s4bq07_2==1 | s4bq08_2==1 | s4bq08_2==4 | s4bq07_2==4)
  replace empstat_2=3 if (s4bq07_2==3 | s4bq08_2==3)
  replace empstat_2=4 if (s4bq07_2==2 | s4bq08_2==2)
  replace empstat_2=. if (njobs==0 | njobs==. | lstatus!=1)
  gen double wage_2=.
  replace wage_2=s4bq07_2 if s4bq01_2==2
  replace wage_2=s4bq02c_2 if s4bq01_2==1
  replace wage_2=0 if empstat_2==2
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,washingmachine,
  gen washingmachine= assets578
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,water_jmp,
  gen water_jmp=.
  replace water_jmp=1 if s6aq12==1
  replace water_jmp=4 if s6aq12==2
  replace water_jmp=12 if s6aq12==3
  replace water_jmp=14 if s6aq12==4
  replace water_jmp=14 if s6aq12==5
  replace water_jmp=14 if s6aq12==6
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,water_orig,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfare,
  gen welfare=pcexp
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfaredef,
  gen welfaredef=rpcexp
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfarenat,
  gen welfare=pcexp
  gen welfarenat=welfare
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfarenom,
  gen welfarenom=pcexp
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfareother,
  gen welfareother=.
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfareothertype,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfaretype,
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,welfshprosperity,
  gen welfshprosperity=pcexp
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,wgt,
  gen double wgt=hhwgt
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,whours,"
 foreach i in employment education_all education_current wage_employment {

  merge 1:1 hhid idp using ``i'', keep(1 3) nogen

 }
  gen byte age= s1aq03
  replace age=98 if age>98 & s1aq03!=.
  gen byte lstatus=.
  replace lstatus=1 if s1bq01==1
  replace lstatus=2 if s1bq01==2 & s1bq03==1
  replace lstatus=3 if s1bq01==2 & (s1bq02==2 | s1bq03==2)
  replace lstatus=2 if s1bq04==8 | s1bq04==10 // Waiting to start new job /and/ On leave/looking for job/business
  replace lstatus=3 if s1bq04!=. & s1bq01==2 & lstatus==.
  replace lstatus=. if age<5
  replace s4aq04_1=. if s4aq04_1>24
  gen whours=int(s4aq03_1* s4aq04_1)/4.25
  replace whours=. if lstatus!=1"
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,year,
  gen int year=2016
 glo year=2011
bgd_2016_hies_v01_m_v03_a_sarmd,BGD,2016,HIES,v01,v03,yrmove,
  gen int yrmove=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,age,
 gen age=b21_q3ag
 replace age=98 if age>=98
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,atschool,
 gen atschool=b22_q9
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,bicycle,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,buffalo,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,cellphone,
 gen cellphone=b3_q1mob ==1|b3_q1mob ==2
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,chicken,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,computer,
 gen computer=1 if b3_q1com ==1|b3_q1com ==2
 replace computer=0 if b3_q1com==3
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,contract,
 gen contract=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,countrycode,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,cow,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,cpi,
 ren cpi`year'_w cpi
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,cpiperiod,
 gen cpiperiod=syear
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,ed_mod_age,
 gen ed_mod_age=3
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,educat4,
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=7 if b22_q17>=1 & b22_q17<5
 replace educat7=6 if b22_q17>=2 & b22_q17<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,educat5,
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=7 if b22_q17>=1 & b22_q17<5
 replace educat7=6 if b22_q17>=2 & b22_q17<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,educat7,
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=7 if b22_q17>=1 & b22_q17<5
 replace educat7=6 if b22_q17>=2 & b22_q17<5
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,educy,
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,electricity,
 gen electricity=b1_q18==2
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,empstat,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=b24_q38
 replace empstat =. if lstatus~=1"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,empstat_2,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,empstat_2_year,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,everattend,
 gen everattend=b22_q8
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,fan,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,firmsize_l,
 gen firmsize_l=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,healthins,
 gen healthins=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,hsize,
 ren hh_size hsize
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,idh,"
 destring houseid_str , generate(idh)"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,idp,
 ren indiv idp
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,industry,
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen industry=b24_q40
 replace industry =. if age<15 | industry==11
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,industry_2,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,industry_orig_2,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,int_month,
 gen byte int_month=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,int_year,
 gen byte int_year=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,internet,
 gen internet=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,lamp,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,lb_mod_age,
 gen lb_mod_age=15
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,literacy,
 gen literacy=.
 replace literacy=0 if b22_q7dz==2 & b22_q7en==2 & b22_q7ot==2 & b22_q7lo==2
 replace literacy=1 if b22_q7dz==1 | b22_q7en==1 | b22_q7ot==1 | b22_q7lo==1
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,lphone,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,male,
 gen male=b21_q1
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,marital,
 gen marital=b21_q4
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,motorcar,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,motorcycle,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,njobs,
 gen njobs=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=b24_q37
  replace nlfreason=. if lstatus~=3"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,occup,"
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(b24_q39/100)
 replace occup=. if lstatus!=1 | age<15"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,ocusec,"
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=b24_q41
 replace ocusec=. if lstatus!=1 | age<15"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,ownhouse,
 gen ownhouse=b1_q2
 gen relationharm=b21_q2
 replace ownhouse=. if relationharm==6
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,piped_water,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,pline_nat,
 ren povline_month pline_nat
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,poor_int,
 gen welfare=pcc_t_mo
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,poor_nat,
 gen welfaredef=pcc_t_mo*reg_defl
 ren povline_month pline_nat
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,pop_wgt,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,psu,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,radio,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,rbirth,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,rbirth_juris,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,refrigerator,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,relationcs,
 gen byte relationcs=b21_q2
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,relationharm,
 gen relationharm=b21_q2
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,rprevious,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,rprevious_juris,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,sar_improved_toilet,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,sar_improved_water,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,sewage_toilet,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,sewingmachine,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,soc,
 gen soc=b21_q5
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,socialsec,
 gen socialsec=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,spdef,
 gen spdef=reg_defl
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,strata,
 gen strata=stratum
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,subnatid1,"
 recode area01 (11 12 13 14 41 = 1) (15 16 17 44 43 = 2) (31/36=3) (21 22 23 42 = 4), gen(subnatid1)"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,subnatid2,
 gen subnatid2=dzongkha
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,subnatid3,
 gen byte subnatid3=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,survey,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,television,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,toilet_jmp,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,toilet_orig,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,unempldur_l,
 gen unempldur_l=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,unempldur_u,
 gen unempldur_u=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,union,
 gen union=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,unitwage,
 gen unitwage=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,unitwage_2,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,urban,
 gen urban=stratum
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,veralt,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,vermast,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,wage,
 gen wage=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,wage_2,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,washingmachine,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,water_jmp,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,water_orig,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfare,
 gen welfare=pcc_t_mo
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfaredef,
 gen welfaredef=pcc_t_mo*reg_defl
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfarenat,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfarenom,
 gen welfarenom=pcc_t_mo
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfareother,
 gen welfareother=.
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfareothertype,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfaretype,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,welfshprosperity,
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,wgt,
 gen wgt=weight
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,whours,"
 gen age=b21_q3ag
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen whours=b24_q47m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15"
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,year,
 gen year=2003
 local year=2011
btn_2003_blss_v01_m_v01_a_sarmd,BTN,2003,BLSS,v01,v01,yrmove,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,age,
 *gen age=b21_q3ag
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,atschool,
 gen atschool=b22_q9
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,bicycle,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,buffalo,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,cellphone,
 gen cellphone=b3_q1mob ==1|b3_q1mob ==2
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,chicken,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,computer,
 gen computer=1 if b3_q1com ==1|b3_q1com ==2
 replace computer=0 if b3_q1com==3
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,contract,
 gen contract=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,countrycode,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,cow,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,cpi,
 ren cpi`year'_w cpi
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,cpiperiod,
 gen cpiperiod=syear
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,ed_mod_age,
 gen ed_mod_age=3
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,educat4,
 *gen age=b21_q3ag
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if b22_q17>=2 & b22_q17<5
 replace educat7=. if educat7==6 & educy<12
 replace educy=. if educat7==.
 replace educat7=7 if b22_q17==1
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,educat5,
 *gen age=b21_q3ag
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if b22_q17>=2 & b22_q17<5
 replace educat7=. if educat7==6 & educy<12
 replace educy=. if educat7==.
 replace educat7=7 if b22_q17==1
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,educat7,
 *gen age=b21_q3ag
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if b22_q17>=2 & b22_q17<5
 replace educat7=. if educat7==6 & educy<12
 replace educy=. if educat7==.
 replace educat7=7 if b22_q17==1
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,educy,
 *gen age=b21_q3ag
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if b22_q10==13 | b22_q16==012
 replace educy1=13 if b22_q10==14 | b22_q16==013
 replace educy1=14 if b22_q10==15 | b22_q16==014
 replace educy1=15 if b22_q16==015
 replace educy1 = 0 if b22_q8==2 & mi(educy1)
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 replace CONEDYEARS = 0 if b22_q8==2 & mi(CONEDYEARS)
 ren CONEDYEARS educy
 replace educy=. if educy>age & educy!=. & age!=.
 replace educy=. if educat7==.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,electricity,
 gen electricity=b1_q18==2
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,empstat,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=b24_q38
 replace empstat =. if lstatus!=1"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,empstat_2,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,empstat_2_year,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,everattend,
 gen everattend=b22_q8
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,fan,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,firmsize_l,
 gen firmsize_l=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,healthins,
 gen healthins=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,hsize,
 ren hh_size hsize
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,idh,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,idp,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)
 gen ind_str = string(idno,""%02.0f"")
 egen idp = concat(idh ind_str)"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,industry,
 *gen age=b21_q3ag
 gen industry=b24_q40
 replace industry =. if age<15 | industry==11
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,industry_2,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,industry_orig_2,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,int_month,
 gen byte int_month=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,int_year,
 gen byte int_year=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,internet,
 gen internet=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,lamp,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,lb_mod_age,
 gen lb_mod_age=15
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,literacy,
 gen literacy=.
 replace literacy=0 if b22_q7dz==2 & b22_q7en==2 & b22_q7ot==2 & b22_q7lo==2
 replace literacy=1 if b22_q7dz==1 | b22_q7en==1 | b22_q7ot==1 | b22_q7lo==1
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,lphone,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,male,
 gen male=b21_q1
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,marital,
gen marital=b21_q4
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,motorcar,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,motorcycle,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,njobs,
 gen njobs=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=b24_q37
  replace nlfreason=. if lstatus!=3"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,occup,"
 *gen age=b21_q3ag
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(b24_q39/100)
 replace occup=. if lstatus!=1 | age<15"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,ocusec,"
 *gen age=b21_q3ag
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=b24_q41
 replace ocusec=. if lstatus!=1 | age<15"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,ownhouse,
 gen ownhouse=b1_q2
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,piped_water,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,pline_nat,
 gen pline_nat=740.36
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,poor_int,
 gen welfare=pcc_t_mo
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,poor_nat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
 gen pline_nat=740.36
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,pop_wgt,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,psu,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 *egen psu=group(stratum_ dzongkha_ town_ block_ )"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,radio,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,rbirth,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,rbirth_juris,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,refrigerator,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,relationcs,
 gen byte relationcs=b21_q2
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,relationharm,
 gen relationharm=b21_q2
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,rprevious,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,rprevious_juris,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,sar_improved_toilet,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,sar_improved_water,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,sewage_toilet,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,sewingmachine,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,soc,
 gen soc=b21_q5
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,socialsec,
 gen socialsec=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,spdef,
 gen spdef=paachse
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,strata,
 gen strata=stratum
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,subnatid1,"
 recode area01 (11 12 13 14 41 = 1) (15 16 17 44 43 = 2) (31/36=3) (21 22 23 42 = 4), gen(subnatid1)"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,subnatid2,
 gen subnatid2=dzongkha
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,subnatid3,
 gen byte subnatid3=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,survey,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,television,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,toilet_jmp,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,toilet_orig,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,unempldur_l,
 gen unempldur_l=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,unempldur_u,
 gen unempldur_u=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,union,
 gen union=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,unitwage,
 gen unitwage=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,unitwage_2,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,urban,
 gen urban=stratum
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,veralt,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,vermast,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,wage,
 gen wage=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,wage_2,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,washingmachine,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,water_jmp,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,water_orig,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfare,
 gen welfare=pcc_t_mo
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfaredef,
 gen welfaredef=pcc_t_mo*paachse
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfarenat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfarenom,
 gen welfarenom=pcc_t_mo
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfareother,
 gen welfareother=.
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfareothertype,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfaretype,
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,welfshprosperity,
 gen welfaredef=pcc_t_mo*paachse
 gen welfshprosperity=welfaredef
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,wgt,
 gen wgt=weight
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,whours,"
 *gen age=b21_q3ag
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 replace lstatus = . if age<15
 gen whours=b24_q47m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15"
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,year,
 gen int year=2003
 local year=2011
btn_2003_blss_v01_m_v02_a_sarmd,BTN,2003,BLSS,v01,v02,yrmove,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,age,
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,atschool,
 gen atschool=b22_q9
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,bicycle,
 gen bicycle= b3_q1bic==1 | b3_q1bic==2 if !mi(b3_q1bic)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,buffalo,
 gen buffalo=b3_q2buf>0 if b3_q2buf<.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,cellphone,
 gen cellphone=b3_q1mob ==1|b3_q1mob ==2 if !mi(b3_q1mob)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,chicken,
 gen chicken=b3_q2chi>0 if b3_q2chi<.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,computer,
 gen computer=b3_q1com ==1| b3_q1com ==2 if !mi(b3_q1com)
 replace computer=0 if b3_q1com==3
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,contract,
 gen contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,countrycode,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,cow,
 gen cow=b3_q2cat>0 if b3_q2cat<.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,cpi,
 ren cpi`year'_w cpi
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,cpiperiod,
 gen cpiperiod=syear
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,ed_mod_age,
 gen ed_mod_age=3
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,educat4,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,educat5,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,educat7,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,educy,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,electricity,
 gen electricity=b1_q18==2 if b1_q18!=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,empstat,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen empstat=b24_q38
 replace empstat =. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,empstat_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen empstat_2=b24_q43
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,empstat_2_year,"
 gen byte lstatus_year= 1 if inlist(1, b24_q33y, b24_q34y, b24_q35y)
 replace lstatus_year=0 if b24_q33y==2 & b24_q34y==2 & b24_q35y==2
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,everattend,
 gen everattend=b22_q8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,fan,
 gen fan= b3_q1fan==1 | b3_q1fan==2 if !mi(b3_q1fan)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,firmsize_l,
 gen firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,healthins,
 gen healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,hsize,
 ren hh_size hsize
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,idh,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,idp,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)
 gen ind_str = string(idno,""%02.0f"")
 egen idp = concat(idh ind_str)"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,industry,
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen industry=b24_q40
 replace industry =. if age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,industry_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen byte industry_2=b24_q45
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,industry_orig_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen industry_orig_2=b24_q45
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,int_month,
 gen byte int_month=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,int_year,
 gen byte int_year=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,internet,
 gen internet=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,lamp,
 gen lamp=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,lb_mod_age,
 gen lb_mod_age=15
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,literacy,
 gen literacy=.
 replace literacy=0 if b22_q7dz==2 & b22_q7en==2 & b22_q7ot==2 & b22_q7lo==2
 replace literacy=1 if b22_q7dz==1 | b22_q7en==1 | b22_q7ot==1 | b22_q7lo==1
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,lphone,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,male,
 gen male=b21_q1
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,marital,
 gen marital=b21_q4
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,motorcar,
 gen motorcar= b3_q1car==1 | b3_q1car==2 if !mi(b3_q1car)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,motorcycle,
 gen motorcycle=b3_q1bik==1 | b3_q1bik==2 if !mi(b3_q1bik)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,njobs,
 gen njobs=b24_q42
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen nlfreason=b24_q37
  replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen occup=int(b24_q39/100)
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,ocusec,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen ocusec=b24_q41
 replace ocusec=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,ownhouse,
 gen ownhouse=b1_q2
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,piped_water,
gen piped_water=.
replace piped_water=b1_q12==1 if b1_q12!=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,pline_nat,
 gen pline_nat=740.36
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,poor_int,
 gen welfare=pcc_t_mo
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,poor_nat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
 gen pline_nat=740.36
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,pop_wgt,
 gen wgt=weight
 ren hh_size hsize
 gen pop_wgt=wgt*hsize
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,psu,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 *egen psu=group(stratum_ dzongkha_ town_ block_ )"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,radio,
 gen radio= b3_q1rad==1 | b3_q1rad==2 if !mi(b3_q1rad )
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,rbirth,
 gen byte rbirth=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,refrigerator,
 gen refrigerator=b3_q1fri==1 | b3_q1fri==2 if !mi(b3_q1fri)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,relationcs,
 gen byte relationcs=b21_q2
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,relationharm,
 gen relationharm=b21_q2
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,rprevious,
 gen byte rprevious=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(b1_q16,1,2)
replace sar_improved_toilet=0 if inlist(b1_q16,3,4,5)
replace sar_improved_toilet=0 if b1_q17==1"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(b1_q12,1,2,3,4)
replace sar_improved_water=0 if inlist(b1_q12,5,6,7,8)"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,sewage_toilet,
gen sewage_toilet=.
replace sewage_toilet=b1_q16==1 if b1_q16!=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,sewingmachine,
 gen sewingmachine=b3_q1sma==1 | b3_q1sma==2 if !mi(b3_q1sma)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,soc,
 gen soc=b21_q5
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,socialsec,
 gen socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,spdef,
 gen spdef=paachse
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,strata,
 gen strata=stratum
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,subnatid1,"
 *recode area01 (11 12 13 14 41 = 1) (15 16 17 44 43 = 2) (31/36=3) (21 22 23 42 = 4), gen(subnatid1)
 gen subnatid1=dzongkha"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,subnatid2,
 gen byte subnatid2=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,subnatid3,
 gen byte subnatid3=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,survey,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,television,
 gen television= b3_q1tv==1 | b3_q1tv==2 if !mi(b3_q1tv)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,toilet_jmp,
gen toilet_jmp=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,toilet_orig,
gen toilet_orig=b1_q16
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,unempldur_l,
 gen unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,unempldur_u,
 gen unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,union,
 gen union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,unitwage,
 gen unitwage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,unitwage_2,
 gen njobs=b24_q42
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,urban,
 gen urban=stratum
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,veralt,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,vermast,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,wage,
 gen wage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,wage_2,
 gen njobs=b24_q42
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,washingmachine,
 gen washingmachine=b3_q1wma==1 | b3_q1wma==2 if !mi(b3_q1wma)
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,water_jmp,
gen water_jmp=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,water_orig,
gen water_orig=b1_q12
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfare,
 gen welfare=pcc_t_mo
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfaredef,
 gen welfaredef=pcc_t_mo*paachse
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfarenat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfarenom,
 gen welfarenom=pcc_t_mo
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfareother,
 gen welfareother=.
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfareothertype,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfaretype,
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,welfshprosperity,
 gen welfaredef=pcc_t_mo*paachse
 gen welfshprosperity=welfaredef
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,wgt,
 gen wgt=weight
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,whours,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen whours=b24_q47m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,year,
 gen int year=2003
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
 local year=2011
btn_2003_blss_v01_m_v03_a_sarmd,BTN,2003,BLSS,v01,v03,yrmove,
 gen int yrmove=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,age,
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,atschool,
 gen atschool=b22_q9
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,bicycle,
 gen bicycle= b3_q1bic==1 | b3_q1bic==2 if !mi(b3_q1bic)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,buffalo,
 gen buffalo=b3_q2buf>0 if b3_q2buf<.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,cellphone,
 gen cellphone=b3_q1mob ==1|b3_q1mob ==2 if !mi(b3_q1mob)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,chicken,
 gen chicken=b3_q2chi>0 if b3_q2chi<.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,computer,
 gen computer=b3_q1com ==1| b3_q1com ==2 if !mi(b3_q1com)
 replace computer=0 if b3_q1com==3
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,contract,
 gen contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,countrycode,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,cow,
 gen cow=b3_q2cat>0 if b3_q2cat<.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,cpi,
 ren cpi`year'_w cpi
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,cpiperiod,
 gen cpiperiod=syear
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,ed_mod_age,
 gen ed_mod_age=3
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,educat4,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,educat5,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,educat7,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,educy,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,electricity,
 gen electricity=b1_q18==2 if b1_q18!=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,empstat,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen empstat=b24_q38
 replace empstat =. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,empstat_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen empstat_2=b24_q43
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,empstat_2_year,"
 gen byte lstatus_year= 1 if inlist(1, b24_q33y, b24_q34y, b24_q35y)
 replace lstatus_year=0 if b24_q33y==2 & b24_q34y==2 & b24_q35y==2
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,everattend,
 gen everattend=b22_q8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,fan,
 gen fan= b3_q1fan==1 | b3_q1fan==2 if !mi(b3_q1fan)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,firmsize_l,
 gen firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,healthins,
 gen healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,hsize,
 ren hh_size hsize
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,idh,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,idp,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)
 gen ind_str = string(idno,""%02.0f"")
 egen idp = concat(idh ind_str)"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,industry,
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen industry=b24_q40
 replace industry =. if age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,industry_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen byte industry_2=b24_q45
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,industry_orig_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen industry_orig_2=b24_q45
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,int_month,
 gen byte int_month=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,int_year,
 gen byte int_year=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,internet,
 gen internet=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,lamp,
 gen lamp=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,lb_mod_age,
 gen lb_mod_age=15
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,literacy,
 gen literacy=.
 replace literacy=0 if b22_q7dz==2 & b22_q7en==2 & b22_q7ot==2 & b22_q7lo==2
 replace literacy=1 if b22_q7dz==1 | b22_q7en==1 | b22_q7ot==1 | b22_q7lo==1
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,lphone,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,male,
 gen male=b21_q1
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,marital,
 gen marital=b21_q4
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,motorcar,
 gen motorcar= b3_q1car==1 | b3_q1car==2 if !mi(b3_q1car)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,motorcycle,
 gen motorcycle=b3_q1bik==1 | b3_q1bik==2 if !mi(b3_q1bik)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,njobs,
 gen njobs=b24_q42
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen nlfreason=b24_q37
  replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen occup=int(b24_q39/100)
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,ocusec,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen ocusec=b24_q41
 replace ocusec=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,ownhouse,
 gen ownhouse=b1_q2
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,piped_water,
gen piped_water=.
replace piped_water=b1_q12==1 if b1_q12!=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,pline_nat,
 gen pline_nat=740.36
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,poor_int,
 gen welfare=pcc_t_mo
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,poor_nat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
 gen pline_nat=740.36
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,pop_wgt,
 gen wgt=weight
 ren hh_size hsize
 gen pop_wgt=wgt*hsize
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,psu,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 *egen psu=group(stratum_ dzongkha_ town_ block_ )"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,radio,
 gen radio= b3_q1rad==1 | b3_q1rad==2 if !mi(b3_q1rad )
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,rbirth,
 gen byte rbirth=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,refrigerator,
 gen refrigerator=b3_q1fri==1 | b3_q1fri==2 if !mi(b3_q1fri)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,relationcs,
 gen byte relationcs=b21_q2
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,relationharm,
 gen relationharm=b21_q2
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,rprevious,
 gen byte rprevious=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(b1_q16,1,2)
replace sar_improved_toilet=0 if inlist(b1_q16,3,4,5)
replace sar_improved_toilet=0 if b1_q17==1"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(b1_q12,1,2,3,4)
replace sar_improved_water=0 if inlist(b1_q12,5,6,7,8)"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,sewage_toilet,
gen sewage_toilet=.
replace sewage_toilet=b1_q16==1 if b1_q16!=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,sewingmachine,
 gen sewingmachine=b3_q1sma==1 | b3_q1sma==2 if !mi(b3_q1sma)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,soc,
 gen soc=b21_q5
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,socialsec,
 gen socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,spdef,
 gen spdef=paachse
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,strata,
 gen strata=stratum
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,subnatid1,"
 *recode area01 (11 12 13 14 41 = 1) (15 16 17 44 43 = 2) (31/36=3) (21 22 23 42 = 4), gen(subnatid1)
 gen subnatid1=dzongkha"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,subnatid2,
 gen byte subnatid2=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,subnatid3,
 gen byte subnatid3=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,survey,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,television,
 gen television= b3_q1tv==1 | b3_q1tv==2 if !mi(b3_q1tv)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,toilet_jmp,
gen toilet_jmp=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,toilet_orig,
gen toilet_orig=b1_q16
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,unempldur_l,
 gen unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,unempldur_u,
 gen unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,union,
 gen union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,unitwage,
 gen unitwage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,unitwage_2,
 gen njobs=b24_q42
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,urban,
 gen urban=stratum
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,veralt,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,vermast,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,wage,
 gen wage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,wage_2,
 gen njobs=b24_q42
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,washingmachine,
 gen washingmachine=b3_q1wma==1 | b3_q1wma==2 if !mi(b3_q1wma)
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,water_jmp,
gen water_jmp=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,water_orig,
gen water_orig=b1_q12
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfare,
 gen welfare=pcc_t_mo
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfaredef,
 gen welfaredef=pcc_t_mo*paachse
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfarenat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfarenom,
 gen welfarenom=pcc_t_mo
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfareother,
 gen welfareother=.
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfareothertype,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfaretype,
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,welfshprosperity,
 gen welfaredef=pcc_t_mo*paachse
 gen welfshprosperity=welfaredef
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,wgt,
 gen wgt=weight
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,whours,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen whours=b24_q47m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,year,
 gen int year=2003
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
 local year=2011
btn_2003_blss_v01_m_v04_a_sarmd,BTN,2003,BLSS,v01,v04,yrmove,
 gen int yrmove=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,age,
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,atschool,
 gen atschool=b22_q9
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,bicycle,
 gen bicycle= b3_q1bic==1 | b3_q1bic==2 if !mi(b3_q1bic)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,buffalo,
 gen buffalo=b3_q2buf>0 if b3_q2buf<.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,cellphone,
 gen cellphone=b3_q1mob ==1|b3_q1mob ==2 if !mi(b3_q1mob)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,chicken,
 gen chicken=b3_q2chi>0 if b3_q2chi<.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,computer,
 gen computer=b3_q1com ==1| b3_q1com ==2 if !mi(b3_q1com)
 replace computer=0 if b3_q1com==3
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,contract,
 gen contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,countrycode,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,cow,
 gen cow=b3_q2cat>0 if b3_q2cat<.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,cpi,
 ren cpi`year'_w cpi
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,cpiperiod,
 gen cpiperiod=syear
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,ed_mod_age,
 gen ed_mod_age=3
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,educat4,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,educat5,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,educat7,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy>=12 & educy<=15
 replace educat7=6 if educy==14
 replace educat7=7 if educy==16
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,educy,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen educy1=.
 replace educy1=0 if b22_q10==00 | b22_q10==01 | b22_q16==00
 replace educy1=1 if b22_q10==02 | b22_q16==01
 replace educy1=2 if b22_q10==03 | b22_q16==02
 replace educy1=3 if b22_q10==04 | b22_q16==03
 replace educy1=4 if b22_q10==05 | b22_q16==04
 replace educy1=5 if b22_q10==06 | b22_q16==05
 replace educy1=6 if b22_q10==07 | b22_q16==06
 replace educy1=7 if b22_q10==08 | b22_q16==07
 replace educy1=8 if b22_q10==09 | b22_q16==08
 replace educy1=9 if b22_q10==10 | b22_q16==09
 replace educy1=10 if b22_q10==11 | b22_q16==010
 replace educy1=11 if b22_q10==12 | b22_q16==011
 replace educy1=12 if inrange(b22_q10,13,15) | inrange(b22_q16,12,15)
 replace educy1=14 if b22_q17==2 & inrange(b22_q16,12,15)
 replace educy1=16 if b22_q17==1 & inrange(b22_q16,12,15)
 replace educy1 = 0 if b22_q8==2
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age+1 & educy<. & age!=.
 ren educy1 educy
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,electricity,
 gen electricity=b1_q18==2 if b1_q18!=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,empstat,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen empstat=b24_q38
 replace empstat =. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,empstat_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen empstat_2=b24_q43
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,empstat_2_year,"
 gen byte lstatus_year= 1 if inlist(1, b24_q33y, b24_q34y, b24_q35y)
 replace lstatus_year=0 if b24_q33y==2 & b24_q34y==2 & b24_q35y==2
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,everattend,
 gen everattend=b22_q8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,fan,
 gen fan= b3_q1fan==1 | b3_q1fan==2 if !mi(b3_q1fan)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,firmsize_l,
 gen firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,healthins,
 gen healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,hsize,
 ren hh_size hsize
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,idh,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,idp,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 gen houseno_ = string(houseno,""%02.0f"")
 egen houseid_str=concat(stratum_ dzongkha_ town_ block_ houseno_)
 destring houseid_str , generate(idh)
 gen ind_str = string(idno,""%02.0f"")
 egen idp = concat(idh ind_str)"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,industry,
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen industry=b24_q40
 replace industry =. if age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,industry_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen byte industry_2=b24_q45
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,industry_orig_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen njobs=b24_q42
 gen industry_orig_2=b24_q45
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,int_month,
 gen byte int_month=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,int_year,
 gen byte int_year=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,internet,
 gen internet=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,lamp,
 gen lamp=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,lb_mod_age,
 gen lb_mod_age=15
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,literacy,
 gen literacy=.
 replace literacy=0 if b22_q7dz==2 & b22_q7en==2 & b22_q7ot==2 & b22_q7lo==2
 replace literacy=1 if b22_q7dz==1 | b22_q7en==1 | b22_q7ot==1 | b22_q7lo==1
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,lphone,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,male,
 gen male=b21_q1
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,marital,
 gen marital=b21_q4
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,motorcar,
 gen motorcar= b3_q1car==1 | b3_q1car==2 if !mi(b3_q1car)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,motorcycle,
 gen motorcycle=b3_q1bik==1 | b3_q1bik==2 if !mi(b3_q1bik)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,njobs,
 gen njobs=b24_q42
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen nlfreason=b24_q37
  replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen occup=int(b24_q39/100)
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,ocusec,"
 *gen age=b21_q3ag
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen ocusec=b24_q41
 replace ocusec=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,ownhouse,
 gen ownhouse=b1_q2
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,piped_water,
gen piped_water=.
replace piped_water=b1_q12==1 if b1_q12!=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,pline_nat,
 gen pline_nat=740.36
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,poor_int,
 gen welfare=pcc_t_mo
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,poor_nat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
 gen pline_nat=740.36
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,pop_wgt,
 gen wgt=weight
 ren hh_size hsize
 gen pop_wgt=wgt*hsize
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,psu,"
 gen stratum_ = string(stratum,""%02.0f"")
 gen dzongkha_ = string(dzongkha,""%02.0f"")
 gen town_  = string(town,""%02.0f"")
 gen block_  = string(block,""%02.0f"")
 *egen psu=group(stratum_ dzongkha_ town_ block_ )"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,radio,
 gen radio= b3_q1rad==1 | b3_q1rad==2 if !mi(b3_q1rad )
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,rbirth,
 gen byte rbirth=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,refrigerator,
 gen refrigerator=b3_q1fri==1 | b3_q1fri==2 if !mi(b3_q1fri)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,relationcs,
 gen byte relationcs=b21_q2
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,relationharm,
 gen relationharm=b21_q2
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,rprevious,
 gen byte rprevious=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(b1_q16,1,2)
replace sar_improved_toilet=0 if inlist(b1_q16,3,4,5)
replace sar_improved_toilet=0 if b1_q17==1"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(b1_q12,1,2,3,4)
replace sar_improved_water=0 if inlist(b1_q12,5,6,7,8)"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,sewage_toilet,
gen sewage_toilet=.
replace sewage_toilet=b1_q16==1 if b1_q16!=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,sewingmachine,
 gen sewingmachine=b3_q1sma==1 | b3_q1sma==2 if !mi(b3_q1sma)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,soc,
 gen soc=b21_q5
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,socialsec,
 gen socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,spdef,
 gen spdef=paachse
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,strata,
 gen strata=stratum
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,subnatid1,"
 *recode area01 (11 12 13 14 41 = 1) (15 16 17 44 43 = 2) (31/36=3) (21 22 23 42 = 4), gen(subnatid1)
 gen subnatid1=dzongkha"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,subnatid2,
 gen byte subnatid2=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,subnatid3,
 gen byte subnatid3=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,survey,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,television,
 gen television= b3_q1tv==1 | b3_q1tv==2 if !mi(b3_q1tv)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,toilet_jmp,
gen toilet_jmp=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,toilet_orig,
gen toilet_orig=b1_q16
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,unempldur_l,
 gen unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,unempldur_u,
 gen unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,union,
 gen union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,unitwage,
 gen unitwage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,unitwage_2,
 gen njobs=b24_q42
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,urban,
 gen urban=stratum
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,veralt,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,vermast,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,wage,
 gen wage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,wage_2,
 gen njobs=b24_q42
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,washingmachine,
 gen washingmachine=b3_q1wma==1 | b3_q1wma==2 if !mi(b3_q1wma)
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,water_jmp,
gen water_jmp=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,water_orig,
gen water_orig=b1_q12
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfare,
 gen welfare=pcc_t_mo
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfaredef,
 gen welfaredef=pcc_t_mo*paachse
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfarenat,
 gen welfaredef=pcc_t_mo*paachse
 gen welfarenat=welfaredef
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfarenom,
 gen welfarenom=pcc_t_mo
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfareother,
 gen welfareother=.
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfareothertype,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfaretype,
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,welfshprosperity,
 gen welfaredef=pcc_t_mo*paachse
 gen welfshprosperity=welfaredef
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,wgt,
 gen wgt=weight
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,whours,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b24_q33w, b24_q34w, b24_q35w)
 replace lstatus = 2 if b24_q36==1 & mi(lstatus)
 replace lstatus = 3 if b24_q37!=. & lstatus!=1
 gen whours=b24_q47m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}"
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,year,
 gen int year=2003
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union {
replace `var'=. if age<lb_mod_age
}
 local year=2011
btn_2003_blss_v01_m_v05_a_sarmd,BTN,2003,BLSS,v01,v05,yrmove,
 gen int yrmove=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,age,
 gen age=b11q3
 replace age=98 if age>=98
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,atschool,
 gen age=b11q3
 replace age=98 if age>=98
 gen ed_mod_age=3
 gen atschool= b12q11==1
 replace atschool=. if age<ed_mod_age
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,bicycle,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,buffalo,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,cellphone,
 gen cellphone=b3q1mp==1 | b3q1mp==2
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,chicken,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,computer,
 gen computer=b3q1cp==1 | b3q1cp==2
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,contract,
 gen contract=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,countrycode,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,cow,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,cpi,
 ren cpi`year'_w cpi
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,cpiperiod,
 gen cpiperiod=syear
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,ed_mod_age,
 gen ed_mod_age=3
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,educat4,
 gen age=b11q3
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<ed_mod_age
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,educat5,
 gen age=b11q3
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,educat7,
 gen age=b11q3
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<ed_mod_age
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,educy,
 gen age=b11q3
 replace age=98 if age>=98
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1~=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,electricity,
 gen electricity=.
 replace electricity=0 if b2q18==1 | 3 | 4
 replace electricity=1 if b2q18==2
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,empstat,"
 gen age=b11q3
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen empstat=b14q43
 replace empstat=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,empstat_2,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,empstat_2_year,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,everattend,
 gen everattend=1 if b12q11==1|b12q11==2
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,fan,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,firmsize_l,
 gen firmsize_l=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,healthins,
 gen healthins=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,hsize,
 gen aux=1 if b11q2!=12 & b11q2!=13 & b11q2!=.
 bys idh: egen hsize=count (aux)
 gen relationharm=b11q2
 replace hsize=. if relationharm==6
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,idh,
 gen double idh=houseid
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,idp,"
 destring indiv, generate(idp)"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,industry,"
 gen age=b11q3
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen industry=b14q45
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus~=1"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,industry_2,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,industry_orig_2,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,int_month,
 gen byte int_month=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,int_year,
 gen byte int_year=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,internet,
 gen internet=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,lamp,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,lb_mod_age,
 gen lb_mod_age=15
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,literacy,
 gen age=b11q3
 replace age=98 if age>=98
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if b12q10d==2 & b12q10e==2 & b12q10l==2 & b12q10o==2
 replace literacy=1 if b12q10d==1 | b12q10e==1 | b12q10l==1 | b12q10o==1
 replace literacy=. if age<ed_mod_age
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,lphone,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,male,
 gen male=b11q1
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,marital,
 gen marital=b11q4
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,motorcar,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,motorcycle,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,njobs,
 gen njobs=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen nlfreason=b14q41
  replace nlfreason=. if lstatus~=3"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,occup,"
 gen age=b11q3
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen occup=b14q44
 replace occup=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,ocusec,"
 gen age=b11q3
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen ocusec=b14q46
 replace ocusec=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,ownhouse,
 gen ownhouse=b2q2
 gen relationharm=b11q2
 replace ownhouse=. if relationharm==6
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,piped_water,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,pline_nat,
 ren totpovline pline_nat
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,poor_nat,
 gen welfaredef=pce_real
 ren totpovline pline_nat
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,pop_wgt,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,psu,
 gen psu=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,radio,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,rbirth,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,rbirth_juris,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,refrigerator,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,relationcs,
 gen byte relationcs=b11q2
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,relationharm,
 gen relationharm=b11q2
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,rprevious,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,rprevious_juris,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,sar_improved_toilet,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,sar_improved_water,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,sewage_toilet,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,sewingmachine,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,soc,
 gen soc=b11q5
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,socialsec,
 gen socialsec=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,spdef,
 gen spdef=reg_deflator
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,strata,
 gen strata=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,subnatid1,"
 recode area01 (24 18 15 22 12 = 1) (20 14 29 13 28 = 2) (16 17 19 21 25 26 = 3) (11 23 27 30=4), gen(subnatid1)"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,subnatid2,
 gen subnatid2=dcode
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,subnatid3,
 gen byte subnatid3=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,survey,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,television,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,toilet_jmp,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,toilet_orig,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,unempldur_l,
 gen unempldur_l=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,unempldur_u,
 gen unempldur_u=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,union,
 gen union=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,unitwage,
 gen unitwage=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,unitwage_2,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,urban,
 gen urban=area
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,veralt,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,vermast,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,wage,
 gen wage=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,wage_2,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,washingmachine,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,water_jmp,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,water_orig,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfare,
 gen welfare=pce_real
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfaredef,
 gen welfaredef=pce_real
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfarenat,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfarenom,
 gen welfarenom=total_exp
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfareother,
 gen welfareother=.
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfareothertype,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfaretype,
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,welfshprosperity,
 gen welfshprosperity=total_exp
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,wgt,
 gen wgt=weight
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,whours,"
 gen age=b11q3
 replace age=98 if age>=98
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen whours=b14q52m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,year,
 gen year=2007
 local year=2011
btn_2007_blss_v01_m_v01_a_sarmd,BTN,2007,BLSS,v01,v01,yrmove,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,age,
 *gen age=b11q3
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,atschool,
 *gen age=b11q3
 gen ed_mod_age=3
 gen atschool= b12q11==1
 replace atschool=. if age<ed_mod_age
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,bicycle,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,buffalo,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,cellphone,
 gen cellphone=b3q1mp==1 | b3q1mp==2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,chicken,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,computer,
 gen computer=b3q1cp==1 | b3q1cp==2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,contract,
 gen contract=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,countrycode,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,cow,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,cpi,
 ren cpi`year'_w cpi
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,cpiperiod,
 gen cpiperiod=syear
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,ed_mod_age,
 gen ed_mod_age=3
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,educat4,
 *gen age=b11q3
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<ed_mod_age
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,educat5,
 *gen age=b11q3
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,educat7,
 *gen age=b11q3
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<ed_mod_age
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,educy,
 *gen age=b11q3
 gen educy1=.
 replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
 replace educy1=1 if b12q12==02 | b12q20==01
 replace educy1=2 if b12q12==03 | b12q20==02
 replace educy1=3 if b12q12==04 | b12q20==03
 replace educy1=4 if b12q12==05 | b12q20==04
 replace educy1=5 if b12q12==06 | b12q20==05
 replace educy1=6 if b12q12==07 | b12q20==06
 replace educy1=7 if b12q12==08 | b12q20==07
 replace educy1=8 if b12q12==09 | b12q20==08
 replace educy1=9 if b12q12==10 | b12q20==09
 replace educy1=10 if b12q12==11 | b12q20==10
 replace educy1=11 if b12q12==12 | b12q20==11
 replace educy1=12 if b12q20==12
 replace educy1=14 if b12q20==13
 replace educy1=12 if b12q12==14 | b12q12==13
 replace educy1=15 if b12q20==14
 replace educy=17 if b12q20==15
 replace educy=19 if b12q20==16
 replace educy=0 if b12q11==3
 gen CONEDYEARS=.
 replace CONEDYEARS=educy1
 replace CONEDYEARS = `i' if age == (`i'+4) & educy1 > `i' & educy1!=.
 ren CONEDYEARS educy
 replace educy=. if age<ed_mod_age
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,electricity,
 gen electricity=.
 replace electricity=0 if b2q18==1 | 3 | 4
 replace electricity=1 if b2q18==2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,empstat,"
 *gen age=b11q3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen empstat=b14q43
 replace empstat=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,empstat_2,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,empstat_2_year,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,everattend,
 gen everattend=1 if b12q11==1|b12q11==2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,fan,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,firmsize_l,
 gen firmsize_l=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,healthins,
 gen healthins=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,hsize,
 gen aux=1 if b11q2!=12 & b11q2!=13 & b11q2!=.
 bys idh: egen hsize=count (aux)
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,idh,
 gen double idh=houseid
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,idp,"
 destring indiv, generate(idp)"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,industry,"
 *gen age=b11q3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen industry=b14q45
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,industry_2,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,industry_orig_2,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,int_month,
 gen byte int_month=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,int_year,
 gen byte int_year=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,internet,
 gen internet=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,lamp,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,lb_mod_age,
 gen lb_mod_age=15
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,literacy,
 *gen age=b11q3
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if b12q10d==2 & b12q10e==2 & b12q10l==2 & b12q10o==2
 replace literacy=1 if b12q10d==1 | b12q10e==1 | b12q10l==1 | b12q10o==1
 replace literacy=. if age<ed_mod_age
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,lphone,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,male,
 gen male=b11q1
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,marital,
gen marital=b11q4
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,motorcar,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,motorcycle,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,njobs,
 gen njobs=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen nlfreason=b14q41
  replace nlfreason=. if lstatus!=3"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,occup,"
 *gen age=b11q3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen occup=b14q44
 replace occup=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,ocusec,"
 *gen age=b11q3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen ocusec=b14q46
 replace ocusec=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,ownhouse,
 gen ownhouse=b2q2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,piped_water,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,pline_nat,
 ren totpovline pline_nat
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,pop_wgt,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,psu,
 gen psu=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,radio,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,rbirth,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,rbirth_juris,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,refrigerator,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,relationcs,
 gen byte relationcs=b11q2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,relationharm,
 gen relationharm=b11q2
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,rprevious,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,rprevious_juris,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,sar_improved_toilet,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,sar_improved_water,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,sewage_toilet,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,sewingmachine,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,soc,
 gen soc=b11q5
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,socialsec,
 gen socialsec=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,spdef,
 gen spdef=reg_deflator
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,strata,
 gen strata=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,subnatid1,"
 recode area01 (24 18 15 22 12 = 1) (20 14 29 13 28 = 2) (16 17 19 21 25 26 = 3) (11 23 27 30=4), gen(subnatid1)"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,subnatid2,
 gen subnatid2=dcode
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,subnatid3,
 gen byte subnatid3=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,survey,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,television,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,toilet_jmp,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,toilet_orig,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,unempldur_l,
 gen unempldur_l=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,unempldur_u,
 gen unempldur_u=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,union,
 gen union=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,unitwage,
 gen unitwage=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,unitwage_2,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,urban,
 gen urban=area
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,veralt,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,vermast,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,wage,
 gen wage=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,wage_2,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,washingmachine,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,water_jmp,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,water_orig,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfare,
 gen welfare=pce_real
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfaredef,
 gen welfaredef=pce_real
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfarenom,
 gen welfarenom=pce
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfareother,
 gen welfareother=.
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfareothertype,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfaretype,
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,welfshprosperity,
 gen welfare=pce_real
 gen welfshprosperity=welfare
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,wgt,
 gen wgt=weight
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,whours,"
 *gen age=b11q3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen whours=b14q52m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15"
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,year,
 gen int year=2007
 local year=2011
btn_2007_blss_v01_m_v02_a_sarmd,BTN,2007,BLSS,v01,v02,yrmove,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,age,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,atschool,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen atschool= b12q11==1 if b12q11<.
 replace atschool=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,bicycle,
 gen bicycle= b3q1bc==1 | b3q1bc==2 if !mi(b3q1bc)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,buffalo,
 gen buffalo=b3q2bf>0 if b3q2bf<.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,cellphone,
 gen cellphone=b3q1mp==1 | b3q1mp==2 if !mi(b3q1mp)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,chicken,
 gen chicken=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,computer,
 gen byte computer=b3q1cp==1 | b3q1cp==2 if !mi(b3q1cp)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,contract,
 gen contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,countrycode,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,cow,
 gen cow= b3q2ct>0 if b3q2ct<.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,cpi,
 ren cpi`year'_w cpi
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,cpiperiod,
 gen cpiperiod=syear
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,ed_mod_age,
 gen ed_mod_age=3
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,educat4,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,educat5,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,educat7,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,educy,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,electricity,
 gen electricity=.
 replace electricity=0 if b2q18==1 | 3 | 4
 replace electricity=1 if b2q18==2
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,empstat,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen empstat=b14q43
 replace empstat=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,empstat_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen empstat_2=b14q48
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,empstat_2_year,"
 gen byte lstatus_year= 1 if inlist(1, b14q37m, b14q38m, b14q39m)
 replace lstatus_year=0 if b14q37m==2 & b14q38m==2 & b14q39m==2
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,everattend,
 gen everattend=1 if b12q11==1|b12q11==2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,fan,
 gen fan= b3q1fn==1 | b3q1fn==2 if !mi(b3q1fn)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,firmsize_l,
 gen firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,healthins,
 gen healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,hsize,
 gen z=1
 bys idh: egen hsize=sum(z)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,idh,
 gen double idh=houseid
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,idp,"
 destring indiv, generate(idp)"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,industry,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen industry=int(b14q45/10)
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,industry_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen industry_2=b14q50
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,industry_orig_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen industry_orig_2=b14q50
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,int_month,
 gen byte int_month=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,int_year,
 gen byte int_year=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,internet,
 gen internet=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,lamp,
 gen lamp=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,lb_mod_age,
 gen lb_mod_age=15
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,literacy,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if b12q10d==2 & b12q10e==2 & b12q10l==2 & b12q10o==2
 replace literacy=1 if b12q10d==1 | b12q10e==1 | b12q10l==1 | b12q10o==1
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,lphone,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,male,
 gen male=b11q1
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,marital,
 gen marital=b11q4
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,motorcar,
 gen motorcar= b3q1fc==1 | b3q1fc==2 if !mi(b3q1fc)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,motorcycle,
 gen motorcycle= b3q1mb==1 | b3q1mb==2 if !mi(b3q1mb)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,njobs,
 gen njobs=b14q47
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen nlfreason=b14q41
  replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen occup=int(b14q44/10)
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,ocusec,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen ocusec=b14q46
 replace ocusec=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,ownhouse,
 gen ownhouse=b2q2
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,piped_water,
gen piped_water=.
replace piped_water=b2q12==1 if b2q12!=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,pline_nat,
 ren totpovline pline_nat
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,pop_wgt,
 gen wgt=weight
 gen z=1
 bys idh: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,psu,
 gen psu=dtgbccd
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,radio,
 gen radio= b3q1rd==1 | b3q1rd==2 if !mi(b3q1rd)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,rbirth,
 gen byte rbirth=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,refrigerator,
 gen refrigerator=b3q1rg==1 | b3q1rg==2 if !mi(b3q1rg)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,relationcs,
 gen byte relationcs=b11q2
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,relationharm,
 gen relationharm=b11q2
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,rprevious,
 gen byte rprevious=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(b2q16,1,2)
replace sar_improved_toilet=0 if inlist(b2q16,3,4,5)
replace sar_improved_toilet=0 if b2q17==1"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(b2q12,1,2,3,4)
replace sar_improved_water=0 if inlist(b2q12,5,6,7,8)"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,sewage_toilet,
gen sewage_toilet=.
replace sewage_toilet=b2q16==1 if b2q16!=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,sewingmachine,
 gen sewingmachine= b3q1sw==1 | b3q1sw==2 if !mi(b3q1sw)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,soc,
 gen soc=b11q5
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,socialsec,
 gen socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,spdef,
 gen spdef=reg_deflator
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,strata,
 gen strata=dcode
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,subnatid1,
 gen subnatid1=dcode
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,subnatid2,
 gen byte subnatid2=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,subnatid3,
 gen byte subnatid3=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,survey,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,television,
 gen television= b3q1tv==1 | b3q1tv==2 if !mi(b3q1tv)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,toilet_jmp,
gen toilet_jmp=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,toilet_orig,
gen toilet_orig=b2q16
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,unempldur_l,
 gen unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,unempldur_u,
 gen unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,union,
 gen union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,unitwage,
 gen unitwage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,unitwage_2,
 gen njobs=b14q47
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,urban,
 gen urban=area
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,veralt,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,vermast,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,wage,
 gen wage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,wage_2,
 gen njobs=b14q47
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,washingmachine,
 gen washingmachine= b3q1wm==1 | b3q1wm==2 if !mi(b3q1wm)
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,water_jmp,
gen water_jmp=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,water_orig,
gen water_orig=b2q12
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfare,
 gen welfare=pce_real
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfaredef,
 gen welfaredef=pce_real
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfarenom,
 gen welfarenom=pce
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfareother,
 gen welfareother=.
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfareothertype,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfaretype,
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,welfshprosperity,
 gen welfare=pce_real
 gen welfshprosperity=welfare
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,wgt,
 gen wgt=weight
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,whours,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen whours=b14q52m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,year,
 gen int year=2007
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
btn_2007_blss_v01_m_v03_a_sarmd,BTN,2007,BLSS,v01,v03,yrmove,
 gen int yrmove=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,age,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,atschool,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen atschool= b12q11==1 if b12q11<.
 replace atschool=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,bicycle,
 gen bicycle= b3q1bc==1 | b3q1bc==2 if !mi(b3q1bc)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,buffalo,
 gen buffalo=b3q2bf>0 if b3q2bf<.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,cellphone,
 gen cellphone=b3q1mp==1 | b3q1mp==2 if !mi(b3q1mp)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,chicken,
 gen chicken=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,computer,
 gen byte computer=b3q1cp==1 | b3q1cp==2 if !mi(b3q1cp)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,contract,
 gen contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,countrycode,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,cow,
 gen cow= b3q2ct>0 if b3q2ct<.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,cpi,
 ren cpi`year'_w cpi
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,cpiperiod,
 gen cpiperiod=syear
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,ed_mod_age,
 gen ed_mod_age=3
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,educat4,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,educat5,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,educat7,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,educy,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,electricity,
 gen electricity=.
 replace electricity=0 if b2q18==1 | 3 | 4
 replace electricity=1 if b2q18==2
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,empstat,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen empstat=b14q43
 replace empstat=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,empstat_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen empstat_2=b14q48
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,empstat_2_year,"
 gen byte lstatus_year= 1 if inlist(1, b14q37m, b14q38m, b14q39m)
 replace lstatus_year=0 if b14q37m==2 & b14q38m==2 & b14q39m==2
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,everattend,
 gen everattend=1 if b12q11==1|b12q11==2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,fan,
 gen fan= b3q1fn==1 | b3q1fn==2 if !mi(b3q1fn)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,firmsize_l,
 gen firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,healthins,
 gen healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,hsize,
 gen z=1
 bys idh: egen hsize=sum(z)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,idh,
 gen double idh=houseid
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,idp,"
 destring indiv, generate(idp)"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,industry,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen industry=int(b14q45/10)
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,industry_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen industry_2=b14q50
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,industry_orig_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen industry_orig_2=b14q50
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,int_month,
 gen byte int_month=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,int_year,
 gen byte int_year=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,internet,
 gen internet=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,lamp,
 gen lamp=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,lb_mod_age,
 gen lb_mod_age=15
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,literacy,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if b12q10d==2 & b12q10e==2 & b12q10l==2 & b12q10o==2
 replace literacy=1 if b12q10d==1 | b12q10e==1 | b12q10l==1 | b12q10o==1
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,lphone,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,male,
 gen male=b11q1
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,marital,
 gen marital=b11q4
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,motorcar,
 gen motorcar= b3q1fc==1 | b3q1fc==2 if !mi(b3q1fc)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,motorcycle,
 gen motorcycle= b3q1mb==1 | b3q1mb==2 if !mi(b3q1mb)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,njobs,
 gen njobs=b14q47
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen nlfreason=b14q41
  replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen occup=int(b14q44/10)
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,ocusec,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen ocusec=b14q46
 replace ocusec=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,ownhouse,
 gen ownhouse=b2q2
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,piped_water,
gen piped_water=.
replace piped_water=b2q12==1 if b2q12!=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,pline_nat,
 ren totpovline pline_nat
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,pop_wgt,
 gen wgt=weight
 gen z=1
 bys idh: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,psu,
 gen psu=dtgbccd
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,radio,
 gen radio= b3q1rd==1 | b3q1rd==2 if !mi(b3q1rd)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,rbirth,
 gen byte rbirth=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,refrigerator,
 gen refrigerator=b3q1rg==1 | b3q1rg==2 if !mi(b3q1rg)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,relationcs,
 gen byte relationcs=b11q2
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,relationharm,
 gen relationharm=b11q2
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,rprevious,
 gen byte rprevious=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(b2q16,1,2)
replace sar_improved_toilet=0 if inlist(b2q16,3,4,5)
replace sar_improved_toilet=0 if b2q17==1"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(b2q12,1,2,3,4)
replace sar_improved_water=0 if inlist(b2q12,5,6,7,8)"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,sewage_toilet,
gen sewage_toilet=.
replace sewage_toilet=b2q16==1 if b2q16!=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,sewingmachine,
 gen sewingmachine= b3q1sw==1 | b3q1sw==2 if !mi(b3q1sw)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,soc,
 gen soc=b11q5
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,socialsec,
 gen socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,spdef,
 gen spdef=reg_deflator
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,strata,
 gen strata=dcode
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,subnatid1,
 gen subnatid1=dcode
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,subnatid2,
 gen byte subnatid2=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,subnatid3,
 gen byte subnatid3=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,survey,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,television,
 gen television= b3q1tv==1 | b3q1tv==2 if !mi(b3q1tv)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,toilet_jmp,
gen toilet_jmp=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,toilet_orig,
gen toilet_orig=b2q16
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,unempldur_l,
 gen unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,unempldur_u,
 gen unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,union,
 gen union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,unitwage,
 gen unitwage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,unitwage_2,
 gen njobs=b14q47
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,urban,
 gen urban=area
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,veralt,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,vermast,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,wage,
 gen wage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,wage_2,
 gen njobs=b14q47
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,washingmachine,
 gen washingmachine= b3q1wm==1 | b3q1wm==2 if !mi(b3q1wm)
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,water_jmp,
gen water_jmp=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,water_orig,
gen water_orig=b2q12
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfare,
 gen welfare=pce_real
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfaredef,
 gen welfaredef=pce_real
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfarenom,
 gen welfarenom=pce
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfareother,
 gen welfareother=.
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfareothertype,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfaretype,
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,welfshprosperity,
 gen welfare=pce_real
 gen welfshprosperity=welfare
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,wgt,
 gen wgt=weight
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,whours,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen whours=b14q52m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,year,
 gen int year=2007
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
btn_2007_blss_v01_m_v04_a_sarmd,BTN,2007,BLSS,v01,v04,yrmove,
 gen int yrmove=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,age,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,atschool,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen atschool= b12q11==1 if b12q11<.
 replace atschool=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,bicycle,
 gen bicycle= b3q1bc==1 | b3q1bc==2 if !mi(b3q1bc)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,buffalo,
 gen buffalo=b3q2bf>0 if b3q2bf<.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,cellphone,
 gen cellphone=b3q1mp==1 | b3q1mp==2 if !mi(b3q1mp)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,chicken,
 gen chicken=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,computer,
 gen byte computer=b3q1cp==1 | b3q1cp==2 if !mi(b3q1cp)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,contract,
 gen contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,countrycode,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,cow,
 gen cow= b3q2ct>0 if b3q2ct<.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,cpi,
 ren cpi`year'_w cpi
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,cpiperiod,
 gen cpiperiod=syear
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,ed_mod_age,
 gen ed_mod_age=3
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,educat4,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,educat5,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,educat7,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<9
 replace educat7=3 if educy==9
 replace educat7=4 if educy>9 & educy<12
 replace educat7=5 if educy==12
 replace educat7=6 if inlist(13,b12q12,b12q20) & educy!=.
 replace educat7=7 if (inrange(b12q12,14,16) | inrange(b12q20,14,16)) & educy!=.
 replace educat7=8 if inlist(17,b12q12,b12q20)
 replace educat7=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,educy,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
replace educy1=0 if b12q12==00 | b12q12==01 | b12q20==00
replace educy1=1 if b12q12==02 | b12q20==01
replace educy1=2 if b12q12==03 | b12q20==02
replace educy1=3 if b12q12==04 | b12q20==03
replace educy1=4 if b12q12==05 | b12q20==04
replace educy1=5 if b12q12==06 | b12q20==05
replace educy1=6 if b12q12==07 | b12q20==06
replace educy1=7 if b12q12==08 | b12q20==07
replace educy1=8 if b12q12==09 | b12q20==08
replace educy1=9 if b12q12==10 | b12q20==09
replace educy1=10 if b12q12==11 | b12q20==10
replace educy1=11 if b12q12==12 | b12q20==11
replace educy1=12 if b12q20==12
replace educy1=13 if b12q12==13
replace educy1=14 if b12q20==13 | b12q12==14
replace educy1=15 if b12q20==14
replace educy1=16 if b12q12==15
replace educy1=17 if b12q20==15
replace educy1=18 if b12q12==16
replace educy1=19 if b12q20==16
replace educy1=0 if b12q11==3
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
rename educy1 educy
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,electricity,
 gen electricity=.
 replace electricity=0 if b2q18==1 | 3 | 4
 replace electricity=1 if b2q18==2
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,empstat,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen empstat=b14q43
 replace empstat=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,empstat_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen empstat_2=b14q48
 replace empstat_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,empstat_2_year,"
 gen byte lstatus_year= 1 if inlist(1, b14q37m, b14q38m, b14q39m)
 replace lstatus_year=0 if b14q37m==2 & b14q38m==2 & b14q39m==2
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,everattend,
 gen everattend=1 if b12q11==1|b12q11==2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,fan,
 gen fan= b3q1fn==1 | b3q1fn==2 if !mi(b3q1fn)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,firmsize_l,
 gen firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,healthins,
 gen healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,hsize,
 gen z=1
 bys idh: egen hsize=sum(z)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,idh,
 gen double idh=houseid
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,idp,"
 destring indiv, generate(idp)"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,industry,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen industry=int(b14q45/10)
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,industry_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen industry_2=b14q50
 replace industry_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,industry_orig_2,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen njobs=b14q47
 gen industry_orig_2=b14q50
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,int_month,
 gen byte int_month=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,int_year,
 gen byte int_year=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,internet,
 gen internet=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,lamp,
 gen lamp=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,lb_mod_age,
 gen lb_mod_age=15
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,literacy,
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if b12q10d==2 & b12q10e==2 & b12q10l==2 & b12q10o==2
 replace literacy=1 if b12q10d==1 | b12q10e==1 | b12q10l==1 | b12q10o==1
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,lphone,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,male,
 gen male=b11q1
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,marital,
 gen marital=b11q4
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,motorcar,
 gen motorcar= b3q1fc==1 | b3q1fc==2 if !mi(b3q1fc)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,motorcycle,
 gen motorcycle= b3q1mb==1 | b3q1mb==2 if !mi(b3q1mb)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,njobs,
 gen njobs=b14q47
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen nlfreason=b14q41
  replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen occup=int(b14q44/10)
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,ocusec,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen ocusec=b14q46
 replace ocusec=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,ownhouse,
 gen ownhouse=b2q2
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,piped_water,
gen piped_water=.
replace piped_water=b2q12==1 if b2q12!=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,pline_nat,
 ren totpovline pline_nat
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,pop_wgt,
 gen wgt=weight
 gen z=1
 bys idh: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,psu,
 gen psu=dtgbccd
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,radio,
 gen radio= b3q1rd==1 | b3q1rd==2 if !mi(b3q1rd)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,rbirth,
 gen byte rbirth=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,refrigerator,
 gen refrigerator=b3q1rg==1 | b3q1rg==2 if !mi(b3q1rg)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,relationcs,
 gen byte relationcs=b11q2
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,relationharm,
 gen relationharm=b11q2
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,rprevious,
 gen byte rprevious=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(b2q16,1,2)
replace sar_improved_toilet=0 if inlist(b2q16,3,4,5)
replace sar_improved_toilet=0 if b2q17==1"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(b2q12,1,2,3,4)
replace sar_improved_water=0 if inlist(b2q12,5,6,7,8)"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,sewage_toilet,
gen sewage_toilet=.
replace sewage_toilet=b2q16==1 if b2q16!=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,sewingmachine,
 gen sewingmachine= b3q1sw==1 | b3q1sw==2 if !mi(b3q1sw)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,soc,
 gen soc=b11q5
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,socialsec,
 gen socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,spdef,
 gen spdef=reg_deflator
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,strata,
 gen strata=dcode
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,subnatid1,
 gen subnatid1=dcode
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,subnatid2,
 gen byte subnatid2=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,subnatid3,
 gen byte subnatid3=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,survey,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,television,
 gen television= b3q1tv==1 | b3q1tv==2 if !mi(b3q1tv)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,toilet_jmp,
gen toilet_jmp=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,toilet_orig,
gen toilet_orig=b2q16
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,unempldur_l,
 gen unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,unempldur_u,
 gen unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,union,
 gen union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,unitwage,
 gen unitwage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,unitwage_2,
 gen njobs=b14q47
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,urban,
 gen urban=area
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,veralt,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,vermast,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,wage,
 gen wage=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,wage_2,
 gen njobs=b14q47
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,washingmachine,
 gen washingmachine= b3q1wm==1 | b3q1wm==2 if !mi(b3q1wm)
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,water_jmp,
gen water_jmp=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,water_orig,
gen water_orig=b2q12
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfare,
 gen welfare=pce_real
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfaredef,
 gen welfaredef=pce_real
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfarenom,
 gen welfarenom=pce
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfareother,
 gen welfareother=.
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfareothertype,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfaretype,
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,welfshprosperity,
 gen welfare=pce_real
 gen welfshprosperity=welfare
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,wgt,
 gen wgt=weight
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,whours,"
 *gen age=b11q3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, b14q37d, b14q38d, b14q39d)
 replace lstatus = 2 if b14q40==1 & mi(lstatus)
 replace lstatus = 3 if b14q41!=.
 replace lstatus = . if age<15
 gen whours=b14q52m
 replace whours=. if whours>98
 replace whours=. if lstatus!=1 | age<15
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,year,
 gen int year=2007
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
btn_2007_blss_v01_m_v05_a_sarmd,BTN,2007,BLSS,v01,v05,yrmove,
 gen int yrmove=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,age,
 replace age=98 if age>=98 & age!=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,atschool,
 gen atschool= ed2
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,bicycle,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,buffalo,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,cellphone,
 gen cellphone=mobiletelephone
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,chicken,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,computer,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,contract,
 gen contract=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,countrycode,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,cow,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,cpi,
 ren cpi`year'_w cpi
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,cpiperiod,
 gen cpiperiod=syear
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,ed_mod_age,
 gen ed_mod_age=3
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,educat4,
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
 gen byte educat4=educat7
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,educat5,
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,educat7,
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,educy,
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,electricity,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,empstat,"
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=e6
 replace empstat=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,empstat_2,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,empstat_2_year,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,everattend,
 gen everattend=ed2
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,fan,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,firmsize_l,
 gen firmsize_l=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,healthins,
 gen healthins=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,hsize,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,idh,
 gen double idh=houseid
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,idp,"
 tostring ind_id, gen(idp) format(%15.0f)"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,industry,"
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen industry=.
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus~=1"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,industry_2,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,industry_orig_2,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,int_month,
 gen byte int_month=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,int_year,
 gen byte int_year=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,internet,"
 gen internet=0 if hs14a==""a""
 replace internet=1 if internet==. & hs14a!="""""
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,lamp,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,lb_mod_age,
 gen lb_mod_age=15
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,literacy,
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if ed1dz==2 & ed1eng==2 & ed1lot==2 & ed1oth==2
 replace literacy=1 if ed1dz==1 | ed1eng==1 | ed1lot==1 | ed1oth==1
 replace literacy=. if age<ed_mod_age
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,lphone,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,male,
 gen male=sex
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,marital,
 gen marital=d4
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,motorcar,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,motorcycle,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,njobs,
 gen njobs=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=e5
  replace nlfreason=. if lstatus~=3"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,occup,"
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(e7/100)
 replace occup=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,ocusec,"
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,ownhouse,
 gen ownhouse=hs2
 gen relationharm=relationship
 replace ownhouse=. if relationharm==6
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,piped_water,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,pline_nat,
 ren totpovline pline_nat
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,poor_nat,
 gen welfaredef=pce_real
 ren totpovline pline_nat
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,pop_wgt,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,psu,
 gen psu=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,radio,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,rbirth,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,rbirth_juris,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,refrigerator,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,relationcs,
 gen byte relationcs=relationship
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,relationharm,
 gen relationharm=relationship
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,rprevious,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,rprevious_juris,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,sar_improved_toilet,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,sar_improved_water,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,sewage_toilet,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,sewingmachine,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,soc,
 gen soc=d6
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,socialsec,
 gen socialsec=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,spdef,
 gen spdef=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,strata,
 drop strata
 gen strata=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,subnatid1,"
 recode area01 (24 18 15 22 12 = 1) (20 14 29 13 28 = 2) (16 17 19 21 25 26 = 3) (11 23 27 30=4), gen(subnatid1)"
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,subnatid2,
 gen subnatid2=hh1
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,subnatid3,
 gen byte subnatid3=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,survey,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,television,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,toilet_jmp,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,toilet_orig,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,unempldur_l,
 gen unempldur_l=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,unempldur_u,
 gen unempldur_u=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,union,
 gen union=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,unitwage,
 gen unitwage=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,unitwage_2,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,urban,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,veralt,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,vermast,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,wage,
 gen wage=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,wage_2,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,washingmachine,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,water_jmp,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,water_orig,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfare,
 gen welfare=pce_real
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfaredef,
 gen welfaredef=pce_real
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfarenat,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfarenom,
 gen welfarenom=pce_real
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfareother,
 gen welfareother=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfareothertype,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfaretype,
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,welfshprosperity,
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,wgt,
 gen wgt=weight
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,whours,
 gen whours=.
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,year,
 gen year=2012
 local year=2011
btn_2012_blss_v01_m_v01_a_sarmd,BTN,2012,BLSS,v01,v01,yrmove,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,age,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,atschool,
 gen atschool= ed2
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,bicycle,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,buffalo,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,cellphone,
 gen cellphone=mobiletelephone
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,chicken,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,computer,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,contract,
 gen contract=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,countrycode,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,cow,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,cpi,
 ren cpi`year'_w cpi
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,cpiperiod,
 gen cpiperiod=syear
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,ed_mod_age,
 gen ed_mod_age=3
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,educat4,
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
 gen byte educat4=educat7
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,educat5,
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,educat7,
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,educy,
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,electricity,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,empstat,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=e6
 replace empstat=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,empstat_2,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,empstat_2_year,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,everattend,
 gen everattend=ed2
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,fan,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,firmsize_l,
 gen firmsize_l=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,healthins,
 gen healthins=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,hsize,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,idh,
 gen double idh=houseid
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,idp,"
 tostring ind_id, gen(idp) format(%15.0f)"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,industry,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen industry=.
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,industry_2,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,industry_orig_2,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,int_month,
 gen byte int_month=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,int_year,
 gen byte int_year=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,internet,"
 gen internet=0 if hs14a==""a""
 replace internet=1 if internet==. & hs14a!="""""
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,lamp,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,lb_mod_age,
 gen lb_mod_age=15
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,literacy,
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if ed1dz==2 & ed1eng==2 & ed1lot==2 & ed1oth==2
 replace literacy=1 if ed1dz==1 | ed1eng==1 | ed1lot==1 | ed1oth==1
 replace literacy=. if age<ed_mod_age
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,lphone,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,male,
 gen male=sex
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,marital,
gen marital=d4
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,motorcar,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,motorcycle,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,njobs,
 gen njobs=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=e5
  replace nlfreason=. if lstatus!=3"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(e7/100)
 replace occup=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,ocusec,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,ownhouse,
 gen ownhouse=hs2
 gen relationharm=relationship
 replace ownhouse=. if relationharm==6
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,piped_water,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,pline_nat,
 ren totpovline pline_nat
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,pop_wgt,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,psu,
 gen psu=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,radio,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,rbirth,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,rbirth_juris,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,refrigerator,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,relationcs,
 gen byte relationcs=relationship
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,relationharm,
 gen relationharm=relationship
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,rprevious,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,rprevious_juris,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,sar_improved_toilet,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,sar_improved_water,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,sewage_toilet,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,sewingmachine,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,soc,
 gen soc=d6
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,socialsec,
 gen socialsec=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,spdef,
 gen spdef=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,strata,
 drop strata
 gen strata=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,subnatid1,"
 recode area01 (24 18 15 22 12 = 1) (20 14 29 13 28 = 2) (16 17 19 21 25 26 = 3) (11 23 27 30=4), gen(subnatid1)"
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,subnatid2,
 gen subnatid2=hh1
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,subnatid3,
 gen byte subnatid3=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,survey,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,television,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,toilet_jmp,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,toilet_orig,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,unempldur_l,
 gen unempldur_l=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,unempldur_u,
 gen unempldur_u=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,union,
 gen union=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,unitwage,
 gen unitwage=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,unitwage_2,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,urban,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,veralt,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,vermast,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,wage,
 gen wage=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,wage_2,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,washingmachine,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,water_jmp,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,water_orig,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfare,
 gen welfare=pce_real
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfaredef,
 gen welfaredef=pce_real
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfarenom,
 gen welfarenom=pce
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfareother,
 gen welfareother=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfareothertype,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfaretype,
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,welfshprosperity,
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,wgt,
 gen wgt=weight
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,whours,
 gen whours=.
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,year,
 gen int year=2012
 local year=2011
btn_2012_blss_v01_m_v02_a_sarmd,BTN,2012,BLSS,v01,v02,yrmove,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,age,
 gen age=d3
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,atschool,
 gen atschool= ed2
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,bicycle,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,buffalo,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,cellphone,
 gen cellphone=hs13
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,chicken,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,computer,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,contract,
 gen contract=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,countrycode,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,cow,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,cpi,
 ren cpi`year'_w cpi
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,cpiperiod,
 gen cpiperiod=syear
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,ed_mod_age,
 gen ed_mod_age=3
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,educat4,
 gen age=d3
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
 gen byte educat4=educat7
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,educat5,
 gen age=d3
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,educat7,
 gen age=d3
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=6 if ed3==13 | ed3==14
 replace educat7=. if age<ed_mod_age
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,educy,
 gen age=d3
 gen ed_mod_age=3
 gen everattend=ed2
 gen educy1=.
 gen educy2=.
 replace educy1=ed3
 replace educy2=ed11
 gen educy=educy1
 replace educy=educy2 if educy2!=.
 replace educy=0 if everattend==0
 replace educy=. if age<ed_mod_age
 replace educy=. if educy>age & educy!=. & age!=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,electricity,
 gen electricity=hs25
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,empstat,"
 gen age=d3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=e6
 replace empstat=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,empstat_2,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,empstat_2_year,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,everattend,
 gen everattend=ed2
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,fan,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,firmsize_l,
 gen firmsize_l=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,healthins,
 gen healthins=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,hsize,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,idh,
 gen double idh=houseid
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,idp,
 gen double idh=houseid
 egen idp=concat(idh slno)
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,industry,"
 gen age=d3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen industry=.
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,industry_2,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,industry_orig_2,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,int_month,
 gen byte int_month=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,int_year,
 gen byte int_year=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,internet,"
 gen internet=0 if hs14a==""a""
 replace internet=1 if internet==. & hs14a!="""""
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,lamp,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,lb_mod_age,
 gen lb_mod_age=15
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,literacy,
 gen age=d3
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if ed1dz==2 & ed1eng==2 & ed1lot==2 & ed1oth==2
 replace literacy=1 if ed1dz==1 | ed1eng==1 | ed1lot==1 | ed1oth==1
 replace literacy=. if age<ed_mod_age
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,lphone,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,male,
 gen male=d1
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,marital,
gen marital=d4
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,motorcar,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,motorcycle,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,njobs,
 gen njobs=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=e5
  replace nlfreason=. if lstatus!=3"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,occup,"
 gen age=d3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(e7/100)
 replace occup=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,ocusec,"
 gen age=d3
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,ownhouse,
 gen ownhouse=hs2
 gen relationharm=d2
 replace ownhouse=. if relationharm==6
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,piped_water,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,pline_nat,
 ren totpovline pline_nat
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,pop_wgt,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,psu,
 gen psu=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,radio,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,rbirth,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,rbirth_juris,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,refrigerator,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,relationcs,
 gen byte relationcs=d2
 replace relationcs=. if d2==99
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,relationharm,
 gen relationharm=d2
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,rprevious,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,rprevious_juris,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,sar_improved_toilet,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,sar_improved_water,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,sewage_toilet,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,sewingmachine,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,soc,
 gen soc=d6
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,socialsec,
 gen socialsec=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,spdef,
 gen spdef=reg_deflator
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,strata,
 drop strata
 gen strata=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,subnatid1,"
 recode area01 (24 18 15 22 12 = 1) (20 14 29 13 28 = 2) (16 17 19 21 25 26 = 3) (11 23 27 30=4), gen(subnatid1)"
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,subnatid2,
 gen subnatid2=hh1
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,subnatid3,
 gen byte subnatid3=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,survey,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,television,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,toilet_jmp,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,toilet_orig,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,unempldur_l,
 gen unempldur_l=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,unempldur_u,
 gen unempldur_u=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,union,
 gen union=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,unitwage,
 gen unitwage=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,unitwage_2,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,urban,
 gen urban=area
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,veralt,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,vermast,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,wage,
 gen wage=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,wage_2,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,washingmachine,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,water_jmp,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,water_orig,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfare,
 gen welfare=pce_real
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfaredef,
 gen welfaredef=pce_real
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfarenom,
 gen welfarenom=pce
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfareother,
 gen welfareother=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfareothertype,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfaretype,
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,welfshprosperity,
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,wgt,
 gen wgt=weight
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,whours,
 gen whours=.
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,year,
 gen int year=2012
 local year=2011
btn_2012_blss_v01_m_v03_a_sarmd,BTN,2012,BLSS,v01,v03,yrmove,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,age,
 gen age=d3
 replace age=98 if age>=98 & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,atschool,
 gen atschool= ed2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,bicycle,
 gen bicycle= as123==1 | as123==2 if !mi(as123)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,buffalo,
 gen buffalo=as27>0 if as27<.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,cellphone,
 gen cellphone=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,chicken,
 drop chicken
 gen chicken=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,computer,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,contract,
 gen contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,countrycode,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,cow,
 gen cow= as23>0 if as23<.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,cpi,
 ren cpi`year'_w cpi
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,cpiperiod,
 gen cpiperiod=syear
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,ed_mod_age,
 gen ed_mod_age=3
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,educat4,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 gen byte educat4=educat7
 replace educat4=. if educat7==8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,educat5,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,educat7,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,educy,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,electricity,
 gen electricity=hs25
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,empstat,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=e6
 replace empstat=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,empstat_2,
 gen njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,empstat_2_year,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,everattend,
 gen everattend=ed2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,fan,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,firmsize_l,
 gen firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,healthins,
 gen healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,hsize,
 drop hsize
 gen z=1
 bys idh: egen hsize=sum(z)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,idh,
 gen double idh=houseid
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,idp,
 gen double idh=houseid
 egen idp=concat(idh slno)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,industry,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen industry=.
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,industry_2,
 gen njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,industry_orig_2,
 gen njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,int_month,
 gen byte int_month=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,int_year,
 gen byte int_year=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,internet,"
 gen internet=0 if hs14a==""a""
 replace internet=1 if internet==. & hs14a!="""""
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,lamp,
 gen lamp=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,lb_mod_age,
 gen lb_mod_age=15
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,literacy,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if ed1dz==2 & ed1eng==2 & ed1lot==2 & ed1oth==2
 replace literacy=1 if ed1dz==1 | ed1eng==1 | ed1lot==1 | ed1oth==1
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,lphone,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,male,
 gen male=d1
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,marital,
 gen marital=d4
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,motorcar,
 gen motorcar= as19==1 | as19==2 if !mi(as19)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,motorcycle,
 gen motorcycle=as13==1 | as13==2 if !mi(as13)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,njobs,
 gen njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=e5
  replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(e7/1000)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,ocusec,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,ownhouse,
 gen ownhouse=hs2
 gen relationharm=d2
 replace ownhouse=. if relationharm==6
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,piped_water,
gen piped_water=hs16
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,pline_nat,
 ren totpovline pline_nat
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,pop_wgt,
 gen wgt=weight
 drop hsize
 gen z=1
 bys idh: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,psu,
 gen psu=bchiwog
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,radio,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,rbirth,
 gen byte rbirth=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,refrigerator,
 gen refrigerator= as111==1 | as111==2 if !mi(as111)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,relationcs,
 gen byte relationcs=d2
 replace relationcs=. if d2==99
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,relationharm,
 gen relationharm=d2
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,rprevious,
 gen byte rprevious=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(hs21,1,2,3,4,7,8,11)
replace sar_improved_toilet=0 if inlist(hs21,5,6,9,10,12,13)
replace sar_improved_toilet=0 if hs22==1"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(hs16,1,2,3,4,6,8)
replace sar_improved_water=0 if inlist(hs16,5,7,9,10,11,12,13)"
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,sewage_toilet,
gen sewage_toilet=hs21
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,sewingmachine,
 gen sewingmachine=as118==1 | as118==2 if !mi(as118)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,soc,
 gen soc=d6
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,socialsec,
 gen socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,spdef,
 gen spdef=reg_deflator
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,strata,
 drop strata
 gen strata=hh1
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,subnatid1,
 gen subnatid1=hh1
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,subnatid2,
 gen byte subnatid2=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,subnatid3,
 gen byte subnatid3=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,survey,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,television,
 gen television= as121==1 | as121==2 if !mi(as121)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,toilet_jmp,
gen toilet_jmp=hs21
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,toilet_orig,
gen toilet_orig=hs21
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,unempldur_l,
 gen unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,unempldur_u,
 gen unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,union,
 gen union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,unitwage,
 gen unitwage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,unitwage_2,
 gen njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,urban,
 gen urban=area
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,veralt,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,vermast,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,wage,
 gen wage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,wage_2,
 gen njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,washingmachine,
 gen washingmachine=as115==1 | as115==2 if !mi(as115)
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,water_jmp,
gen water_jmp=hs16
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,water_orig,
gen water_orig=hs16
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfare,
 gen welfare=pce_real
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfaredef,
 gen welfaredef=pce_real
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfarenom,
 gen welfarenom=pce
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfareother,
 gen welfareother=.
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfareothertype,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfaretype,
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,welfshprosperity,
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,wgt,
 gen wgt=weight
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,year,
 gen int year=2012
 local year=2011
btn_2012_blss_v01_m_v04_a_sarmd,BTN,2012,BLSS,v01,v04,yrmove,
 gen int yrmove=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,age,
 gen age=d3
 replace age=98 if age>=98 & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,atschool,
 gen atschool= ed2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,bicycle,
 gen bicycle= as123==1 | as123==2 if !mi(as123)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,buffalo,
 gen buffalo=as27>0 if as27<.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,cellphone,
 gen cellphone=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,chicken,
 drop chicken
 gen chicken=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,computer,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,contract,
 gen contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,countrycode,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,cow,
 gen cow= as23>0 if as23<.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,cpi,
 ren cpi`year'_w cpi
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,cpiperiod,
 gen cpiperiod=syear
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,ed_mod_age,
 gen ed_mod_age=3
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,educat4,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 gen byte educat4=educat7
 replace educat4=. if educat7==8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,educat5,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,educat7,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,educy,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,electricity,
 gen electricity=hs25
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,empstat,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=e6
 replace empstat=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,empstat_2,
 gen njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,empstat_2_year,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,everattend,
 gen everattend=ed2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,fan,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,firmsize_l,
 gen firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,healthins,
 gen healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,hsize,
 drop hsize
 gen z=1
 bys idh: egen hsize=sum(z)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,idh,
 gen double idh=houseid
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,idp,
 gen double idh=houseid
 egen idp=concat(idh slno)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,industry,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen industry=.
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,industry_2,
 gen njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,industry_orig_2,
 gen njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,int_month,
 gen byte int_month=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,int_year,
 gen byte int_year=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,internet,"
 gen internet=0 if hs14a==""a""
 replace internet=1 if internet==. & hs14a!="""""
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,lamp,
 gen lamp=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,lb_mod_age,
 gen lb_mod_age=15
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,literacy,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if ed1dz==2 & ed1eng==2 & ed1lot==2 & ed1oth==2
 replace literacy=1 if ed1dz==1 | ed1eng==1 | ed1lot==1 | ed1oth==1
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,lphone,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,male,
 gen male=d1
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,marital,
 gen marital=d4
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,motorcar,
 gen motorcar= as19==1 | as19==2 if !mi(as19)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,motorcycle,
 gen motorcycle=as13==1 | as13==2 if !mi(as13)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,njobs,
 gen njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=e5
  replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(e7/1000)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,ocusec,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,ownhouse,
 gen ownhouse=hs2
 gen relationharm=d2
 replace ownhouse=. if relationharm==6
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,piped_water,
gen piped_water=hs16
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,pline_nat,
 ren totpovline pline_nat
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,pop_wgt,
 gen wgt=weight
 drop hsize
 gen z=1
 bys idh: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,psu,
 gen psu=bchiwog
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,radio,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,rbirth,
 gen byte rbirth=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,refrigerator,
 gen refrigerator= as111==1 | as111==2 if !mi(as111)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,relationcs,
 gen byte relationcs=d2
 replace relationcs=. if d2==99
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,relationharm,
 gen relationharm=d2
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,rprevious,
 gen byte rprevious=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(hs21,1,2,3,4,7,8,11)
replace sar_improved_toilet=0 if inlist(hs21,5,6,9,10,12,13)
replace sar_improved_toilet=0 if hs22==1"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(hs16,1,2,3,4,6,8)
replace sar_improved_water=0 if inlist(hs16,5,7,9,10,11,12,13)"
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,sewage_toilet,
gen sewage_toilet=hs21
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,sewingmachine,
 gen sewingmachine=as118==1 | as118==2 if !mi(as118)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,soc,
 gen soc=d6
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,socialsec,
 gen socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,spdef,
 gen spdef=reg_deflator
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,strata,
 drop strata
 gen strata=hh1
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,subnatid1,
 gen subnatid1=hh1
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,subnatid2,
 gen byte subnatid2=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,subnatid3,
 gen byte subnatid3=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,survey,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,television,
 gen television= as121==1 | as121==2 if !mi(as121)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,toilet_jmp,
gen toilet_jmp=hs21
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,toilet_orig,
gen toilet_orig=hs21
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,unempldur_l,
 gen unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,unempldur_u,
 gen unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,union,
 gen union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,unitwage,
 gen unitwage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,unitwage_2,
 gen njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,urban,
 gen urban=area
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,veralt,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,vermast,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,wage,
 gen wage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,wage_2,
 gen njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,washingmachine,
 gen washingmachine=as115==1 | as115==2 if !mi(as115)
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,water_jmp,
gen water_jmp=hs16
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,water_orig,
gen water_orig=hs16
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfare,
 gen welfare=pce_real
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfaredef,
 gen welfaredef=pce_real
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfarenom,
 gen welfarenom=pce
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfareother,
 gen welfareother=.
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfareothertype,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfaretype,
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,welfshprosperity,
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,wgt,
 gen wgt=weight
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,year,
 gen int year=2012
 local year=2011
btn_2012_blss_v01_m_v05_a_sarmd,BTN,2012,BLSS,v01,v05,yrmove,
 gen int yrmove=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,age,
 gen age=d3
 replace age=98 if age>=98 & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,atschool,
 gen atschool= ed2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,bicycle,
 gen bicycle= as123==1 | as123==2 if !mi(as123)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,buffalo,
 gen buffalo=as27>0 if as27<.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,cellphone,
 gen cellphone=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,chicken,
 drop chicken
 gen chicken=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,computer,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,contract,
 gen contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,countrycode,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,cow,
 gen cow= as23>0 if as23<.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,cpi,
 ren cpi`year'_w cpi
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,cpiperiod,
 gen cpiperiod=syear
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,ed_mod_age,
 gen ed_mod_age=3
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,educat4,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 gen byte educat4=educat7
 replace educat4=. if educat7==8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,educat5,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,educat7,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
gen edulevel1=.
replace edulevel1=1 if educy==0
replace edulevel1=2 if educy>0 & educy<9
replace edulevel1=3 if educy==9
replace edulevel1=4 if educy>9 & educy<12
replace edulevel1=5 if educy==12
replace edulevel1=7 if educy>12 & educy!=.
replace edulevel1=6 if inlist(ed3,13,14) | inlist(ed11,13,14)
replace edulevel1=8 if inlist(19,ed3,ed11)
replace edulevel1=. if age<ed_mod_age
rename edulevel1 educat7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,educy,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
gen educy1=.
gen educy2=.
replace educy1=ed3
replace educy2=ed11
gen educy=educy1
replace educy=0 if ed2==3
replace educy=educy2 if educy2!=.
replace educy=. if age<ed_mod_age
replace educy=. if educy>age+1 & educy<. & age!=.
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,electricity,
 gen electricity=hs25
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,empstat,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen empstat=e6
 replace empstat=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,empstat_2,
 gen njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,empstat_2_year,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,everattend,
 gen everattend=ed2
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,fan,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,firmsize_l,
 gen firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,healthins,
 gen healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,hsize,
 drop hsize
 gen z=1
 bys idh: egen hsize=sum(z)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,idh,
 gen double idh=houseid
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,idp,
 gen double idh=houseid
 egen idp=concat(idh slno)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,industry,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen industry=.
 replace industry =. if age<15 | industry==11
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,industry_2,
 gen njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,industry_orig_2,
 gen njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,int_month,
 gen byte int_month=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,int_year,
 gen byte int_year=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,internet,"
 gen internet=0 if hs14a==""a""
 replace internet=1 if internet==. & hs14a!="""""
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,lamp,
 gen lamp=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,lb_mod_age,
 gen lb_mod_age=15
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,literacy,
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=3
 gen literacy=.
 replace literacy=0 if ed1dz==2 & ed1eng==2 & ed1lot==2 & ed1oth==2
 replace literacy=1 if ed1dz==1 | ed1eng==1 | ed1lot==1 | ed1oth==1
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,lphone,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,lstatus,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,male,
 gen male=d1
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,marital,
 gen marital=d4
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,motorcar,
 gen motorcar= as19==1 | as19==2 if !mi(as19)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,motorcycle,
 gen motorcycle=as13==1 | as13==2 if !mi(as13)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,njobs,
 gen njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,nlfreason,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen nlfreason=e5
  replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,occup,"
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen occup=int(e7/1000)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,ocusec,"
 gen age=d3
 replace age=98 if age>=98 & age!=.
 gen lstatus = .
 replace lstatus = 1 if inlist(1, e1, e2, e3)
 replace lstatus = 2 if e4==1 & mi(lstatus)
 replace lstatus = 3 if e5!=. & lstatus!=1
 replace lstatus = . if age<15
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,ownhouse,
 gen ownhouse=hs2
 gen relationharm=d2
 replace ownhouse=. if relationharm==6
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,piped_water,
gen piped_water=hs16
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,pline_nat,
 ren totpovline pline_nat
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,poor_int,
 gen welfare=pce_real
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,poor_nat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,pop_wgt,
 gen wgt=weight
 drop hsize
 gen z=1
 bys idh: egen hsize=sum(z)
 gen pop_wgt=wgt*hsize
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,psu,
 gen psu=bchiwog
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,radio,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,rbirth,
 gen byte rbirth=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,rbirth_juris,
 gen byte rbirth_juris=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,refrigerator,
 gen refrigerator= as111==1 | as111==2 if !mi(as111)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,relationcs,
 gen byte relationcs=d2
 replace relationcs=. if d2==99
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,relationharm,
 gen relationharm=d2
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,rprevious,
 gen byte rprevious=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,rprevious_juris,
 gen byte rprevious_juris=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(hs21,1,2,3,4,7,8,11)
replace sar_improved_toilet=0 if inlist(hs21,5,6,9,10,12,13)
replace sar_improved_toilet=0 if hs22==1"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(hs16,1,2,3,4,6,8)
replace sar_improved_water=0 if inlist(hs16,5,7,9,10,11,12,13)"
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,sewage_toilet,
gen sewage_toilet=hs21
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,sewingmachine,
 gen sewingmachine=as118==1 | as118==2 if !mi(as118)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,soc,
 gen soc=d6
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,socialsec,
 gen socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,spdef,
 gen spdef=reg_deflator
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,strata,
 drop strata
 gen strata=hh1
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,subnatid1,
 gen subnatid1=hh1
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,subnatid2,
 gen byte subnatid2=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,subnatid3,
 gen byte subnatid3=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,survey,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,television,
 gen television= as121==1 | as121==2 if !mi(as121)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,toilet_jmp,
gen toilet_jmp=hs21
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,toilet_orig,
gen toilet_orig=hs21
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,unempldur_l,
 gen unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,unempldur_u,
 gen unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,union,
 gen union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,unitwage,
 gen unitwage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,unitwage_2,
 gen njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,urban,
 gen urban=area
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,veralt,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,vermast,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,wage,
 gen wage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,wage_2,
 gen njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,washingmachine,
 gen washingmachine=as115==1 | as115==2 if !mi(as115)
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,water_jmp,
gen water_jmp=hs16
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,water_orig,
gen water_orig=hs16
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfare,
 gen welfare=pce_real
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfaredef,
 gen welfaredef=pce_real
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfarenat,
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfarenom,
 gen welfarenom=pce
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfareother,
 gen welfareother=.
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfareothertype,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfaretype,
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,welfshprosperity,
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,wgt,
 gen wgt=weight
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,year,
 gen int year=2012
 local year=2011
btn_2012_blss_v01_m_v06_a_sarmd,BTN,2012,BLSS,v01,v06,yrmove,
 gen int yrmove=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,age,
 *gen age=.
 replace age=98 if age>=98 & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,atschool,
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=2
 replace atschool=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,bicycle,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,buffalo,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,cellphone,
 gen byte cellphone=(HS13>1) if HS13>=0
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,chicken,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,computer,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,contract,
 gen contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,countrycode,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,cow,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,cpi,
 gen cpi=1.4796
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,cpiperiod,
 *gen cpiperiod=syear
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,ed_mod_age,
 gen ed_mod_age=2
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,educat4,"
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=2
 gen educy=educy1
 replace educy=0 if ED2==3
 replace educy=educy2 if educy2!=.
 replace educy=. if age<ed_mod_age | age-educy1<5
 gen edulevel1=.
 replace edulevel1=1 if educy==0
 replace edulevel1=2 if educy>0 & educy<9
 replace edulevel1=3 if educy==9
 replace edulevel1=4 if educy>9 & educy<12
 replace edulevel1=5 if educy==12
 replace edulevel1=7 if educy>12 & educy!=.
 replace edulevel1=6 if inlist(ED3,13,16) | inlist(ED11,13,16)
 replace edulevel1=8 if inlist(20,ED3,ED11) | inlist(21,ED3,ED11)
 replace edulevel1=. if age<ed_mod_age & age!=.
 rename edulevel1 educat7
 gen byte educat4=educat7
 replace educat4=. if educat7==8
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,educat5,"
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=2
 gen educy=educy1
 replace educy=0 if ED2==3
 replace educy=educy2 if educy2!=.
 replace educy=. if age<ed_mod_age | age-educy1<5
 gen edulevel1=.
 replace edulevel1=1 if educy==0
 replace edulevel1=2 if educy>0 & educy<9
 replace edulevel1=3 if educy==9
 replace edulevel1=4 if educy>9 & educy<12
 replace edulevel1=5 if educy==12
 replace edulevel1=7 if educy>12 & educy!=.
 replace edulevel1=6 if inlist(ED3,13,16) | inlist(ED11,13,16)
 replace edulevel1=8 if inlist(20,ED3,ED11) | inlist(21,ED3,ED11)
 replace edulevel1=. if age<ed_mod_age & age!=.
 rename edulevel1 educat7
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,educat7,"
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=2
 gen educy=educy1
 replace educy=0 if ED2==3
 replace educy=educy2 if educy2!=.
 replace educy=. if age<ed_mod_age | age-educy1<5
 gen edulevel1=.
 replace edulevel1=1 if educy==0
 replace edulevel1=2 if educy>0 & educy<9
 replace edulevel1=3 if educy==9
 replace edulevel1=4 if educy>9 & educy<12
 replace edulevel1=5 if educy==12
 replace edulevel1=7 if educy>12 & educy!=.
 replace edulevel1=6 if inlist(ED3,13,16) | inlist(ED11,13,16)
 replace edulevel1=8 if inlist(20,ED3,ED11) | inlist(21,ED3,ED11)
 replace edulevel1=. if age<ed_mod_age & age!=.
 rename edulevel1 educat7
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,educy,
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=2
 gen educy=educy1
 replace educy=0 if ED2==3
 replace educy=educy2 if educy2!=.
 replace educy=. if age<ed_mod_age | age-educy1<5
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,electricity,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,empstat,"
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=1 if inlist(1,E1,E4) | E1==2
 replace lstatus=2 if E10==1 & lstatus==.
 replace lstatus=3 if E10==2 & lstatus==.
 replace lstatus=. if age<lb_mod_age & age!=.
 replace empstat=. if lstatus!=1
 replace empstat=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,empstat_2,
 gen njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,empstat_2_year,
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,everattend,
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen ed_mod_age=2
 replace everattend=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,fan,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,firmsize_l,
 gen firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,healthins,
 gen healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,hsize,
 gen int year=2017
 *bys idh: egen hsize=count(year)
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,idh,
 rename InterviewId houseid
 rename (ParentId1 Id) (Id pid)
 rename Id houseid
 gen idh=houseid
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,idp,"
 rename InterviewId houseid
 rename (ParentId1 Id) (Id pid)
 rename Id houseid
 gen idh=houseid
 egen idp=concat(idh pid), p(-)"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,industry,"
 gen byte lstatus=1 if inlist(1,E1,E4) | E1==2
 replace lstatus=2 if E10==1 & lstatus==.
 replace lstatus=3 if E10==2 & lstatus==.
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=floor(E6/100) if E6>0
 replace industry=1 if E1==1
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,industry_2,
 gen njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,industry_orig_2,
 gen njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,int_month,"
 gen int_month=substr(Date,1,2)"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,int_year,
 gen int int_year=2017
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,internet,
 gen byte internet=(HS14==1) if HS14>0
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,lamp,
 gen lamp=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,lb_mod_age,
 gen lb_mod_age=15
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,literacy,"
 gen byte literacy=inlist(1,ED1__1,ED1__2,ED1__3,ED1__4)
 replace literacy=. if age<ed_mod_age
 foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,lphone,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,lstatus,"
 gen byte lstatus=1 if inlist(1,E1,E4) | E1==2
 replace lstatus=2 if E10==1 & lstatus==.
 replace lstatus=3 if E10==2 & lstatus==.
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,male,
 gen male=sex
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,marital,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,motorcar,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,motorcycle,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,njobs,
 gen njobs=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,nlfreason,"
 gen byte lstatus=1 if inlist(1,E1,E4) | E1==2
 replace lstatus=2 if E10==1 & lstatus==.
 replace lstatus=3 if E10==2 & lstatus==.
 replace lstatus=. if age<lb_mod_age & age!=.
 replace nlfreason=. if lstatus!=3
  replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,occup,"
 gen aux=floor(E9/100)
 gen byte occup=floor(E9/1000) if E9>0
 replace occup=6 if occup==0
 replace occup=10 if inlist(aux,10,20)
 replace occup=5 if aux==14
 replace occup=. if lstatus!=1
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,ocusec,"
 *gen age=.
 replace age=98 if age>=98 & age!=.
 gen byte lstatus=1 if inlist(1,E1,E4) | E1==2
 replace lstatus=2 if E10==1 & lstatus==.
 replace lstatus=3 if E10==2 & lstatus==.
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ocusec=.
 replace ocusec=. if lstatus!=1 | age<15
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,ownhouse,
 gen byte relationharm=role
 replace ownhouse=. if relationharm==6
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,piped_water,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,pline_int,
 gen cpi=1.4796
 gen ppp=16.96291
 gen pline_int=1.90*cpi*ppp*365/12
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,pline_nat,
 ren totpovline pline_nat
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,poor_int,
 replace pce_real=. if pce_real<0
 gen welfare=pce_real
 gen cpi=1.4796
 gen ppp=16.96291
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,poor_nat,
 replace pce_real=. if pce_real<0
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
 ren totpovline pline_nat
 gen poor_nat=welfarenat<pline_nat if welfaredef!=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,pop_wgt,
 gen pop_wgt=popweight
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,psu,
 *gen psu=psu_num
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,radio,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,rbirth,
 gen byte rbirth=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,rbirth_juris,
 gen byte rbirth_juris=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,refrigerator,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,relationcs,
 gen byte relationcs=role
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,relationharm,
 gen byte relationharm=role
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,rprevious,
 gen byte rprevious=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,rprevious_juris,
 gen byte rprevious_juris=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(HS21,1,2,3,4,7,8,11)
replace sar_improved_toilet=0 if inlist(HS21,5,6,9,10,12,13)
replace sar_improved_toilet=0 if HS22==1"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(HS16,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(HS16,6,8,10,11,12,13,14)"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,sewage_toilet,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,sewingmachine,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,soc,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,socialsec,
 gen socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,spdef,
 gen spdef=paasche
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,strata,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,subnatid1,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,subnatid2,
 gen byte subnatid2=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,subnatid3,
 gen byte subnatid3=.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,survey,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,television,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,toilet_jmp,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,toilet_orig,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,unempldur_l,
 gen unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,unempldur_u,
 gen unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,union,
 gen union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,unitwage,
 gen unitwage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,unitwage_2,
 gen njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,urban,
 *gen byte urban=urbrur
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,veralt,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,vermast,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,wage,
 gen wage=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,wage_2,
 gen njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,washingmachine,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,water_jmp,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,water_orig,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfare,"
 replace pce_real=. if pce_real<0
 gen welfare=pce_real
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }
 drop welfaretype"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfaredef,
 replace pce_real=. if pce_real<0
 gen welfaredef=pce_real
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfarenat,
 replace pce_real=. if pce_real<0
 gen welfaredef=pce_real
 gen welfarenat=welfaredef
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfarenom,
 replace pce=. if pce<0
 gen welfarenom=pce
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfareother,"
 gen welfareother=.
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }"
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfareothertype,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfaretype,
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,welfshprosperity,
 replace pce_real=. if pce_real<0
 gen welfaredef=pce_real
 gen welfshprosperity=welfaredef
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,wgt,
 bys idh: gen double wgt=popweight/_N
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,year,
 gen int year=2017
 local year=2011
btn_2017_blss_v01_m_v01_a_sarmd,BTN,2017,BLSS,v01,v01,yrmove,
 gen int yrmove=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,age,
 gen relationharm= relation
 replace age=headage if relationharm==1
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,atschool,
 gen atschool=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,bicycle,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,buffalo,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,cellphone,
 gen cellphone=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,chicken,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,computer,
 gen computer=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,contract,
 gen lstatus=.
 gen contract=.
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,countrycode,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,cow,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,cpi,
 ren cpi`year'_w cpi
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,cpiperiod,
 gen cpiperiod=syear
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,ed_mod_age,
 gen ed_mod_age=0
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,educat4,
 gen educat7=gened
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,educat5,
 gen educat7=gened
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,educat7,
 gen educat7=gened
 replace educat7=1 if everattend==0
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,educy,
 gen educat7=gened
 replace educat7=1 if everattend==0
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,electricity,
 gen electricity=lightelec
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,empstat,
 gen empstat=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,empstat_2,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,empstat_2_year,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,everattend,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,fan,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,firmsize_l,
 gen firmsize_l=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,healthins,
 gen healthins=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,hsize,
 ren hhsize hsize
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,idh,"
 generate idh=string(hhid, ""%15.0f"")
 generate idh=string(hhid, ""%15.0f"")"
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,idp,"
 ren pid indid
 generate idh=string(hhid, ""%15.0f"")
 generate idh=string(hhid, ""%15.0f"")
 egen long idp=concat(idh indid)"
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,industry,
 gen lstatus=.
 gen industry=.
 replace industry=. if lstatus==2 | lstatus==3
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,industry_2,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,industry_orig_2,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,int_month,
 gen byte int_month=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,int_year,
 gen byte int_year=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,internet,
 gen internet=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,lamp,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,lb_mod_age,
 gen lb_mod_age=0
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,literacy,
 gen literacy=gened
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,lphone,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,lstatus,
 gen lstatus=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,male,
 gen male= sex
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,marital,
 *gen marital=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,motorcar,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,motorcycle,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,njobs,
 gen njobs=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,nlfreason,
 gen nlfreason=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,occup,
 gen occup=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,ocusec,
 gen ocusec=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,ownhouse,
 gen ownhouse=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,piped_water,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,pline_nat,
 ren pline_ind_93 pline_mrp_sector
 ren pline pline_nat
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,poor_int,
 gen welfare=mpce_urp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,poor_nat,
 ren pline_ind_93 pline_mrp_sector
 gen welfareother=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfareother<pline_nat & welfareother!=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,pop_wgt,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,psu,
 gen psu=fsu
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,radio,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,rbirth,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,rbirth_juris,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,refrigerator,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,relationcs,
 gen byte relationcs=relation
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,relationharm,
 gen relationharm= relation
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,rprevious,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,rprevious_juris,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,sar_improved_toilet,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,sar_improved_water,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,sewage_toilet,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,sewingmachine,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,soc,
 gen soc=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,socialsec,
 gen socialsec=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,spdef,
 ren pline_ind_93 pline_mrp_sector
 gen spdef=pline
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,strata,
 gen strata=stratum
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,subnatid2,
 gen subnatid2=state
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,subnatid3,
 gen byte subnatid3=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,survey,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,television,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,toilet_jmp,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,toilet_orig,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,unempldur_l,
 gen lstatus=.
 gen unempldur_l=.
 replace unempldur_l=. if lstatus!=2
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,unempldur_u,
 gen lstatus=.
 gen unempldur_u=.
 replace unempldur_u=. if lstatus!=2
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,union,
 gen lstatus=.
 gen union=.
 replace union=. if lstatus==2 | lstatus==3
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,unitwage,
 gen unitwage=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,unitwage_2,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,urban,
 ren pline_ind_93 pline_mrp_sector
 gen urban=sector
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,veralt,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,vermast,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,wage,
 gen lstatus=.
 gen empstat=.
 gen wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,wage_2,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,washingmachine,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,water_jmp,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,water_orig,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfare,
 gen welfare=mpce_urp
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfaredef,
 gen pline_urp_sector=.
 replace pline_urp_sector=236.6 if sector==1
 replace pline_urp_sector=318.2 if sector==2
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline_urp_sector)
 ren pline_ind_93 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfarenat,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfarenom,
 gen welfarenom=mpce_urp
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfareother,
 gen welfareother=mpce_mrp
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfareothertype,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfaretype,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,welfshprosperity,
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,wgt,
 *gen wgt=mult/100 if nss==nsc
 *replace wgt= mult/200 if nss!=nsc
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,whours,
 gen whours=.
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,year,
 gen year=1993
 local year=2011
ind_1993_nss-sch1_v01_m_v01_a_sarmd,IND,1993,NSS-SCH1,v01,v01,yrmove,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,age,
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,atschool,
 gen atschool=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,bicycle,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,buffalo,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,cellphone,
 gen cellphone=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,chicken,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,computer,
 gen computer=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,contract,
 gen lstatus=.
 gen contract=.
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,countrycode,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,cow,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,cpi,
 ren cpi`year'_w cpi
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,cpiperiod,
 gen cpiperiod=syear
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,ed_mod_age,
 gen ed_mod_age=0
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
 replace educat5=1 if everattend==0
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,educat7,
 replace educat7=1 if everattend==0
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,educy,
 replace educat7=1 if everattend==0
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,electricity,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,empstat,
 gen empstat=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,empstat_2,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,empstat_2_year,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,everattend,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,fan,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,firmsize_l,
 gen firmsize_l=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,healthins,
 gen healthins=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,hsize,
 ren hhsize hsize
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,idh,"
 generate idh=string(hhid, ""%15.0f"")"
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,idp,"
 ren pid indid
 generate idh=string(hhid, ""%15.0f"")
 egen str idp=concat(idh indid)"
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,industry,
 gen lstatus=.
 gen industry=.
 replace industry=. if lstatus==2 | lstatus==3
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,industry_2,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,industry_orig_2,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,int_month,
 gen byte int_month=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,int_year,
 gen byte int_year=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,internet,
 gen internet=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,lamp,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,lb_mod_age,
 gen lb_mod_age=0
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,literacy,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,lphone,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,lstatus,
 gen lstatus=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,male,
 gen male= S1B4_v4
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,marital,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,motorcar,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,motorcycle,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,njobs,
 gen njobs=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,nlfreason,
 gen nlfreason=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,occup,
 gen occup=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,ocusec,
 gen ocusec=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,ownhouse,
 gen ownhouse=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,piped_water,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,pline_nat,
 ren pline_ind_93 pline_mrp_sector
 ren pline pline_nat
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,poor_int,
 gen welfare=mpce_urp
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,poor_nat,
 ren pline_ind_93 pline_mrp_sector
 gen welfarenat=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfarenat!=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,pop_wgt,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,psu,
 ren FSU_No fsu
 ren FSU_No fsu
 ren FSU_No fsu
 gen psu=fsu
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,radio,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,rbirth,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,rbirth_juris,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,refrigerator,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,relationcs,
 gen byte relationcs = S1B4_v3
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,relationharm,
 ren pid indid
 gen relationharm = S1B4_v3
 gen byte relationcs = S1B4_v3
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if indid==1 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if relationharm==2 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 bys idh: egen min_rel=min(relationcs)
 replace relationharm=1 if min_rel==3 & relationcs==3
 replace relationharm=2 if min_rel==3 & relationcs==4
 replace relationharm=3 if min_rel==3 & relationcs==6
 drop head heads min_rel
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & S1B4_v5==max_age
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=2 if relationharm==1 & indid!=1 & heads==2
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & indid==1
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=5 if relationharm==1 & heads!=1 & indid!=1
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & indid==1
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,rprevious,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,rprevious_juris,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,sar_improved_toilet,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,sar_improved_water,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,sewage_toilet,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,sewingmachine,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,soc,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,socialsec,
 gen socialsec=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,spdef,
 ren pline_ind_93 pline_mrp_sector
 gen spdef=pline
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,strata,
 gen strata=stratum
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,subnatid2,
 gen subnatid2=state
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,subnatid3,
 gen byte subnatid3=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,survey,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,television,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,toilet_jmp,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,toilet_orig,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,unempldur_l,
 gen lstatus=.
 gen unempldur_l=.
 replace unempldur_l=. if lstatus!=2
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,unempldur_u,
 gen lstatus=.
 gen unempldur_u=.
 replace unempldur_u=. if lstatus!=2
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,union,
 gen lstatus=.
 gen union=.
 replace union=. if lstatus==2 | lstatus==3
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,unitwage,
 gen unitwage=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,unitwage_2,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,urban,
 ren pline_ind_93 pline_mrp_sector
 gen urban=sector
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,veralt,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,vermast,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,wage,
 gen lstatus=.
 gen empstat=.
 gen wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,wage_2,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,washingmachine,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,water_jmp,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,water_orig,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfare,
 gen welfare=mpce_urp
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfaredef,
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_93 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfarenat,
 gen welfarenat=mpce_mrp
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfarenom,
 gen welfarenom=mpce_urp
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfareother,
 gen welfareother=mpce_mrp
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfareothertype,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfaretype,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,welfshprosperity,
 gen welfare=mpce_urp
 gen welfshprosperity=welfare
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,wgt,
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,whours,
 gen whours=.
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,year,
 gen int year=1993
 local year=2011
ind_1993_nss-sch1_v01_m_v02_a_sarmd,IND,1993,NSS-SCH1,v01,v02,yrmove,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,age,
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
 replace age=98 if age>98 & age<.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,atschool,
 gen atschool=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,bicycle,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,buffalo,
 gen buffalo=(S1B32_v4==3)
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,cellphone,
 gen cellphone=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,chicken,
 gen chicken=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,computer,
 gen computer=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,contract,
 gen lstatus=.
 gen contract=.
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,countrycode,
 gen lstatus=.
 gen contract=.
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,cow,
 gen cow=(S1B32_v4==2)
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,cpi,
 gen cow=(S1B32_v4==2)
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,cpiperiod,
 gen cow=(S1B32_v4==2)
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,ed_mod_age,
 gen ed_mod_age=0
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,educat7,
 replace educat7=1 if everattend==0
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,educy,
 replace educat7=1 if everattend==0
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,electricity,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,empstat,
 gen empstat=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,empstat_2,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,empstat_2_year,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,everattend,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,fan,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,firmsize_l,
 gen firmsize_l=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,healthins,
 gen healthins=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,hsize,
 ren hhsize hsize
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,idh,"
 generate idh=string(hhid, ""%15.0f"")"
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,idp,"
 ren pid indid
 generate idh=string(hhid, ""%15.0f"")
 egen str idp=concat(idh indid), punct(-) "
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,industry,
 gen lstatus=.
 gen industry=.
 replace industry=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,industry_2,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,industry_orig_2,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,int_month,
 gen byte int_month=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,int_year,
 gen byte int_year=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,internet,
 gen internet=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,lamp,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,lb_mod_age,
 gen lb_mod_age=0
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,literacy,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,lphone,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,lstatus,
 gen lstatus=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,male,
 gen male= S1B4_v4
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,marital,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,motorcar,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,motorcycle,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,njobs,
 gen njobs=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,nlfreason,
 gen nlfreason=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,occup,
 gen occup=.
drop occup2 occup3
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,ocusec,
 gen ocusec=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,ownhouse,"
 gen ownhouse=.
 replace ownhouse=1 if S1B12_v1==2
 replace ownhouse=0 if inlist(S1B12_v1,3,4,9)"
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,piped_water,
gen piped_water=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,pline_int,
gen piped_water=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,pline_nat,
 ren pline_ind_93 pline_mrp_sector
 ren pline pline_nat
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,poor_int,
 ren pline_ind_93 pline_mrp_sector
 ren pline pline_nat
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,poor_nat,
 ren pline_ind_93 pline_mrp_sector
 gen welfarenat=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfarenat!=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,pop_wgt,
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,psu,"
 ren FSU_No fsu
 ren FSU_No fsu
 ren FSU_No fsu
 ren FSU_No fsu
 reshape wide S1B91_v3, i(fsu secondstage hhno) j(S1B91_v1)
 ren FSU_No fsu
 gen psu=fsu"
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,radio,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,rbirth,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,rbirth_juris,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,refrigerator,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,relationcs,
 gen byte relationcs = S1B4_v3
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,relationharm,
 ren pid indid
 gen relationharm = S1B4_v3
 gen byte relationcs = S1B4_v3
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if indid==1 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if relationharm==2 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 bys idh: egen min_rel=min(relationcs)
 replace relationharm=1 if min_rel==3 & relationcs==3
 replace relationharm=2 if min_rel==3 & relationcs==4
 replace relationharm=3 if min_rel==3 & relationcs==6
 drop head heads min_rel
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & S1B4_v5==max_age
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=2 if relationharm==1 & indid!=1 & heads==2
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & indid==1
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=5 if relationharm==1 & heads!=1 & indid!=1
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & indid==1
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,rprevious,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,rprevious_juris,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(S1B12_v7,2,3,4)
replace sar_improved_toilet=0 if inlist(S1B12_v7,1,9)"
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=4 if S1B12_v8==2
replace water_jmp=6 if S1B12_v8==3
replace water_jmp=12 if S1B12_v8==4
replace water_jmp=12 if S1B12_v8==5
replace water_jmp=14 if S1B12_v8==6
replace water_jmp=8 if S1B12_v8==7
replace water_jmp=14 if S1B12_v8==9
gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
 replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)
 replace sar_improved_water=1 if S1B12_v8==1"
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,sewage_toilet,
gen sewage_toilet=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,sewingmachine,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,soc,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,socialsec,
 gen socialsec=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,spdef,
 ren pline_ind_93 pline_mrp_sector
 gen spdef=pline
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,strata,
 gen strata=stratum
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,subnatid1,
ren state state_50
g state=.
 replace state=1 if state_50==10
 replace state=2 if state_50==9
replace state=3 if state_50==20
 replace state=4 if state_50==28
 replace state=6 if state_50==8
 replace state=7 if state_50==31
 replace state=8 if state_50==21
 replace state=9 if state_50==25
 replace state=10 if state_50==5
 replace state=11 if state_50==22
 replace state=12 if state_50==3
 replace state=13 if state_50==18
 replace state=14 if state_50==15
 replace state=15 if state_50==17
 replace state=16 if state_50==24
 replace state=17 if state_50==16
 replace state=18 if state_50==4
 replace state=19 if state_50==26
 replace state=21 if state_50==19
 replace state=23 if state_50==13
 replace state=24 if state_50==7
 replace state=25 if state_50==30
 replace state=26 if state_50==29
 replace state=27 if state_50==14
 replace state=28 if state_50==2
 replace state=29 if state_50==11
 replace state=30 if state_50==6
 replace state=31 if state_50==32
 replace state=32 if state_50==12
 replace state=33 if state_50==23
 replace state=34 if state_50==33
 replace state=35 if state_50==27
 gen subnatid1=state
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,subnatid2,
gen subnatid2=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,subnatid3,
 gen byte subnatid3=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,survey,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,television,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,toilet_jmp,
gen toilet_jmp=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,toilet_orig,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,unempldur_l,
 gen lstatus=.
 gen unempldur_l=.
 replace unempldur_l=. if lstatus!=2
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,unempldur_u,
 gen lstatus=.
 gen unempldur_u=.
 replace unempldur_u=. if lstatus!=2
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,union,
 gen lstatus=.
 gen union=.
 replace union=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,unitwage,
 gen unitwage=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,unitwage_2,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,urban,
 ren pline_ind_93 pline_mrp_sector
 gen urban=sector
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,veralt,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,vermast,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,wage,
 gen lstatus=.
 gen empstat=.
 gen wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,wage_2,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,washingmachine,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,water_jmp,
gen water_jmp=.
replace water_jmp=4 if S1B12_v8==2
replace water_jmp=6 if S1B12_v8==3
replace water_jmp=12 if S1B12_v8==4
replace water_jmp=12 if S1B12_v8==5
replace water_jmp=14 if S1B12_v8==6
replace water_jmp=8 if S1B12_v8==7
replace water_jmp=14 if S1B12_v8==9
replace water_jmp=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,water_orig,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfare,
 gen welfare=mpce_urp
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfaredef,
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_93 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfarenat,
 gen welfarenat=mpce_mrp
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfarenom,
 gen welfarenom=mpce_urp
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfareother,
 gen welfareother=mpce_mrp
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfareothertype,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfaretype,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,welfshprosperity,
 gen welfare=mpce_urp
 gen welfshprosperity=welfare
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,wgt,
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,whours,
 gen whours=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,year,
 gen whours=.
ind_1993_nss50-sch1.0_v01_m_v03_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v03,yrmove,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,age,
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
 ren secstgstr secondstage
 replace age=98 if age>98 & age<.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,atschool,
 gen atschool=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,bicycle,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,buffalo,
 gen buffalo=(S1B32_v4==3)
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,cellphone,
 gen cellphone=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,chicken,
 gen chicken=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,computer,
 gen computer=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,contract,
 gen lstatus=.
 gen contract=.
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,countrycode,
 gen lstatus=.
 gen contract=.
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,cow,
 gen cow=(S1B32_v4==2)
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,cpi,
 gen cow=(S1B32_v4==2)
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,cpiperiod,
 gen cow=(S1B32_v4==2)
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,ed_mod_age,
 gen ed_mod_age=0
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,educat7,
 replace educat7=1 if everattend==0
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,educy,
 replace educat7=1 if everattend==0
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,electricity,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,empstat,
 gen empstat=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,empstat_2,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,empstat_2_year,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,everattend,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,fan,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,firmsize_l,
 gen firmsize_l=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,healthins,
 gen healthins=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,hsize,
 ren hhsize hsize
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,idh,"
 generate idh=string(hhid, ""%15.0f"")"
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,idp,"
 ren pid indid
 generate idh=string(hhid, ""%15.0f"")
 egen str idp=concat(idh indid), punct(-) "
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,industry,
 gen lstatus=.
 gen industry=.
 replace industry=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,industry_2,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,industry_orig_2,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,int_month,
 gen byte int_month=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,int_year,
 gen byte int_year=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,internet,
 gen internet=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,lamp,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,lb_mod_age,
 gen lb_mod_age=0
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,literacy,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,lphone,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,lstatus,
 gen lstatus=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,male,
 gen male= S1B4_v4
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,marital,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,motorcar,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,motorcycle,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,njobs,
 gen njobs=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,nlfreason,
 gen nlfreason=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,occup,
 gen occup=.
drop occup2 occup3
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,ocusec,
 gen ocusec=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,ownhouse,"
 gen ownhouse=.
 replace ownhouse=1 if S1B12_v1==2
 replace ownhouse=0 if inlist(S1B12_v1,3,4,9)"
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,piped_water,
gen piped_water=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,pline_int,
gen piped_water=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,pline_nat,
 ren pline_ind_93 pline_mrp_sector
 ren pline pline_nat
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,poor_int,
 ren pline_ind_93 pline_mrp_sector
 ren pline pline_nat
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,poor_nat,
 ren pline_ind_93 pline_mrp_sector
 gen welfarenat=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfarenat!=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,pop_wgt,
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,psu,"
 ren FSU_No fsu
 ren FSU_No fsu
 ren FSU_No fsu
 ren FSU_No fsu
 reshape wide S1B91_v3, i(fsu secondstage hhno) j(S1B91_v1)
 ren FSU_No fsu
 gen psu=fsu"
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,radio,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,rbirth,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,rbirth_juris,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,refrigerator,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,relationcs,
 gen byte relationcs = S1B4_v3
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,relationharm,
 ren pid indid
 gen relationharm = S1B4_v3
 gen byte relationcs = S1B4_v3
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if indid==1 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if relationharm==2 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 bys idh: egen min_rel=min(relationcs)
 replace relationharm=1 if min_rel==3 & relationcs==3
 replace relationharm=2 if min_rel==3 & relationcs==4
 replace relationharm=3 if min_rel==3 & relationcs==6
 drop head heads min_rel
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & S1B4_v5==max_age
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=2 if relationharm==1 & indid!=1 & heads==2
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & indid==1
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=5 if relationharm==1 & heads!=1 & indid!=1
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head) 
 replace relationharm=1 if heads==0 & indid==1
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,rprevious,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,rprevious_juris,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(S1B12_v7,2,3,4)
replace sar_improved_toilet=0 if inlist(S1B12_v7,1,9)"
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=4 if S1B12_v8==2
replace water_jmp=6 if S1B12_v8==3
replace water_jmp=12 if S1B12_v8==4
replace water_jmp=12 if S1B12_v8==5
replace water_jmp=14 if S1B12_v8==6
replace water_jmp=8 if S1B12_v8==7
replace water_jmp=14 if S1B12_v8==9
gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
 replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)
 replace sar_improved_water=1 if S1B12_v8==1"
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,sewage_toilet,
gen sewage_toilet=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,sewingmachine,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,soc,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,socialsec,
 gen socialsec=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,spdef,
 ren pline_ind_93 pline_mrp_sector
 gen spdef=pline
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,strata,
 gen strata=stratum
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,subnatid1,
ren state state_50
g state=.
 replace state=1 if state_50==10
 replace state=2 if state_50==9
replace state=3 if state_50==20
 replace state=4 if state_50==28
 replace state=6 if state_50==8
 replace state=7 if state_50==31
 replace state=8 if state_50==21
 replace state=9 if state_50==25
 replace state=10 if state_50==5
 replace state=11 if state_50==22
 replace state=12 if state_50==3
 replace state=13 if state_50==18
 replace state=14 if state_50==15
 replace state=15 if state_50==17
 replace state=16 if state_50==24
 replace state=17 if state_50==16
 replace state=18 if state_50==4
 replace state=19 if state_50==26
 replace state=21 if state_50==19
 replace state=23 if state_50==13
 replace state=24 if state_50==7
 replace state=25 if state_50==30
 replace state=26 if state_50==29
 replace state=27 if state_50==14
 replace state=28 if state_50==2
 replace state=29 if state_50==11
 replace state=30 if state_50==6
 replace state=31 if state_50==32
 replace state=32 if state_50==12
 replace state=33 if state_50==23
 replace state=34 if state_50==33
 replace state=35 if state_50==27
 gen subnatid1=state
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,subnatid2,
gen subnatid2=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,subnatid3,
 gen byte subnatid3=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,survey,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,television,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,toilet_jmp,
gen toilet_jmp=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,toilet_orig,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,unempldur_l,
 gen lstatus=.
 gen unempldur_l=.
 replace unempldur_l=. if lstatus!=2
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,unempldur_u,
 gen lstatus=.
 gen unempldur_u=.
 replace unempldur_u=. if lstatus!=2
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,union,
 gen lstatus=.
 gen union=.
 replace union=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,unitwage,
 gen unitwage=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,unitwage_2,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,urban,
 ren pline_ind_93 pline_mrp_sector
 gen urban=sector
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,veralt,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,vermast,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,wage,
 gen lstatus=.
 gen empstat=.
 gen wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,wage_2,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,washingmachine,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,water_jmp,
gen water_jmp=.
replace water_jmp=4 if S1B12_v8==2
replace water_jmp=6 if S1B12_v8==3
replace water_jmp=12 if S1B12_v8==4
replace water_jmp=12 if S1B12_v8==5
replace water_jmp=14 if S1B12_v8==6
replace water_jmp=8 if S1B12_v8==7
replace water_jmp=14 if S1B12_v8==9
replace water_jmp=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,water_orig,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfare,
 gen welfare=mpce_urp
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfaredef,
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_93 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfarenat,
 gen welfarenat=mpce_mrp
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfarenom,
 gen welfarenom=mpce_urp
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfareother,
 gen welfareother=mpce_mrp
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfareothertype,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfaretype,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,welfshprosperity,
 gen welfare=mpce_urp
 gen welfshprosperity=welfare
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,wgt,
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,whours,
 gen whours=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,year,
 gen whours=.
ind_1993_nss50-sch1.0_v01_m_v04_a_sarmd,IND,1993,NSS50-SCH1.0,v01,v04,yrmove,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,age,
 replace age=98 if age>=98 & age!=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,atschool,
 gen atschool=.
 replace atschool=0 if B4_C9==1
 replace atschool=1 if B4_C9>1 & B4_C9!=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,bicycle,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,buffalo,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,cellphone,
 gen cellphone=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,chicken,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,computer,
 gen computer=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,contract,
gen lstatus=.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen contract=0 if statusweek==41 | statusweek==51
 replace contract=1 if statusweek==31 | statusweek==71 | statusweek==72
 replace contract=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,countrycode,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,cow,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,cpi,
 ren cpi`year'_w cpi
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,cpiperiod,
 gen cpiperiod=syear
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,ed_mod_age,
 gen ed_mod_age=0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,educat4,
 gen educat7=.
 replace educat7=1 if genedulev==01
 replace educat7=2 if genedulev==5
 replace educat7=3 if genedulev==6
 replace educat7=4 if genedulev==7 | genedulev==8
 replace educat7=5 if genedulev==9
 replace educat7=7 if genedulev==10 | genedulev==11 | genedulev==12 | genedulev==13
 replace educat7=8 if genedulev==02 | genedulev==03 | genedulev==04
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,educat5,
 gen educat7=.
 replace educat7=1 if genedulev==01
 replace educat7=2 if genedulev==5
 replace educat7=3 if genedulev==6
 replace educat7=4 if genedulev==7 | genedulev==8
 replace educat7=5 if genedulev==9
 replace educat7=7 if genedulev==10 | genedulev==11 | genedulev==12 | genedulev==13
 replace educat7=8 if genedulev==02 | genedulev==03 | genedulev==04
gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,educat7,
 gen educat7=.
 replace educat7=1 if genedulev==01
 replace educat7=2 if genedulev==5
 replace educat7=3 if genedulev==6
 replace educat7=4 if genedulev==7 | genedulev==8
 replace educat7=5 if genedulev==9
 replace educat7=7 if genedulev==10 | genedulev==11 | genedulev==12 | genedulev==13
 replace educat7=8 if genedulev==02 | genedulev==03 | genedulev==04
 replace educat7=1 if everattend==0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,educy,
 replace age=98 if age>=98 & age!=.
 gen educy=.
 replace educy=0 if genedulev==01 | genedulev==02 | genedulev==03 | genedulev==04
 replace educy=1 if genedulev==05
 replace educy=5 if genedulev==06
 replace educy=8 if genedulev==07
 replace educy=10 if genedulev==8
 replace educy=12 if genedulev==9
 replace educy=16 if genedulev==10 | genedulev==11 | genedulev==12
 replace educy=15 if genedulev==13
 gen ageminus4=age-4
 replace educy=ageminus4 if (educy>ageminus4)& (educy>0) & (ageminus4>0) & (educy!=.)
 replace educy=0 if (educy>ageminus4) & (educy>0) &(ageminus4<=0) & (educy!=.)
 replace educy=0 if everattend==0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,electricity,
 gen electricity=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,empstat,
gen lstatus=.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen empstat=.
 replace empstat=1 if statusweek==31 | statusweek==41 | statusweek==51 | statusweek==71 | statusweek==72
 replace empstat=3 if statusweek==12
 replace empstat=4 if statusweek==11
 replace empstat=2 if statusweek==21 | statusweek==61 | statusweek==62
 replace empstat=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,empstat_2,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,empstat_2_year,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,everattend,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,fan,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,firmsize_l,
 *** FIRM SIZE gen firmsize_l=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,healthins,
 gen healthins=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,hsize,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,idh,"
generate idh=string(hid, ""%15.0f"")"
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,idp,"
generate idh=string(hid, ""%15.0f"")
egen str idp=concat(idh B4_C1)"
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,industry,"
 gen industry=.
 gen princind_CODE=substr(princind_ISIC,1,2)
 drop princind_ISIC
 destring princind_CODE, generate(princind_ISIC)
 replace industry=1 if princind_ISIC>=00 & princind_ISIC<=09
 replace industry=2 if princind_ISIC>=10 & princind_ISIC<=19
 replace industry=3 if princind_ISIC>=20 & princind_ISIC<=39
 replace industry=4 if princind_ISIC>=40 & princind_ISIC<=47
 replace industry=5 if princind_ISIC>=50 & princind_ISIC<=59
 replace industry=6 if princind_ISIC>=60 & princind_ISIC<=69
 replace industry=7 if princind_ISIC>=70 & princind_ISIC<=79
 replace industry=8 if princind_ISIC>=80 & princind_ISIC<=89
 replace industry=9 if princind_ISIC==90
 replace industry=10 if princind_ISIC>=91 & princind_ISIC<=99
 replace industry=10 if industry==. & princind_ISIC!=.
 replace industry=. if lstatus==2 | lstatus==3
 gen byte industry=industry
 replace industry=. if lstatus!=1"
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,industry_2,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,industry_orig_2,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,int_month,
 gen byte int_month=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,int_year,
gen byte int_year=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,internet,
 gen internet=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,lamp,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,lb_mod_age,
 gen lb_mod_age=0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,literacy,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,lphone,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,lstatus,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,male,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,marital,
 gen marital=.
 replace marital=1 if B4_C6==2
 replace marital=2 if B4_C6==1
 replace marital=4 if B4_C6==4
 replace marital=5 if B4_C6==3
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,motorcar,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,motorcycle,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,njobs,
 gen njobs=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,nlfreason,
 gen nlfreason=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,occup,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen occup=.
 replace occup=1 if (occupweek>=100 & occupweek<200) |(occupweek>=1 & occupweek<20)
 replace occup=2 if (occupweek>=200 & occupweek<300) |(occupweek>=20 & occupweek<30)
 replace occup=3 if (occupweek>=300 & occupweek<400) |(occupweek>=30 & occupweek<40)
 replace occup=4 if (occupweek>=400 & occupweek<500) |(occupweek>=40 & occupweek<50)
 replace occup=5 if (occupweek>=500 & occupweek<600) |(occupweek>=50 & occupweek<60)
 replace occup=6 if (occupweek>=600 & occupweek<700) |(occupweek>=60 & occupweek<70)
 replace occup=7 if (occupweek>=700 & occupweek<800) |(occupweek>=70 & occupweek<80)
 replace occup=8 if (occupweek>=800 & occupweek<900)|(occupweek>=80 & occupweek<90)
 replace occup=9 if (occupweek>=900 & occupweek<1000) |(occupweek>=90 & occupweek<100)
 replace occup=. if lstatus!=1
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,ocusec,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen ocusec=.
 replace ocusec=1 if B7_C20==1|B7_C20==2
 replace ocusec=2 if B7_C20==3
 replace ocusec=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,ownhouse,
 gen ownhouse=.
 replace ownhouse=. if head==4
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,piped_water,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,pline_int,
 gen pline_int=246.96001
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,pline_nat,
 gen pline_nat=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,poor_int,
 gen welfare=pcexp
 gen pline_int=246.96001
 gen poor_int=welfare<pline_int & welfare!=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,poor_nat,
 gen poor_nat=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,pop_wgt,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,psu,
 gen psu=fsu
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,radio,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,rbirth,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,rbirth_juris,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,refrigerator,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,relationcs,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,relationharm,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,rprevious,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,rprevious_juris,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,sar_improved_toilet,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,sar_improved_water,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,sewage_toilet,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,sewingmachine,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,soc,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,socialsec,
 gen socialsec=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,spdef,
 gen spdef=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,strata,
 gen strata=stratum
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,subnatid2,
 ren state state_50
 g state=.
 replace state=35 if state_50==27
 replace state=28 if state_50==2
 replace state=12 if state_50==3
 replace state=18 if state_50==4
 replace state=10 if state_50==5
 replace state=4 if state_50==28
 replace state=22 if state_50==35
 replace state=26 if state_50==29
 replace state=25 if state_50==30
 replace state=7 if state_50==31
 replace state=30 if state_50==6
 replace state=24 if state_50==7
 replace state=6 if state_50==8
 replace state=2 if state_50==9
 replace state=1 if state_50==10
 replace state=20 if state_50==34
 replace state=29 if state_50==11
 replace state=32 if state_50==12
 replace state=31 if state_50==32
 replace state=23 if state_50==13
 replace state=27 if state_50==14
 replace state=14 if state_50==15
 replace state=17 if state_50==16
 replace state=15 if state_50==17
 replace state=13 if state_50==18
 replace state=21 if state_50==19
 replace state=34 if state_50==33
 replace state=3 if state_50==20
 replace state=8 if state_50==21
 replace state=11 if state_50==22
 replace state=33 if state_50==23
 replace state=16 if state_50==24
 replace state=9 if state_50==25
 replace state=5 if state_50==36
 replace state=19 if state_50==26
 gen subnatid2=state
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,subnatid3,
 gen byte subnatid3=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,survey,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,television,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,toilet_jmp,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,toilet_orig,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,unempldur_l,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen unempldur_l=.
 replace unempldur_l=0 if B6_C8<=3
 replace unempldur_l=1 if B6_C8==4
 replace unempldur_l=2 if B6_C8==5
 replace unempldur_l=3 if B6_C8==6
 replace unempldur_l=6 if B6_C8==7
 replace unempldur_l=12 if B6_C8==8
 replace unempldur_l=. if B6_C8==.
 replace unempldur_l=. if lstatus!=2
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,unempldur_u,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen unempldur_u=.
 replace unempldur_u=1 if B6_C8<=3
 replace unempldur_u=2 if B6_C8==4
 replace unempldur_u=3 if B6_C8==5
 replace unempldur_u=6 if B6_C8==6
 replace unempldur_u=12 if B6_C8==7
 replace unempldur_u=. if B6_C8==8 |B6_C8==.
 replace unempldur_u=. if lstatus!=2
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,union,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace union=. if lstatus==2 | lstatus==3
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,unitwage,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen unitwage=2 if lstatus==1 & empstat==1
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,unitwage_2,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,urban,
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,veralt,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,vermast,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,wage,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace days_main_week=. if statusweek==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 gen wage=wagecashrs_1
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
 replace wage=0 if empstat==2 & r(N)!=0
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,wage_2,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,washingmachine,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,water_jmp,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,water_orig,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfare,
 gen welfare=pcexp
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfaredef,
 gen welfaredef=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfarenat,
 gen welfarenat=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfarenom,
 gen welfare=pcexp
 gen welfarenom=welfare
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfareother,
 gen welfareother=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfareothertype,
 gen welfareothertype=.
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfaretype,
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,welfshprosperity,
 gen welfare=pcexp
 gen welfshprosperity=welfare
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,wgt,
 gen wgt=mult
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,whours,
 ren HOURWRKMAIN_week whours
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,year,
 gen int year=1993
 local year=2011
ind_1993_nss50-sch10_v01_m_v01_a_sarmd,IND,1993,NSS50-SCH10,v01,v01,yrmove,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,age,
 replace age=98 if age>=98
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,atschool,
 gen atschool=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,bicycle,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,buffalo,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,cellphone,
 gen cellphone=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,chicken,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,computer,
 gen computer=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,contract,
 gen contract=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,countrycode,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,cow,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,cpi,
 ren cpi`year'_w cpi
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,cpiperiod,
 gen cpiperiod=syear
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,ed_mod_age,
 gen ed_mod_age=0
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,educat4,
 gen educat7=.
 replace educat7=1 if educatio==1
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5|educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 replace educat7=8 if educatio==2
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,educat5,
 gen educat7=.
 replace educat7=1 if educatio==1
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5|educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 replace educat7=8 if educatio==2
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,educat7,
 gen educat7=.
 replace educat7=1 if educatio==1
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5|educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 replace educat7=8 if educatio==2
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,educy,
 gen educy=educatio
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,electricity,
 gen electricity=lighting==5
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,empstat,
 gen empstat=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,empstat_2,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,empstat_2_year,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,everattend,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,fan,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,firmsize_l,
 gen firmsize_l=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,healthins,
 gen healthins=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,hsize,
 ren hhsize hsize
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,idh,
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 gen idh =hhid
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,idp,
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen idp =concat(hhid personno)
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,industry,
 gen industry=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,industry_2,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,industry_orig_2,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,int_month,
 gen byte int_month=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,int_year,
 gen byte int_year=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,internet,
 gen internet=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,lamp,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,lb_mod_age,
 gen lb_mod_age=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,literacy,
 gen literacy=educatio
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,lphone,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,lstatus,
 replace age=98 if age>=98
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,male,
 gen male= sex
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,marital,
 gen marital=marstat
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,motorcar,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,motorcycle,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,njobs,
 gen njobs=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,nlfreason,
 gen nlfreason=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,occup,
 replace age=98 if age>=98
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,ocusec,
 replace age=98 if age>=98
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,ownhouse,
 gen ownhouse=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,piped_water,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,pline_nat,
 ren pline_ind_04 pline_mrp_sector
 ren pline pline_nat
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,poor_int,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,poor_nat,
 ren pline_ind_04 pline_mrp_sector
 ren hhsize hsize
 gen welfareother=mpce365/(hsize*100)
 ren pline pline_nat
 gen poor_nat=welfareother<pline_nat & welfareother!=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,pop_wgt,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,psu,
 gen psu=fsu
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,radio,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,rbirth,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,rbirth_juris,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,refrigerator,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,relationcs,
 gen byte relationcs=relation
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,relationharm,
 gen relationharm= relation
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,rprevious,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,rprevious_juris,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,sar_improved_toilet,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,sar_improved_water,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,sewage_toilet,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,sewingmachine,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,soc,
 gen soc=religion
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,socialsec,
 gen socialsec=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,spdef,
 ren pline_ind_04 pline_mrp_sector
 gen spdef=pline
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,strata,
 gen strata=stratum
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,subnatid2,"
 gen state=substr(stat_reg,1,length(stat_reg)-1)
 gen subnatid2=state"
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,subnatid3,
 gen byte subnatid3=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,survey,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,television,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,toilet_jmp,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,toilet_orig,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,unempldur_l,
 gen unempldur_l=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,unempldur_u,
 gen unempldur_u=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,union,
 gen union=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,unitwage,
 gen unitwage=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,unitwage_2,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,urban,
 ren pline_ind_04 pline_mrp_sector
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,veralt,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,vermast,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,wage,
 gen wage=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,wage_2,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,washingmachine,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,water_jmp,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,water_orig,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfare,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfaredef,"
 gen pline_urp_sector=.
 replace pline_urp_sector=425.1 if sector==1
 replace pline_urp_sector=641.4 if sector==2
 gen pline_urp=r(mean)
 destring a16, gen(mpce_urp_100)
 gen mpce_urp=mpce_urp_100/(100*hhsize)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline_urp_sector)
 ren pline_ind_04 pline_mrp_sector
 gen welfaredef=mpce_urp_real"
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfarenat,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfarenom,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfarenom=welfare
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfareother,
 ren hhsize hsize
 gen welfareother=mpce365/(hsize*100)
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfareothertype,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfaretype,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,welfshprosperity,
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,wgt,
 gen wgt=weight
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,whours,
 gen whours=.
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,year,
 gen year=2004
 local year=2011
ind_2004_nss_sch1_v01_m_v01_a_sarmd,IND,2004,NSS,sch1,m,yrmove,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,age,
 replace age=. if age>200
 drop head_age h_age spouse spouses
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,atschool,
 gen atschool=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,bicycle,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,buffalo,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,cellphone,
 gen cellphone=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,chicken,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,computer,
 gen computer=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,contract,
 gen contract=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,countrycode,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,cow,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,cpi,
 ren cpi`year'_w cpi
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,cpiperiod,
 gen cpiperiod=syear
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,ed_mod_age,
 gen ed_mod_age=0
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,educat4,
 gen educat7=.
 replace educat7=1 if educatio==1
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5|educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 replace educat7=8 if educatio==2
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,educat5,
 gen educat7=.
 replace educat7=1 if educatio==1
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5|educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 replace educat7=8 if educatio==2
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,educat7,
 gen educat7=.
 replace educat7=1 if educatio==1
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5|educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 replace educat7=8 if educatio==2
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,educy,
 gen educy=educatio
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,electricity,
 gen electricity=lighting==5
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,empstat,
 gen empstat=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,empstat_2,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,empstat_2_year,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,everattend,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,fan,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,firmsize_l,
 gen firmsize_l=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,healthins,
 gen healthins=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,hsize,
 ren hhsize hsize
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,idh,
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 gen idh =hhid
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,idp,
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen idp =concat(hhid personno)
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,industry,
 gen industry=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,industry_2,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,industry_orig_2,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,int_month,
 gen byte int_month=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,int_year,
 gen byte int_year=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,internet,
 gen internet=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,lamp,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,lb_mod_age,
 gen lb_mod_age=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,literacy,
 gen literacy=educatio
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,lphone,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,lstatus,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,male,
 gen male= sex
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,marital,
gen marital=marstat
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,motorcar,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,motorcycle,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,njobs,
 gen njobs=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,nlfreason,
 gen nlfreason=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,occup,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,ocusec,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,ownhouse,
 gen ownhouse=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,piped_water,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,pline_nat,
 ren pline_ind_04 pline_mrp_sector
 ren pline pline_nat
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,poor_int,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,poor_nat,
 ren pline_ind_04 pline_mrp_sector
 ren hhsize hsize
 gen welfarenat=mpce365/(hsize*100)
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfarenat!=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,pop_wgt,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,psu,
 gen psu=fsu
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,radio,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,rbirth,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,rbirth_juris,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,refrigerator,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,relationcs,
 gen byte relationcs=relation
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,relationharm,
 gen relationharm= relation
 replace age=. if age>200
 gen head_age=age if relationharm==1
 bys idh: egen h_age=max(head_age)
 gen spouse=1 if relationharm==2
 bys idh: egen spouses=total(spouse)
 replace relationharm=6 if relationharm==2 & spouses>1 & spouses!=. & age>h_age+20
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,rprevious,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,rprevious_juris,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,sar_improved_toilet,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,sar_improved_water,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,sewage_toilet,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,sewingmachine,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,soc,
 gen soc=religion
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,socialsec,
 gen socialsec=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,spdef,
 ren pline_ind_04 pline_mrp_sector
 gen spdef=pline
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,strata,
 gen strata=stratum
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,subnatid2,"
 gen state=substr(stat_reg,1,length(stat_reg)-1)
 gen subnatid2=state"
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,subnatid3,
 gen byte subnatid3=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,survey,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,television,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,toilet_jmp,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,toilet_orig,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,unempldur_l,
 gen unempldur_l=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,unempldur_u,
 gen unempldur_u=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,union,
 gen union=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,unitwage,
 gen unitwage=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,unitwage_2,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,urban,
 ren pline_ind_04 pline_mrp_sector
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,veralt,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,vermast,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,wage,
 gen wage=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,wage_2,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,washingmachine,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,water_jmp,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,water_orig,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfare,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfaredef,"
 gen pline_urp=r(mean)
 destring a16, gen(mpce_urp_100)
 gen mpce_urp=mpce_urp_100/(100*hhsize)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_04 pline_mrp_sector
 gen welfaredef=mpce_urp_real"
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfarenat,
 ren hhsize hsize
 gen welfarenat=mpce365/(hsize*100)
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfarenom,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfarenom=welfare
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfareother,
 ren hhsize hsize
 gen welfareother=mpce365/(hsize*100)
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfareothertype,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfaretype,
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,welfshprosperity,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfshprosperity=welfare
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,wgt,
 gen wgt=weight
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,whours,
 gen whours=.
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,year,
 gen int year=2004
 local year=2011
ind_2004_nss-sch1_v01_m_v02_a_sarmd,IND,2004,NSS-SCH1,v01,v02,yrmove,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,age,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,atschool,
 gen atschool=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,bicycle,
 gen bicycle=1 if possess610==1
 replace bicycle=0 if possess610==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,buffalo,
 gen buffalo=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,cellphone,
 gen cellphone=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,chicken,
 gen chicken=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,computer,
 gen computer=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,contract,
 gen contract=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,countrycode,
 gen contract=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,cow,
 gen cow=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,cpi,
 gen cow=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,cpiperiod,
 gen cow=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,ed_mod_age,
 gen ed_mod_age=0
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,educat4,
 gen educat7=.
 replace educat7=1 if educatio==1 | educatio==2
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5 | educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,educat5,
 gen educat7=.
 replace educat7=1 if educatio==1 | educatio==2
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5 | educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,educat7,
 gen educat7=.
 replace educat7=1 if educatio==1 | educatio==2
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5 | educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,educy,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen educy=educatio
 replace educy=. if educy>age & educy!=. & age!=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,electricity,
 gen electricity=lighting
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,empstat,
 gen empstat=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,empstat_2,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,empstat_2_year,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,everattend,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,fan,
 gen fan=1 if possess590==1
 replace fan=0 if possess590==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,firmsize_l,
 gen firmsize_l=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,healthins,
gen healthins=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,hsize,
 ren hhsize hsize
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,idh,"
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 reshape wide possess, i(hhid) j(item_cod)
 gen idh =hhid"
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,idp,"
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 reshape wide possess, i(hhid) j(item_cod)
 egen idp =concat(hhid personno), punct(-) "
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,industry,
 gen industry=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,industry_2,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,industry_orig_2,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,int_month,"
 gen year1=substr( date_srv, 4,2 ) if strlen( date_srv )==5
 replace year1=substr( date_srv, 5,2 ) if strlen( date_srv )==6
 replace year1=2004 if year1==4
 replace year1=2005 if year1==5
 ren year1 int_year
 gen month1=substr( date_srv, 2,2 ) if strlen( date_srv )==5
 replace month1=substr( date_srv, 3,2 ) if strlen( date_srv )==6
 gen byte int_month=month1
 replace int_month=. if int_month>=7 & int_year==2005"
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,int_year,"
 gen year1=substr( date_srv, 4,2 ) if strlen( date_srv )==5
 replace year1=substr( date_srv, 5,2 ) if strlen( date_srv )==6
 replace year1=2004 if year1==4
 replace year1=2005 if year1==5
 ren year1 int_year
 gen month1=substr( date_srv, 2,2 ) if strlen( date_srv )==5
 replace month1=substr( date_srv, 3,2 ) if strlen( date_srv )==6
 gen byte int_month=month1
 replace int_month=. if int_month>=7 & int_year==2005
replace int_year=. if int_month>=7 & int_year==2005"
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,internet,
 gen internet=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,lamp,
 gen lamp=1 if possess593==1
 replace lamp=0 if possess593==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,lb_mod_age,
 gen lb_mod_age=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,literacy,
 gen literacy=educatio
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,lphone,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,lstatus,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,male,
 gen male= sex
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,marital,
gen marital=marstat
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,motorcar,
 gen motorcar=1 if possess612==1
 replace motorcar=0 if possess612==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,motorcycle,
 gen motorcycle=1 if possess611==1
 replace motorcycle=0 if possess611==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,njobs,
 gen njobs=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,nlfreason,
 gen nlfreason=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,occup,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
drop occup2 occup3
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,ocusec,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,ownhouse,"
 gen ownhouse=1 if dwelling==1
 replace ownhouse=0 if !inlist(dwelling, 1, .)"
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,piped_water,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,pline_int,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,pline_nat,
 ren pline_ind_04 pline_mrp_sector
 ren pline pline_nat
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,poor_int,
 ren pline_ind_04 pline_mrp_sector
 ren pline pline_nat
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,poor_nat,
 ren pline_ind_04 pline_mrp_sector
 ren hhsize hsize
 gen welfarenat=mpce365/(hsize*100)
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfarenat!=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,pop_wgt,
 gen wgt=weight
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,psu,
 gen psu=fsu
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,radio,
 gen radio=1 if possess561==1
 replace radio=0 if possess561==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,rbirth,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,rbirth_juris,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,refrigerator,
 gen refrigerator=1 if possess598==1
 replace refrigerator=0 if possess598==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,relationcs,
 gen byte relationcs=relation
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,relationharm,
 gen relationharm= relation
 replace age=. if age>200
 gen head_age=age if relationharm==1
 bys idh: egen h_age=max(head_age)
 gen spouse=1 if relationharm==2
 bys idh: egen spouses=total(spouse)
 replace relationharm=6 if relationharm==2 & spouses>1 & spouses!=. & age>h_age+20
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,rprevious,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,rprevious_juris,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,sar_improved_toilet,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,sar_improved_water,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,sewage_toilet,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,sewingmachine,
 gen sewingmachine=1 if possess594==1
 replace sewingmachine=0 if possess594==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,soc,
 gen soc=religion
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,socialsec,
gen socialsec=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,spdef,
 ren pline_ind_04 pline_mrp_sector
 gen spdef=pline
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,strata,
 gen strata=stratum
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,subnatid1,
 gen subnatid1=state
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,subnatid2,
 gen subnatid2=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,subnatid3,
 gen byte subnatid3=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,survey,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,television,
 gen television=1 if possess562==1
 replace television=0 if possess562==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,toilet_jmp,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,toilet_orig,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,unempldur_l,
 gen unempldur_l=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,unempldur_u,
 gen unempldur_u=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,union,
gen union=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,unitwage,
 gen unitwage=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,unitwage_2,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,urban,
 ren pline_ind_04 pline_mrp_sector
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,veralt,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,vermast,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,wage,
 gen wage=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,wage_2,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,washingmachine,
 gen washingmachine=1 if possess595==1
 replace washingmachine=0 if possess595==2
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,water_jmp,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,water_orig,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfare,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfaredef,"
 gen pline_urp=r(mean)
 destring a16, gen(mpce_urp_100)
 gen mpce_urp=mpce_urp_100/(100*hhsize)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_04 pline_mrp_sector
 gen welfaredef=mpce_urp_real"
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfarenat,
 ren hhsize hsize
 gen welfarenat=mpce365/(hsize*100)
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfarenom,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfarenom=welfare
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfareother,
 ren hhsize hsize
 gen welfareother=mpce365/(hsize*100)
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfareothertype,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfaretype,
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,welfshprosperity,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfshprosperity=welfare
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,wgt,
 gen wgt=weight
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,whours,
 gen whours=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,year,
 gen whours=.
ind_2004_nss61-sch1.0_v01_m_v03_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v03,yrmove,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,age,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,atschool,
 gen atschool=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,bicycle,
 gen bicycle=1 if possess610==1
 replace bicycle=0 if possess610==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,buffalo,
 gen buffalo=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,cellphone,
 gen cellphone=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,chicken,
 gen chicken=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,computer,
 gen computer=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,contract,
 gen contract=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,countrycode,
 gen contract=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,cow,
 gen cow=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,cpi,
 gen cow=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,cpiperiod,
 gen cow=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,ed_mod_age,
 gen ed_mod_age=0
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,educat4,
 gen educat7=.
 replace educat7=1 if educatio==1 | educatio==2
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5 | educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,educat5,
 gen educat7=.
 replace educat7=1 if educatio==1 | educatio==2
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5 | educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,educat7,
 gen educat7=.
 replace educat7=1 if educatio==1 | educatio==2
 replace educat7=2 if educatio==3
 replace educat7=3 if educatio==4
 replace educat7=4 if educatio==5 | educatio==6
 replace educat7=5 if educatio==7
 replace educat7=6 if educatio==8
 replace educat7=7 if educatio>8 & educatio!=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,educy,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen educy=educatio
 replace educy=. if educy>age & educy!=. & age!=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,electricity,
 gen electricity=lighting
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,empstat,
 gen empstat=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,empstat_2,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,empstat_2_year,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,everattend,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,fan,
 gen fan=1 if possess590==1
 replace fan=0 if possess590==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,firmsize_l,
 gen firmsize_l=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,healthins,
gen healthins=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,hsize,
 ren hhsize hsize
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,idh,"
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 reshape wide possess, i(hhid) j(item_cod)
 gen idh =hhid"
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,idp,"
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 egen hhid = concat(fsu hamlet secstage z)
 reshape wide possess, i(hhid) j(item_cod)
 egen idp =concat(hhid personno), punct(-) "
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,industry,
 gen industry=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,industry_2,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,industry_orig_2,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,int_month,"
 gen year1=substr( date_srv, 4,2 ) if strlen( date_srv )==5
 replace year1=substr( date_srv, 5,2 ) if strlen( date_srv )==6
 replace year1=2004 if year1==4
 replace year1=2005 if year1==5
 ren year1 int_year
 gen month1=substr( date_srv, 2,2 ) if strlen( date_srv )==5
 replace month1=substr( date_srv, 3,2 ) if strlen( date_srv )==6
 gen byte int_month=month1
 replace int_month=. if int_month>=7 & int_year==2005"
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,int_year,"
 gen year1=substr( date_srv, 4,2 ) if strlen( date_srv )==5
 replace year1=substr( date_srv, 5,2 ) if strlen( date_srv )==6
 replace year1=2004 if year1==4
 replace year1=2005 if year1==5
 ren year1 int_year
 gen month1=substr( date_srv, 2,2 ) if strlen( date_srv )==5
 replace month1=substr( date_srv, 3,2 ) if strlen( date_srv )==6
 gen byte int_month=month1
 replace int_month=. if int_month>=7 & int_year==2005
replace int_year=. if int_month>=7 & int_year==2005"
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,internet,
 gen internet=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,lamp,
 gen lamp=1 if possess593==1
 replace lamp=0 if possess593==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,lb_mod_age,
 gen lb_mod_age=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,literacy,
 gen literacy=educatio
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,lphone,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,lstatus,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,male,
 gen male= sex
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,marital,
gen marital=marstat
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,motorcar,
 gen motorcar=1 if possess612==1
 replace motorcar=0 if possess612==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,motorcycle,
 gen motorcycle=1 if possess611==1
 replace motorcycle=0 if possess611==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,njobs,
 gen njobs=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,nlfreason,
 gen nlfreason=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,occup,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
drop occup2 occup3
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,ocusec,
 replace age=. if age>200
 drop head_age h_age spouse spouses
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,ownhouse,"
 gen ownhouse=1 if dwelling==1
 replace ownhouse=0 if !inlist(dwelling, 1, .)"
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,piped_water,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,pline_int,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,pline_nat,
 ren pline_ind_04 pline_mrp_sector
 ren pline pline_nat
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,poor_int,
 ren pline_ind_04 pline_mrp_sector
 ren pline pline_nat
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,poor_nat,
 ren pline_ind_04 pline_mrp_sector
 ren hhsize hsize
 gen welfarenat=mpce365/(hsize*100)
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfarenat!=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,pop_wgt,
 gen wgt=weight
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,psu,
 gen psu=fsu
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,radio,
 gen radio=1 if possess561==1
 replace radio=0 if possess561==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,rbirth,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,rbirth_juris,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,refrigerator,
 gen refrigerator=1 if possess598==1
 replace refrigerator=0 if possess598==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,relationcs,
 gen byte relationcs=relation
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,relationharm,
 gen relationharm= relation
 replace age=. if age>200
 gen head_age=age if relationharm==1
 bys idh: egen h_age=max(head_age)
 gen spouse=1 if relationharm==2
 bys idh: egen spouses=total(spouse)
 replace relationharm=6 if relationharm==2 & spouses>1 & spouses!=. & age>h_age+20
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,rprevious,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,rprevious_juris,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,sar_improved_toilet,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,sar_improved_water,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,sewage_toilet,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,sewingmachine,
 gen sewingmachine=1 if possess594==1
 replace sewingmachine=0 if possess594==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,soc,
 gen soc=religion
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,socialsec,
gen socialsec=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,spdef,
 ren pline_ind_04 pline_mrp_sector
 gen spdef=pline
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,strata,
 gen strata=stratum
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,subnatid1,
 gen subnatid1=state
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,subnatid2,
 gen subnatid2=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,subnatid3,
 gen byte subnatid3=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,survey,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,television,
 gen television=1 if possess562==1
 replace television=0 if possess562==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,toilet_jmp,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,toilet_orig,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,unempldur_l,
 gen unempldur_l=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,unempldur_u,
 gen unempldur_u=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,union,
gen union=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,unitwage,
 gen unitwage=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,unitwage_2,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,urban,
 ren pline_ind_04 pline_mrp_sector
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,veralt,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,vermast,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,wage,
 gen wage=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,wage_2,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,washingmachine,
 gen washingmachine=1 if possess595==1
 replace washingmachine=0 if possess595==2
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,water_jmp,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,water_orig,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfare,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfaredef,"
 gen pline_urp=r(mean)
 destring a16, gen(mpce_urp_100)
 gen mpce_urp=mpce_urp_100/(100*hhsize)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_04 pline_mrp_sector
 gen welfaredef=mpce_urp_real"
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfarenat,
 ren hhsize hsize
 gen welfarenat=mpce365/(hsize*100)
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfarenom,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfarenom=welfare
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfareother,
 ren hhsize hsize
 gen welfareother=mpce365/(hsize*100)
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfareothertype,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfaretype,
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,welfshprosperity,
 ren hhsize hsize
 gen welfare=mpce30d/(hsize*100)
 gen welfshprosperity=welfare
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,wgt,
 gen wgt=weight
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,whours,
 gen whours=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,year,
 gen whours=.
ind_2004_nss61-sch1.0_v01_m_v04_a_sarmd,IND,2004,NSS61-SCH1.0,v01,v04,yrmove,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,age,
 replace age=98 if age>=98
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,atschool,
 gen atschool=1 if currattend>=21 & currattend!=.
 replace atschool=0 if currattend<21 | currattend==.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,bicycle,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,buffalo,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,cellphone,
 gen cellphone=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,chicken,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,computer,
 gen computer=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,contract,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen contract=typejobcontract
 replace contract=. if lstatus!=1
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,countrycode,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,cow,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,cpi,
 ren cpi`year'_w cpi
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,cpiperiod,
 gen cpiperiod=syear
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,ed_mod_age,
 gen ed_mod_age=0
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,educat5,
gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,educat7,
 replace educat7=1 if everattend==0
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,educy,
 replace age=98 if age>=98
 gen educy=.
 replace educy=0 if genedulev==01 | genedulev==02 | genedulev==03 | genedulev==04
 replace educy=1 if genedulev==05
 replace educy=5 if genedulev==06
 replace educy=8 if genedulev==07
 replace educy=10 if genedulev==8
 replace educy=12 if genedulev==9
 replace educy=16 if genedulev==10 | genedulev==11 | genedulev==12
 replace educy=15 if genedulev==13
 gen ageminus4=age-4
 replace educy=ageminus4 if (educy>ageminus4)& (educy>0) & (ageminus4>0) & (educy!=.)
 replace educy=0 if (educy>ageminus4) & (educy>0) &(ageminus4<=0) & (educy!=.)
 replace educy=0 if everattend==0
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,electricity,
 gen electricity=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,empstat,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen empstat=.
 replace empstat=1 if statusualprincact==31 | statusualprincact==41 | statusualprincact==51
 replace empstat=3 if statusualprincact==12
 replace empstat=4 if statusualprincact==11
 replace empstat=2 if statusualprincact==21
 replace empstat=. if lstatus!=1 | age<lb_mod_age
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,empstat_2,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,empstat_2_year,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,everattend,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,fan,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,firmsize_l,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen firmsize_l=.
 replace firmsize_l=1 if noworkersenterprise==1
 replace firmsize_l=6 if noworkersenterprise==2
 replace firmsize_l=10 if noworkersenterprise==3
 replace firmsize_l=20 if noworkersenterprise==4
 replace firmsize_l=. if noworkersenterprise==9
 replace firmsize_l=. if lstatus!=1
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,healthins,
 gen healthins=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,hsize,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,idh,"
generate idh=string(hid, ""%15.0f"")"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,idp,"
 tostring pid, gen(idp) format(%11.0f)"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,industry,"
 gen industry=.
 gen princind_CODE=substr(princind_ISIC,1,2)
 drop princind_ISIC
 destring princind_CODE, generate(princind_ISIC)
 replace industry=1 if princind_ISIC==01 |princind_ISIC==02 |princind_ISIC==05
 replace industry=2 if princind_ISIC>=10 & princind_ISIC<=14
 replace industry=3 if princind_ISIC>=15 & princind_ISIC<=37
 replace industry=4 if princind_ISIC>=40 | princind_ISIC==41
 replace industry=5 if princind_ISIC==45
 replace industry=6 if princind_ISIC>=50 | princind_ISIC==51| princind_ISIC==52| princind_ISIC==55
 replace industry=7 if princind_ISIC>=60 & princind_ISIC<=64
 replace industry=8 if princind_ISIC>=65 & princind_ISIC<=67
 replace industry=8 if princind_ISIC>=70 & princind_ISIC<=74
 replace industry=9 if princind_ISIC==75
 replace industry=10 if princind_ISIC==80 | princind_ISIC==85| princind_ISIC==91| princind_ISIC==92| princind_ISIC==93|princind_ISIC==95| princind_ISIC==99
 replace industry=10 if industry==. & princind_ISIC!=.
 replace industry=. if lstatus!=1"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,industry_2,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,industry_orig_2,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,int_month,
 gen byte int_month=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,int_year,
gen byte int_year=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,internet,
 gen internet=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,lamp,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,lb_mod_age,
 gen lb_mod_age=5
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,literacy,
 gen literacy=1
 replace literacy=0 if genedulev==1
 replace literacy=. if genedulev==0 | genedulev==.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,lphone,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,lstatus,
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,male,
 gen male= sex
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,marital,
 gen marital=.
 replace marital=. if maritalstatus==0
 replace marital=1 if maritalstatus==2
 replace marital=4 if maritalstatus==4
 replace marital=5 if maritalstatus==3
 replace marital=2 if maritalstatus==1
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,motorcar,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,motorcycle,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,njobs,
 gen njobs=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,nlfreason,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen nlfreason=.
 replace nlfreason=1 if statusualprincact==91
 replace nlfreason=2 if statusualprincact==92|statusualprincact==93
 replace nlfreason=3 if statusualprincact==94
 replace nlfreason=4 if statusualprincact==95
 replace nlfreason=5 if statusualprincact==97
 replace nlfreason=. if lstatus~=3
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,occup,"
 gen princocc_CODE2=substr(princocc_NCO,1,2)
 gen princocc_CODE3= princocc_NCO
 gen occup=.
 replace occup=2 if princocc_CODE3==""000"" | princocc_CODE3==""001"" | princocc_CODE3==""002"" | princocc_CODE3==""003""
 replace occup=2 if princocc_CODE3==""004"" | princocc_CODE3==""006"" | princocc_CODE3==""008""
 replace occup=2 if princocc_CODE3==""020"" | princocc_CODE3==""021"" | princocc_CODE3==""022"" | princocc_CODE3==""023""
 replace occup=2 if princocc_CODE3==""024"" | princocc_CODE3==""025"" | princocc_CODE3==""026"" | princocc_CODE3==""027""
 replace occup=2 if princocc_CODE3==""050"" | princocc_CODE3==""051"" | princocc_CODE3==""052"" | princocc_CODE3==""053""
 replace occup=2 if princocc_CODE3==""054"" | princocc_CODE3==""057""
 replace occup=2 if princocc_CODE3==""070"" | princocc_CODE3==""071"" | princocc_CODE3==""072"" | princocc_CODE3==""073""
 replace occup=2 if princocc_CODE3==""074"" | princocc_CODE3==""075"" | princocc_CODE3==""076"" | princocc_CODE3==""084""
 replace occup=2 if princocc_CODE3==""085"" | princocc_CODE3==""147""
 replace occup=2 if princocc_CODE3==""140"" | princocc_CODE3==""141"" | princocc_CODE3==""149"" | princocc_CODE3==""180""
 replace occup=2 if princocc_CODE3==""181"" | princocc_CODE3==""182"" | princocc_CODE3==""183"" | princocc_CODE3==""185""
 replace occup=2 if princocc_CODE3==""186"" | princocc_CODE3==""187"" | princocc_CODE3==""188"" | princocc_CODE3==""189""
 replace occup=2 if princocc_CODE2==""10"" | princocc_CODE2==""11"" | princocc_CODE2==""12"" | princocc_CODE2==""13""
 replace occup=2 if princocc_CODE2==""15"" | princocc_CODE2==""16"" | princocc_CODE2==""17"" | princocc_CODE2==""19""
 replace occup=3 if princocc_CODE3==""009"" | princocc_CODE3==""010"" | princocc_CODE3==""019"" | princocc_CODE3==""028""
 replace occup=3 if princocc_CODE3==""011"" | princocc_CODE3==""012"" | princocc_CODE3==""014"" | princocc_CODE3==""015""
 replace occup=3 if princocc_CODE3==""017"" | princocc_CODE3==""018""
 replace occup=3 if princocc_CODE3==""029"" | princocc_CODE3==""059"" | princocc_CODE3==""077"" | princocc_CODE3==""078""
 replace occup=3 if princocc_CODE3==""079"" | princocc_CODE3==""080"" | princocc_CODE3==""081"" | princocc_CODE3==""082""
 replace occup=3 if princocc_CODE3==""083"" | princocc_CODE3==""086"" | princocc_CODE3==""087"" | princocc_CODE3==""088""
 replace occup=3 if princocc_CODE3==""089"" | princocc_CODE3==""142"" | princocc_CODE3==""184""
 replace occup=3 if princocc_CODE2==""03"" | princocc_CODE2==""04"" | princocc_CODE2==""06"" | princocc_CODE2==""09""
 replace occup=1 if princocc_CODE2==""20"" | princocc_CODE2==""21"" | princocc_CODE2==""22"" | princocc_CODE2==""23""
 replace occup=1 if princocc_CODE2==""24"" | princocc_CODE2==""25"" | princocc_CODE2==""26"" | princocc_CODE2==""29"" | princocc_CODE2==""27"" | princocc_CODE2==""28""
 replace occup=1 if princocc_CODE2==""30"" | princocc_CODE2==""31"" | princocc_CODE2==""36"" | princocc_CODE2==""60""
 replace occup=4 if princocc_CODE2==""32"" | princocc_CODE2==""33"" | princocc_CODE2==""34"" | princocc_CODE2==""35""
 replace occup=4 if princocc_CODE2==""37"" | princocc_CODE2==""38"" | princocc_CODE2==""39""
 replace occup=4 if princocc_CODE3==""302""
 replace occup=5 if princocc_CODE2==""40"" | princocc_CODE2==""41"" | princocc_CODE2==""42"" | princocc_CODE2==""43""
 replace occup=5 if princocc_CODE2==""44"" | princocc_CODE2==""45"" | princocc_CODE2==""49"" | princocc_CODE2==""50""
 replace occup=5 if princocc_CODE2==""46"" | princocc_CODE2==""47"" | princocc_CODE2==""48""
 replace occup=5 if princocc_CODE2==""51"" | princocc_CODE2==""52"" | princocc_CODE2==""53"" | princocc_CODE2==""54""
 replace occup=5 if princocc_CODE2==""55"" | princocc_CODE2==""56"" | princocc_CODE2==""57"" | princocc_CODE2==""58"" | princocc_CODE2==""59""
 replace occup=6 if princocc_CODE2==""61"" | princocc_CODE2==""62"" | princocc_CODE2==""63"" | princocc_CODE2==""64""
 replace occup=6 if princocc_CODE2==""65"" | princocc_CODE2==""66"" | princocc_CODE2==""67"" | princocc_CODE2==""68"" | princocc_CODE2==""69""
 replace occup=7 if princocc_CODE2==""71"" | princocc_CODE2==""72"" | princocc_CODE2==""73"" | princocc_CODE2==""75"" | princocc_CODE2==""70""
 replace occup=7 if princocc_CODE2==""76"" | princocc_CODE2==""77"" | princocc_CODE2==""78"" | princocc_CODE2==""79""
 replace occup=7 if princocc_CODE2==""80"" | princocc_CODE2==""81"" | princocc_CODE2==""82"" | princocc_CODE2==""92""
 replace occup=7 if princocc_CODE2==""93"" | princocc_CODE2==""94"" | princocc_CODE2==""95""
 replace occup=8 if princocc_CODE2==""74"" | princocc_CODE2==""83"" | princocc_CODE2==""84"" | princocc_CODE2==""85""
 replace occup=8 if princocc_CODE2==""86"" | princocc_CODE2==""87"" | princocc_CODE2==""88"" | princocc_CODE2==""89""
 replace occup=8 if princocc_CODE2==""90"" | princocc_CODE2==""91"" | princocc_CODE2==""96"" | princocc_CODE2==""97""
 replace occup=8 if princocc_CODE2==""98""
 replace occup=8 if princocc_CODE3==""813""
 replace occup=9 if princocc_CODE2==""99""
 replace occup=99 if princocc_CODE2==""X0"" | princocc_CODE2==""X1"" | princocc_CODE2==""X9""
 replace occup=1 if princocc_CODE3==""710"" | princocc_CODE3==""720"" | princocc_CODE3==""730"" | princocc_CODE3==""740""
 replace occup=1 if princocc_CODE3==""750"" | princocc_CODE3==""760"" | princocc_CODE3==""770"" | princocc_CODE3==""780""
 replace occup=1 if princocc_CODE3==""790"" | princocc_CODE3==""800"" | princocc_CODE3==""810"" | princocc_CODE3==""820""
 replace occup=1 if princocc_CODE3==""830"" | princocc_CODE3==""840"" | princocc_CODE3==""850"" | princocc_CODE3==""860""
 replace occup=1 if princocc_CODE3==""870"" | princocc_CODE3==""880"" | princocc_CODE3==""890"" | princocc_CODE3==""900""
 replace occup=1 if princocc_CODE3==""910"" | princocc_CODE3==""920"" | princocc_CODE3==""930"" | princocc_CODE3==""940""
 replace occup=1 if princocc_CODE3==""950"" | princocc_CODE3==""960"" | princocc_CODE3==""970"" | princocc_CODE3==""980""
 drop princocc_CODE2 princocc_CODE3
 replace occup=. if lstatus!=1"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,ocusec,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=1 if enterprisetype==5 |enterprisetype==7
 replace ocusec=2 if enterprisetype>=1 & enterprisetype<=4
 replace ocusec=2 if enterprisetype==8 |enterprisetype==6
 replace ocusec=. if enterprisetype==9
 replace ocusec=. if lstatus!=1
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,ownhouse,
 gen ownhouse=.
 replace ownhouse=. if head==6
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,piped_water,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,pline_int,
 gen pline_int=423
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,pline_nat,
 gen pline_nat=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,poor_int,"
 tostring pid, gen(idp) format(%11.0f)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if relntohead>=1 & relntohead<=8
 drop one two
 bys idh: gen one=1 if relntohead==1
 gen welfare=monthhhexp/hhsize
 gen poor_int=welfare<pline_int & welfare!=."
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,poor_nat,
 gen poor_nat=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,pop_wgt,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,psu,
 gen psu=fsu
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,radio,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,rbirth,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,rbirth_juris,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,refrigerator,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,relationcs,
 gen byte relationcs=relntohead
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,relationharm,
 gen relationharm= relntohead
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,rprevious,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,rprevious_juris,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,sar_improved_toilet,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,sar_improved_water,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,sewage_toilet,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,sewingmachine,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,soc,
 gen soc=religion
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,socialsec,
 gen socialsec=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,spdef,
 gen spdef=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,strata,
 gen strata=strtm
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,subnatid1,
gen subnatid1=region
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,subnatid2,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,subnatid3,
 en byte subnatid3=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,survey,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,television,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,toilet_jmp,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,toilet_orig,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,unempldur_l,
 gen unempldur_l=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,unempldur_u,
 gen unempldur_u=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,union,"
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen union=. if memberunion==""""
 replace union=. if memberunion==""X"" | memberunion==""0""
 replace union=. if lstatus!=1"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,unitwage,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen unitwage=.
 replace unitwage=1 if modepayment_1==1|modepayment_1==16
 replace unitwage=2 if modepayment_1==2|modepayment_1==17
 replace unitwage=3 if modepayment_1==3|modepayment_1==18
 replace unitwage=5 if modepayment_1==4|modepayment_1==19
 replace unitwage=. if lstatus!=1
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,unitwage_2,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,urban,"
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,veralt,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,vermast,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,wage,
 replace age=98 if age>=98
 gen lb_mod_age=5
gen lstatus=.
 gen days_main_week=.
 replace days_main_week=totdaysactivity_1 if statusweek==status_1 & days_main_week==.
 replace days_main_week=totdaysactivity_2 if statusweek==status_2 & days_main_week==.
 replace days_main_week=totdaysactivity_3 if statusweek==status_3 & days_main_week==.
 replace days_main_week=totdaysactivity_4 if statusweek==status_4 & days_main_week==.
 replace lstatus=2 if statusweek==81
 replace lstatus=1 if days_main_week>=0.5 & (statusweek==11 | statusweek==12 | statusweek==21 | statusweek==31 | statusweek==41 | statusweek==51 )
 replace lstatus=1 if (statusweek==61 | statusweek==62 | statusweek==71 | statusweek==72)
 replace lstatus=3 if (lstatus!=1 & lstatus!=2)
 replace lstatus=. if age<lb_mod_age
 gen wage=wagecashrs_1
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
 replace wage=0 if empstat==2 & r(N)!=0
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,wage_2,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,washingmachine,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,water_jmp,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,water_orig,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfare,"
 tostring pid, gen(idp) format(%11.0f)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if relntohead>=1 & relntohead<=8
 drop one two
 bys idh: gen one=1 if relntohead==1
 gen welfare=monthhhexp/hhsize
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfaredef,
 gen welfaredef=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfarenat,
 gen welfarenat=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfarenom,"
 tostring pid, gen(idp) format(%11.0f)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if relntohead>=1 & relntohead<=8
 drop one two
 bys idh: gen one=1 if relntohead==1
 gen welfare=monthhhexp/hhsize
 gen welfarenom=welfare"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfareother,"
 gen welfareother=.
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfareothertype,
 gen welfareothertype=.
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfaretype,
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,welfshprosperity,"
 tostring pid, gen(idp) format(%11.0f)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if relntohead>=1 & relntohead<=8
 drop one two
 bys idh: gen one=1 if relntohead==1
 gen welfare=monthhhexp/hhsize
 gen welfshprosperity=welfare"
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,wgt,
 gen wgt=mult
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,whours,
 ren HOURWRKMAIN_week whours
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,year,
gen int year=2004
 local year=2011
ind_2004_nss61-sch10_v01_m_v01_a_sarmd,IND,2004,NSS61-SCH10,v01,v01,yrmove,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,age,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,atschool,
 gen atschool=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,bicycle,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,buffalo,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,cellphone,
 gen cellphone=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,chicken,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,computer,
 gen computer=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,contract,
 gen contract=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,countrycode,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,cow,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,cpi,
 ren cpi`year'_w cpi
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,cpiperiod,
 gen cpiperiod=syear
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,ed_mod_age,
 gen ed_mod_age=0
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,educat4,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7|S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 replace educat7=8 if S1B4_v07==2 |S1B4_v07==3|S1B4_v07==4
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,educat5,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7|S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 replace educat7=8 if S1B4_v07==2 |S1B4_v07==3|S1B4_v07==4
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,educat7,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7|S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 replace educat7=8 if S1B4_v07==2 |S1B4_v07==3|S1B4_v07==4
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,educy,
 replace educy=. if educy>age & educy!=. & age!=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,electricity,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,empstat,
 gen empstat=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,empstat_2,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,empstat_2_year,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,everattend,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,fan,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,firmsize_l,
 gen firmsize_l=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,healthins,
 gen healthins=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,hsize,
 bys hhid: egen h=count(S1B4_v03) if S1B4_v03!=9 & S1B4_v03!=.
 bys hhid: egen hsize=max(h)
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,idh,"
 tostring hhid, gen(idh)"
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,idp,"
 tostring hhid, gen(idh)
 egen idp=concat(idh S1B4_v01), punct(-) "
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,industry,
 gen industry=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,industry_2,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,industry_orig_2,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,int_month,
 gen byte int_month=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,int_year,
 gen byte int_year=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,internet,"
 recode S1B3_v22 (2=0), gen(internet)"
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,lamp,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,lb_mod_age,
 gen lb_mod_age=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,literacy,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,lphone,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,lstatus,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,male,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,marital,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,motorcar,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,motorcycle,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,njobs,
 gen njobs=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,nlfreason,
 gen nlfreason=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,occup,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,ocusec,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,ownhouse,
 gen ownhouse=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,piped_water,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,pline_nat,
 ren pline_ind_09 pline_mrp_sector
 ren pline pline_nat
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,poor_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,poor_nat,
 ren pline_ind_09 pline_mrp_sector
 gen welfareother=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfareother<pline_nat & welfareother!=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,pop_wgt,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,psu,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,radio,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,rbirth,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,rbirth_juris,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,refrigerator,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,relationcs,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,relationharm,
 gen relationharm= S1B4_v03
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,rprevious,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,rprevious_juris,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,sar_improved_toilet,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,sar_improved_water,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,sewage_toilet,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,sewingmachine,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,soc,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,socialsec,
 gen socialsec=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,spdef,
 ren pline_ind_09 pline_mrp_sector
 gen spdef=pline
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,strata,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,subnatid2,
 gen subnatid2=state
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,subnatid3,
 gen byte subnatid3=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,survey,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,television,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,toilet_jmp,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,toilet_orig,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,unempldur_l,
 gen unempldur_l=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,unempldur_u,
 gen unempldur_u=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,union,
 gen union=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,unitwage,
 gen unitwage=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,unitwage_2,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,urban,
 gen urban=.
 replace urban=1 if S1B1_v05==2
 replace urban=0 if S1B1_v05==1
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,veralt,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,vermast,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,wage,
 gen wage=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,wage_2,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,washingmachine,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,water_jmp,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,water_orig,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfare,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfaredef,
 gen pline_urp_sector=.
 replace pline_urp_sector=641.4 if sector==1
 replace pline_urp_sector=931.2 if sector==2
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline_urp_sector)
 ren pline_ind_09 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfarenat,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfarenom,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfareother,
 gen welfareother=mpce_mrp
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfareothertype,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfaretype,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,welfshprosperity,
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,wgt,
 gen wgt=hhwt
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,whours,
 gen whours=.
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,year,
 gen year=2009
 local year=2011
ind_2009_nss_sch1_v01_m_v01_a_sarmd,IND,2009,NSS,sch1,m,yrmove,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,age,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,atschool,
 gen atschool=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,bicycle,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,buffalo,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,cellphone,
 gen cellphone=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,chicken,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,computer,
 gen computer=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,contract,
 gen contract=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,countrycode,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,cow,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,cpi,
 ren cpi`year'_w cpi
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,cpiperiod,
 gen cpiperiod=syear
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,ed_mod_age,
 gen ed_mod_age=0
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,educat4,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7|S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 replace educat7=8 if S1B4_v07==2 |S1B4_v07==3|S1B4_v07==4
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,educat5,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7|S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 replace educat7=8 if S1B4_v07==2 |S1B4_v07==3|S1B4_v07==4
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,educat7,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7|S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 replace educat7=8 if S1B4_v07==2 |S1B4_v07==3|S1B4_v07==4
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,educy,
 replace educy=. if educy>age & educy!=. & age!=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,electricity,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,empstat,
 gen empstat=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,empstat_2,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,empstat_2_year,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,everattend,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,fan,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,firmsize_l,
 gen firmsize_l=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,healthins,
 gen healthins=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,hsize,
 bys hhid: egen h=count(S1B4_v03) if S1B4_v03!=9 & S1B4_v03!=.
 bys hhid: egen hsize=max(h)
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,idh,"
 tostring hhid, gen(idh)"
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,idp,"
 tostring hhid, gen(idh)
 egen idp=concat(idh S1B4_v01), punct(-) "
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,industry,
 gen industry=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,industry_2,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,industry_orig_2,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,int_month,
 gen byte int_month=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,int_year,
 gen byte int_year=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,internet,"
 recode S1B3_v22 (2=0), gen(internet)"
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,lamp,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,lb_mod_age,
 gen lb_mod_age=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,literacy,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,lphone,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,lstatus,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,male,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,marital,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,motorcar,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,motorcycle,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,njobs,
 gen njobs=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,nlfreason,
 gen nlfreason=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,occup,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,ocusec,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,ownhouse,
 gen ownhouse=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,piped_water,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,pline_nat,
 ren pline_ind_09 pline_mrp_sector
 ren pline pline_nat
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,poor_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,poor_nat,
 ren pline_ind_09 pline_mrp_sector
 gen welfareother=mpce_mrp
 gen welfarenat=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfareother!=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,pop_wgt,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,psu,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,radio,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,rbirth,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,rbirth_juris,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,refrigerator,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,relationcs,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,relationharm,
 gen relationharm= S1B4_v03
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,rprevious,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,rprevious_juris,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,sar_improved_toilet,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,sar_improved_water,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,sewage_toilet,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,sewingmachine,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,soc,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,socialsec,
 gen socialsec=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,spdef,
 ren pline_ind_09 pline_mrp_sector
 gen spdef=pline
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,strata,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,subnatid2,
 gen subnatid2=state
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,subnatid3,
 gen byte subnatid3=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,survey,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,television,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,toilet_jmp,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,toilet_orig,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,unempldur_l,
 gen unempldur_l=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,unempldur_u,
 gen unempldur_u=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,union,
 gen union=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,unitwage,
 gen unitwage=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,unitwage_2,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,urban,
 gen urban=.
 replace urban=1 if S1B1_v05==2
 replace urban=0 if S1B1_v05==1
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,veralt,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,vermast,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,wage,
 gen wage=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,wage_2,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,washingmachine,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,water_jmp,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,water_orig,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfare,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfaredef,
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_09 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfarenat,
 gen welfarenat=mpce_mrp
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfarenom,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfareother,
 gen welfareother=mpce_mrp
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfareothertype,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfaretype,
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,welfshprosperity,
 gen welfshprosperity=welfare
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,wgt,
 gen wgt=hhwt
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,whours,
 gen whours=.
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,year,
 gen int year=2009
 local year=2011
ind_2009_nss_sch1_v01_m_v02_a_sarmd,IND,2009,NSS,sch1,m,yrmove,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,age,
 replace age=98 if age>98 & age<.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,atschool,
 gen atschool=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,bicycle,
 gen bicycle=1 if S1B11_v03600==1
 replace bicycle=0 if S1B11_v03600==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,buffalo,
 gen buffalo=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,cellphone,
 gen cellphone=1 if S1B11_v03623==1
 replace cellphone=0 if S1B11_v03623==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,chicken,
 gen chicken=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,computer,
 gen computer=1 if S1B11_v03622==1
 replace computer=0 if S1B11_v03622==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,contract,
 gen contract=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,countrycode,
 gen contract=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,cow,
 gen cow=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,cpi,
 gen cow=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,cpiperiod,
 gen cow=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,ed_mod_age,
 gen ed_mod_age=0
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,educat4,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1 | S1B4_v07==2 |S1B4_v07==3 | S1B4_v07==4
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7 | S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,educat5,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1 | S1B4_v07==2 |S1B4_v07==3 | S1B4_v07==4
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7 | S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,educat7,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1 | S1B4_v07==2 |S1B4_v07==3 | S1B4_v07==4
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7 | S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,educy,
 replace age=98 if age>98 & age<.
 replace educy=. if educy>age & educy!=. & age!=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,electricity,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,empstat,
 gen empstat=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,empstat_2,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,empstat_2_year,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,everattend,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,fan,
 gen fan=1 if S1B11_v03580==1
 replace fan=0 if S1B11_v03580==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,firmsize_l,
 gen firmsize_l=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,healthins,
 gen healthins=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,hsize,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,idh,"
 reshape wide S1B11_v03, i(hhid) j(S1B11_v02)
 tostring hhid, gen(idh)"
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,idp,"
 reshape wide S1B11_v03, i(hhid) j(S1B11_v02)
 tostring hhid, gen(idh)
 egen idp=concat(idh S1B4_v01), punct(-) "
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,industry,"
 gen industry=.
 replace ind1= ""99"" if strpos( ind1 , ""x"")
 ren ind1 industry_e_orig"
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,industry_2,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,industry_orig_2,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,int_month,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,int_year,
 gen byte int_year=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,internet,"
 recode S1B3_v22 (2=0), gen(internet)"
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,lamp,
 gen lamp=1 if S1B11_v03582==1
 replace lamp=0 if S1B11_v03582==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,lb_mod_age,
 gen lb_mod_age=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,literacy,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,lphone,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,lstatus,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,male,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,marital,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,motorcar,
 gen motorcar=1 if S1B11_v03602==1
 replace motorcar=0 if S1B11_v03602==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,motorcycle,
 gen motorcycle=1 if S1B11_v03601==1
 replace motorcycle=0 if S1B11_v03601==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,njobs,
 gen njobs=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,nlfreason,
 gen nlfreason=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,occup,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,ocusec,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,ownhouse,"
 gen ownhouse=1 if S1B3_v18==1
 replace ownhouse=0 if !inlist(S1B3_v18, 1, .)"
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,piped_water,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,pline_int,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,pline_nat,
 ren pline_ind_09 pline_mrp_sector
 ren pline pline_nat
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,poor_int,
 ren pline_ind_09 pline_mrp_sector
 ren pline pline_nat
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,poor_nat,
 ren pline_ind_09 pline_mrp_sector
 gen welfareother=mpce_mrp
 gen welfarenat=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfareother!=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,pop_wgt,
 gen wgt=hhwt
 gen pop_wgt=wgt*hsize
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,psu,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,radio,
 gen radio=1 if S1B11_v03560==1
 replace radio=0 if S1B11_v03560==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,rbirth,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,rbirth_juris,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,refrigerator,
 gen refrigerator=1 if S1B11_v03587==1
 replace refrigerator=0 if S1B11_v03587==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,relationcs,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,relationharm,
 gen relationharm= S1B4_v03
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,rprevious,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,rprevious_juris,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,sar_improved_toilet,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,sar_improved_water,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,sewage_toilet,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,sewingmachine,
 gen sewingmachine=1 if S1B11_v03583==1
 replace sewingmachine=0 if S1B11_v03583==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,soc,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,socialsec,
 gen socialsec=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,spdef,
 ren pline_ind_09 pline_mrp_sector
 gen spdef=pline
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,strata,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,subnatid1,
 gen subnatid1=state
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,subnatid2,
 gen subnatid2=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,subnatid3,
 gen byte subnatid3=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,survey,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,television,
 gen television=1 if S1B11_v03561==1
 replace television=0 if S1B11_v03561==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,toilet_jmp,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,toilet_orig,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,unempldur_l,
 gen unempldur_l=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,unempldur_u,
 gen unempldur_u=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,union,
 gen union=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,unitwage,
 gen unitwage=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,unitwage_2,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,urban,
 gen urban=.
 replace urban=1 if S1B1_v05==2
 replace urban=0 if S1B1_v05==1
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,veralt,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,vermast,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,wage,
 gen wage=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,wage_2,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,washingmachine,
 gen washingmachine=1 if S1B11_v03584==1
 replace washingmachine=0 if S1B11_v03584==2
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,water_jmp,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,water_orig,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfare,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfaredef,
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_09 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfarenat,
 gen welfarenat=mpce_mrp
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfarenom,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfareother,
 gen welfareother=mpce_mrp
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfareothertype,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfaretype,
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,welfshprosperity,
 gen welfshprosperity=welfare
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,wgt,
 gen wgt=hhwt
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,whours,
 gen whours=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,year,
 gen whours=.
ind_2009_nss66-sch1.0-t1_v01_m_v03_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v03,yrmove,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,age,
 replace age=98 if age>98 & age<.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,atschool,
 gen atschool=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,bicycle,
 gen bicycle=1 if S1B11_v03600==1
 replace bicycle=0 if S1B11_v03600==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,buffalo,
 gen buffalo=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,cellphone,
 gen cellphone=1 if S1B11_v03623==1
 replace cellphone=0 if S1B11_v03623==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,chicken,
 gen chicken=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,computer,
 gen computer=1 if S1B11_v03622==1
 replace computer=0 if S1B11_v03622==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,contract,
 gen contract=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,countrycode,
 gen contract=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,cow,
 gen cow=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,cpi,
 gen cow=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,cpiperiod,
 gen cow=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,ed_mod_age,
 gen ed_mod_age=0
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,educat4,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1 | S1B4_v07==2 |S1B4_v07==3 | S1B4_v07==4
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7 | S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,educat5,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1 | S1B4_v07==2 |S1B4_v07==3 | S1B4_v07==4
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7 | S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,educat7,
 gen educat7=.
 replace educat7=1 if S1B4_v07==1 | S1B4_v07==2 |S1B4_v07==3 | S1B4_v07==4
 replace educat7=2 if S1B4_v07==5
 replace educat7=3 if S1B4_v07==6
 replace educat7=4 if S1B4_v07==7 | S1B4_v07==8
 replace educat7=5 if S1B4_v07==10
 replace educat7=6 if S1B4_v07==11
 replace educat7=7 if S1B4_v07>11 & S1B4_v07!=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,educy,
 replace age=98 if age>98 & age<.
 replace educy=. if educy>age & educy!=. & age!=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,electricity,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,empstat,
 gen empstat=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,empstat_2,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,empstat_2_year,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,everattend,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,fan,
 gen fan=1 if S1B11_v03580==1
 replace fan=0 if S1B11_v03580==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,firmsize_l,
 gen firmsize_l=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,healthins,
 gen healthins=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,hsize,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,idh,"
 reshape wide S1B11_v03, i(hhid) j(S1B11_v02)
 tostring hhid, gen(idh)"
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,idp,"
 reshape wide S1B11_v03, i(hhid) j(S1B11_v02)
 tostring hhid, gen(idh)
 egen idp=concat(idh S1B4_v01), punct(-) "
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,industry,"
 gen industry=.
 replace ind1= ""99"" if strpos( ind1 , ""x"")
 ren ind1 industry_e_orig"
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,industry_2,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,industry_orig_2,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,int_month,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,int_year,
 gen byte int_year=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,internet,"
 recode S1B3_v22 (2=0), gen(internet)"
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,lamp,
 gen lamp=1 if S1B11_v03582==1
 replace lamp=0 if S1B11_v03582==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,lb_mod_age,
 gen lb_mod_age=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,literacy,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,lphone,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,lstatus,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,male,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,marital,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,motorcar,
 gen motorcar=1 if S1B11_v03602==1
 replace motorcar=0 if S1B11_v03602==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,motorcycle,
 gen motorcycle=1 if S1B11_v03601==1
 replace motorcycle=0 if S1B11_v03601==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,njobs,
 gen njobs=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,nlfreason,
 gen nlfreason=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,occup,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,ocusec,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,ownhouse,"
 gen ownhouse=1 if S1B3_v18==1
 replace ownhouse=0 if !inlist(S1B3_v18, 1, .)"
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,piped_water,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,pline_int,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,pline_nat,
 ren pline_ind_09 pline_mrp_sector
 ren pline pline_nat
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,poor_int,
 ren pline_ind_09 pline_mrp_sector
 ren pline pline_nat
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,poor_nat,
 ren pline_ind_09 pline_mrp_sector
 gen welfareother=mpce_mrp
 gen welfarenat=mpce_mrp
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfareother!=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,pop_wgt,
 gen wgt=hhwt
 gen pop_wgt=wgt*hsize
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,psu,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,radio,
 gen radio=1 if S1B11_v03560==1
 replace radio=0 if S1B11_v03560==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,rbirth,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,rbirth_juris,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,refrigerator,
 gen refrigerator=1 if S1B11_v03587==1
 replace refrigerator=0 if S1B11_v03587==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,relationcs,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,relationharm,
 gen relationharm= S1B4_v03
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,rprevious,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,rprevious_juris,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,sar_improved_toilet,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,sar_improved_water,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,sewage_toilet,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,sewingmachine,
 gen sewingmachine=1 if S1B11_v03583==1
 replace sewingmachine=0 if S1B11_v03583==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,soc,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,socialsec,
 gen socialsec=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,spdef,
 ren pline_ind_09 pline_mrp_sector
 gen spdef=pline
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,strata,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,subnatid1,
 gen subnatid1=state
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,subnatid2,
 gen subnatid2=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,subnatid3,
 gen byte subnatid3=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,survey,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,television,
 gen television=1 if S1B11_v03561==1
 replace television=0 if S1B11_v03561==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,toilet_jmp,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,toilet_orig,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,unempldur_l,
 gen unempldur_l=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,unempldur_u,
 gen unempldur_u=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,union,
 gen union=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,unitwage,
 gen unitwage=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,unitwage_2,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,urban,
 gen urban=.
 replace urban=1 if S1B1_v05==2
 replace urban=0 if S1B1_v05==1
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,veralt,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,vermast,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,wage,
 gen wage=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,wage_2,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,washingmachine,
 gen washingmachine=1 if S1B11_v03584==1
 replace washingmachine=0 if S1B11_v03584==2
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,water_jmp,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,water_orig,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfare,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfaredef,
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline)
 ren pline_ind_09 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfarenat,
 gen welfarenat=mpce_mrp
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfarenom,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfareother,
 gen welfareother=mpce_mrp
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfareothertype,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfaretype,
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,welfshprosperity,
 gen welfshprosperity=welfare
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,wgt,
 gen wgt=hhwt
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,whours,
 gen whours=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,year,
 gen whours=.
ind_2009_nss66-sch1.0-t1_v01_m_v04_a_sarmd,IND,2009,NSS66-SCH1.0-T1,v01,v04,yrmove,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,age,
 replace age=98 if age>=98
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,atschool,
 gen atschool=1 if c4_9>=21 & c4_9!=.
 replace atschool=0 if c4_9<21 | c4_9==.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,bicycle,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,buffalo,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,cellphone,
 gen cellphone=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,chicken,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,computer,
 gen computer=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,contract,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen contract= c51_12
 replace contract=. if lstatus!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,countrycode,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,cow,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,cpi,
 ren cpi`year'_w cpi
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,cpiperiod,
 gen cpiperiod=syear
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,ed_mod_age,
 gen ed_mod_age=0
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,educat4,
 gen educat7=.
 replace educat7=1 if c4_7==1
 replace educat7=2 if c4_7==5
 replace educat7=3 if c4_7==6
 replace educat7=4 if c4_7==7|c4_7==8
 replace educat7=5 if c4_7==10
 replace educat7=7 if c4_7>=11 & c4_7!=.
 replace educat7=8 if c4_7==2 |c4_7==3|c4_7==4
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,educat5,
 gen educat7=.
 replace educat7=1 if c4_7==1
 replace educat7=2 if c4_7==5
 replace educat7=3 if c4_7==6
 replace educat7=4 if c4_7==7|c4_7==8
 replace educat7=5 if c4_7==10
 replace educat7=7 if c4_7>=11 & c4_7!=.
 replace educat7=8 if c4_7==2 |c4_7==3|c4_7==4
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,educat7,
 gen educat7=.
 replace educat7=1 if c4_7==1
 replace educat7=2 if c4_7==5
 replace educat7=3 if c4_7==6
 replace educat7=4 if c4_7==7|c4_7==8
 replace educat7=5 if c4_7==10
 replace educat7=7 if c4_7>=11 & c4_7!=.
 replace educat7=8 if c4_7==2 |c4_7==3|c4_7==4
 replace educat7=1 if everattend==0
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,educy,"
 recode c4_7 ( 1/4= 0) (5 = 2) (6=5) (7=8) (8 10 =10) (11=12) (12=15) (13=17), gen(educy)
 replace educy = 16 if educy==15 & c4_8==2
 replace educy=0 if everattend==0"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,electricity,
 gen electricity=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,empstat,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen empstat=.
 replace empstat=1 if c51_3==31 | c51_3==41 | c51_3==51
 replace empstat=3 if c51_3==12
 replace empstat=4 if c51_3==11
 replace empstat=2 if c51_3==21
 replace empstat=. if lstatus!=1 | age<lb_mod_age"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,empstat_2,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,empstat_2_year,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,everattend,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,fan,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,firmsize_l,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen firmsize_l=.
 replace firmsize_l=1 if c51_11==1
 replace firmsize_l=6 if c51_11==2
 replace firmsize_l=10 if c51_11==3
 replace firmsize_l=20 if c51_11==4
 replace firmsize_l=. if c51_11==9
 replace firmsize_l=. if lstatus!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,healthins,
 gen healthins=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,hsize,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,idh,
 egen idh = concat(fsu sub_block ss_stratum hhnumber)
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,idp,
 egen idh = concat(fsu sub_block ss_stratum hhnumber)
 egen idp = concat(idh person_no)
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,industry,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen sector_main = substr(c53_211, 1,2)
 (60/64=7) (65/74=8) (75=9) (80/99= 10) (nonm = 11), gen(industry)
 replace industry=10 if industry==. & sector_main!=.
 replace industry = . if lstatus!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,industry_2,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,industry_orig_2,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,int_month,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,int_year,
gen byte int_year=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,internet,
 gen internet=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,lamp,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,lb_mod_age,
 gen lb_mod_age=5
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,literacy,"
 recode c4_7 (2/13 = 1) (1= 0), gen(literacy)"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,lphone,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,lstatus,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,male,
 gen male= sex
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,marital,
 gen marital=mar_stat
 replace marital=. if mar_stat==0
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,motorcar,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,motorcycle,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,njobs,
 gen njobs=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,nlfreason,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen nlfreason=.
 replace nlfreason=1 if c51_3==91
 replace nlfreason=2 if c51_3==92|c51_3==93
 replace nlfreason=3 if c51_3==94
 replace nlfreason=4 if c51_3==95
 replace nlfreason=5 if c51_3==97
 replace nlfreason=. if lstatus~=3"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,occup,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 destring c53_221, ignore(X) gen(occ_main)
 gen occup= int(occ_main/100)
 replace occup = . if lstatus!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,ocusec,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=1 if c51_9==5 | c51_9==7
 replace ocusec=2 if c51_9>=1 & c51_9<=4
 replace ocusec=2 if c51_9==8 |c51_9==6
 replace ocusec=. if c51_9==9
 replace ocusec=. if lstatus!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,ownhouse,
 gen ownhouse=.
 replace ownhouse=. if head==6
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,piped_water,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,pline_int,
 gen pline_int=675
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,pline_nat,
 gen pline_nat=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,poor_int,
 egen idh = concat(fsu sub_block ss_stratum hhnumber)
 egen idp = concat(idh person_no)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if rel_head>=1 & rel_head<=8
 drop one two
 bys idh: gen one=1 if rel_head==1
 gen welfare=hhexp_mon/hhsize
 gen poor_int=welfare<pline_int & welfare!=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,poor_nat,
 gen poor_nat=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,pop_wgt,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,psu,
 gen psu=fsu
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,radio,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,rbirth,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,rbirth_juris,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,refrigerator,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,relationcs,
 gen byte relationcs=rel_head
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,relationharm,
 gen relationharm= rel_head
 drop if relationharm==.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,rprevious,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,rprevious_juris,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,sar_improved_toilet,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,sar_improved_water,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,sewage_toilet,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,sewingmachine,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,soc,
 gen soc=c3_5
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,socialsec,
 gen socialsec=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,spdef,
 gen spdef=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,strata,
 gen strata=stratum
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,subnatid1,"
recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,subnatid2,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,subnatid3,
 gen byte subnatid3=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,survey,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,television,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,toilet_jmp,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,toilet_orig,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,unempldur_l,
 gen unempldur_l=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,unempldur_u,
 gen unempldur_u=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,union,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen union= c72_6
 replace union=. if lstatus!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,unitwage,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen unitwage=.
 replace unitwage=1 if c53_181==1| c53_181==16
 replace unitwage=2 if c53_181==2| c53_181==17
 replace unitwage=3 if c53_181==3| c53_181==18
 replace unitwage=5 if c53_181==4| c53_181==19
 replace unitwage=. if lstatus!=1 |empstat!=1"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,unitwage_2,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,urban,
 gen urban=.
 replace urban=1 if sector==2
 replace urban=0 if sector==1
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,veralt,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,vermast,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,wage,"
 gen lstatus=.
 gen days_main_week=.
 replace days_main_week = c53_141 if c53_201 == c53_41 & days_main_week==.
 replace days_main_week = c53_142 if c53_202 == c53_42 & days_main_week==.
 replace days_main_week = c53_143 if c53_203 == c53_43 & days_main_week==.
 replace days_main_week = c53_144 if c53_204 == c53_44 & days_main_week==.
 replace lstatus=1 if days_main_week>=0.5 & inlist(c53_201, 11,12,21,31,41,42,51,61,62,71,72)
 replace lstatus=2 if c53_201==81
 replace lstatus=3 if !inlist(lstatus,1,2)
 drop days_main_week
 replace lstatus=. if age<lb_mod_age
 gen wage= c53_151
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
 replace wage=0 if empstat==2 & r(N)!=0"
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,wage_2,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,washingmachine,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,water_jmp,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,water_orig,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfare,
 egen idh = concat(fsu sub_block ss_stratum hhnumber)
 egen idp = concat(idh person_no)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if rel_head>=1 & rel_head<=8
 drop one two
 bys idh: gen one=1 if rel_head==1
 gen welfare=hhexp_mon/hhsize
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfaredef,
 gen welfaredef=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfarenat,
 gen welfarenat=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfarenom,
 egen idh = concat(fsu sub_block ss_stratum hhnumber)
 egen idp = concat(idh person_no)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if rel_head>=1 & rel_head<=8
 drop one two
 bys idh: gen one=1 if rel_head==1
 gen welfare=hhexp_mon/hhsize
 gen welfarenom=welfare
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfareother,
 gen welfareother=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfareothertype,
 gen welfareothertype=.
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfaretype,
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,welfshprosperity,
 egen idh = concat(fsu sub_block ss_stratum hhnumber)
 egen idp = concat(idh person_no)
 gen one=1
 egen two=group(idp one)
 bys idh: egen hhsize= count(two) if rel_head>=1 & rel_head<=8
 drop one two
 bys idh: gen one=1 if rel_head==1
 gen welfare=hhexp_mon/hhsize
 gen welfshprosperity=welfare
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,wgt,
 gen wgt=mlt/100 if nss==nsc
 replace wgt= mlt/200 if nss!=nsc
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,whours,
 ren HOURWRKMAIN_week whours
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,year,
 gen int year=2009
 local year=2011
ind_2009_nss66-sch10_v01_m_v01_a_sarmd,IND,2009,NSS66-SCH10,v01,v01,yrmove,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,age,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,atschool,
 gen atschool=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,bicycle,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,buffalo,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,cellphone,
 gen cellphone=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,chicken,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,computer,
 gen computer=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,contract,
 gen contract=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,countrycode,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,cow,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,cpi,
 ren cpi`year'_w cpi
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,cpiperiod,
 gen cpiperiod=syear
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,ed_mod_age,
 gen ed_mod_age=0
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,educat7,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,educy,"
 recode B4_v07 (1/4=0)(5=2)(6=5) (7=8) (8 10=10) (11=12) (12=15) (13=17), gen(educy)
 replace educy=. if educy>age & educy!=. & age!=."
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,electricity,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,empstat,
 gen empstat=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,empstat_2,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,empstat_2_year,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,everattend,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,fan,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,firmsize_l,
 gen firmsize_l=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,healthins,
 gen healthins=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,hsize,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,idh,"
 ren hhid ID
 tostring ID, gen(idh)"
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,idp,"
 ren hhid ID
 tostring ID, gen(idh)
 egen double idp =concat(idh B4_v01)"
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,industry,
 gen industry=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,industry_2,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,industry_orig_2,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,int_month,
 gen byte int_month=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,int_year,
 gen byte int_year=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,internet,
 gen internet=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,lamp,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,lb_mod_age,
 gen lb_mod_age=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,literacy,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,lphone,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,lstatus,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,male,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,marital,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,motorcar,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,motorcycle,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,njobs,
 gen njobs=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,nlfreason,
 gen nlfreason=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,occup,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,ocusec,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,ownhouse,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,piped_water,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,pline_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,poor_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,poor_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
 gen poor_nat=welfareother<pline_nat & welfareother!=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,pop_wgt,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,psu,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,radio,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,rbirth,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,rbirth_juris,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,refrigerator,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,relationcs,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,relationharm,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,rprevious,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,rprevious_juris,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,sar_improved_toilet,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,sar_improved_water,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,sewage_toilet,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,sewingmachine,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,soc,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,socialsec,
 gen socialsec=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,spdef,
 ren pline_ind_11 pline_mrp_sector
 gen spdef=pline
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,strata,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,subnatid2,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,subnatid3,
 gen byte subnatid3=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,survey,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,television,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,toilet_jmp,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,toilet_orig,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,unempldur_l,
 gen unempldur_l=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,unempldur_u,
 gen unempldur_u=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,union,
 gen union=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,unitwage,
 gen unitwage=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,unitwage_2,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,urban,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,veralt,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,vermast,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,wage,
 gen wage=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,wage_2,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,washingmachine,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,water_jmp,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,water_orig,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfare,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfaredef,
 gen pline_urp_sector=.
 replace pline_urp_sector=763.9  if sector==1
 replace pline_urp_sector=1114.0 if sector==2
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline_urp_sector)
 ren pline_ind_11 pline_mrp_sector
 gen welfaredef=mpce_urp_real
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfarenat,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfarenom,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfareother,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfareothertype,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfaretype,
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,welfshprosperity,
 gen pline_urp_sector=.
 replace pline_urp_sector=763.9  if sector==1
 replace pline_urp_sector=1114.0 if sector==2
 gen pline_urp=r(mean)
 gen mpce_urp_real=mpce_urp*(pline_urp/pline_urp_sector)
 ren pline_ind_11 pline_mrp_sector
 gen welfaredef=mpce_urp_real
 gen welfshprosperity=welfaredef
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,wgt,
 gen wgt=hhwt
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,whours,
 gen whours=.
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,year,
 gen year=2011
 local year=2011
ind_2011_nss_sch1_v01_m_v01_a_sarmd,IND,2011,NSS,sch1,m,yrmove,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,age,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,atschool,
 gen atschool=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,bicycle,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,buffalo,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,cellphone,
 gen cellphone=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,chicken,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,computer,
 gen computer=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,contract,
 gen contract=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,countrycode,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,cow,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,cpi,
 ren cpi`year'_w cpi
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,cpiperiod,
 gen cpiperiod=syear
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,ed_mod_age,
 gen ed_mod_age=0
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,educat7,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,educy,"
 recode B4_v07 (1/4=0)(5=2)(6=5) (7=8) (8 10=10) (11=12) (12=15) (13=17), gen(educy)
 replace educy=. if educy>age & educy!=. & age!=."
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,electricity,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,empstat,
 gen empstat=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,empstat_2,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,empstat_2_year,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,everattend,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,fan,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,firmsize_l,
 gen firmsize_l=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,healthins,
 gen healthins=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,hsize,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,idh,"
 ren hhid ID
 tostring ID, gen(idh)"
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,idp,"
 ren hhid ID
 tostring ID, gen(idh)
 egen double idp =concat(idh B4_v01)"
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,industry,
 gen industry=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,industry_2,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,industry_orig_2,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,int_month,
 gen byte int_month=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,int_year,
 gen byte int_year=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,internet,
 gen internet=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,lamp,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,lb_mod_age,
 gen lb_mod_age=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,literacy,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,lphone,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,lstatus,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,male,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,marital,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,motorcar,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,motorcycle,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,njobs,
 gen njobs=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,nlfreason,
 gen nlfreason=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,occup,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,ocusec,
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,ownhouse,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,piped_water,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,pline_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,poor_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,poor_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfareother!=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,pop_wgt,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,psu,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,radio,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,rbirth,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,rbirth_juris,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,refrigerator,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,relationcs,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,relationharm,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,rprevious,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,rprevious_juris,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,sar_improved_toilet,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,sar_improved_water,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,sewage_toilet,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,sewingmachine,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,soc,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,socialsec,
 gen socialsec=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,spdef,
 ren pline_ind_11 pline_mrp_sector
 gen spdef=pline
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,strata,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,subnatid1,"
 recode state (1 2 3 4 6 8 = 1) (5 7 9 10 23 = 2) (12/18 = 3) (11 19 20 21 22 35 = 4) ( 24 25 26 27 30 = 5) (28 29 31 32 33 34 = 6), gen(subnatid1)"
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,subnatid2,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,subnatid3,
 gen byte subnatid3=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,survey,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,television,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,toilet_jmp,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,toilet_orig,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,unempldur_l,
 gen unempldur_l=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,unempldur_u,
 gen unempldur_u=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,union,
 gen union=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,unitwage,
 gen unitwage=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,unitwage_2,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,urban,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,veralt,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,vermast,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,wage,
 gen wage=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,wage_2,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,washingmachine,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,water_jmp,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,water_orig,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfare,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfaredef,
 gen welfaredef=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfarenat,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfarenom,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfareother,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfareothertype,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfaretype,
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,welfshprosperity,
 gen welfshprosperity=welfare
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,wgt,
 gen wgt=hhwt
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,whours,
 gen whours=.
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,year,
 gen int year=2011
 local year=2011
ind_2011_nss-sch1_v01_m_v02_a_sarmd,IND,2011,NSS-SCH1,v01,v02,yrmove,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,age,
 replace age=98 if age>98 & age<.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,atschool,
 gen atschool=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,bicycle,
 gen bicycle=1 if B11_v03600==1
 replace bicycle=0 if B11_v03600==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,buffalo,
 gen buffalo=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,cellphone,
 gen cellphone=1 if B11_v03623==1
 replace cellphone=0 if B11_v03623==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,chicken,
 gen chicken=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,computer,
 gen computer=1 if B11_v03622==1
 replace computer=0 if B11_v03622==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,contract,
 gen contract=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,countrycode,
 gen contract=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,cow,
 gen cow=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,cpi,
 gen cow=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,cpiperiod,
 gen cow=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,ed_mod_age,
 gen ed_mod_age=0
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,educat7,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,educy,"
 replace age=98 if age>98 & age<.
 recode B4_v07 (1/4=0)(5=2)(6=5) (7=8) (8 10=10) (11=12) (12=15) (13=17), gen(educy)
 replace educy=. if educy>age & educy!=. & age!=."
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,electricity,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,empstat,
 gen empstat=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,empstat_2,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,empstat_2_year,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,everattend,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,fan,
 gen fan=1 if B11_v03580==1
 replace fan=0 if B11_v03580==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,firmsize_l,
 gen firmsize_l=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,healthins,
 gen healthins=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,hsize,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,idh,"
 reshape wide B11_v03, i(ID) j(B11_v02)
 ren hhid ID
 tostring ID, gen(idh)"
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,idp,"
 reshape wide B11_v03, i(ID) j(B11_v02)
 ren hhid ID
 tostring ID, gen(idh)
 egen double idp =concat(idh B4_v01), punct(-) "
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,industry,
 gen industry=.
 ren ind1 industry_e_orig
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,industry_2,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,industry_orig_2,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,int_month,"
 replace year1=substr( B2_v02a, 5,2 ) if strlen( B2_v02a )==6
 gen month1=substr( B2_v02a, 2,2 ) if strlen( B2_v02a )==5
 replace month1=substr( B2_v02a, 3,2 ) if strlen( B2_v02a )==6
 gen byte int_month=month1"
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,int_year,"
 gen year1=substr( B2_v02a, 4,2 ) if strlen( B2_v02a )==5
 replace year1=substr( B2_v02a, 5,2 ) if strlen( B2_v02a )==6
 replace year1=2011 if year1==11
 replace year1=2012 if year1==12
 ren year1 int_year"
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,internet,
 gen internet=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,lamp,
 gen lamp=1 if B11_v03583==1
 replace lamp=0 if B11_v03583==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,lb_mod_age,
 gen lb_mod_age=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,literacy,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,lphone,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,lstatus,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,male,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,marital,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,motorcar,
 gen motorcar=1 if B11_v03602==1
 replace motorcar=0 if B11_v03602==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,motorcycle,
 gen motorcycle=1 if B11_v03601==1
 replace motorcycle=0 if B11_v03601==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,njobs,
 gen njobs=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,nlfreason,
 gen nlfreason=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,occup,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
 ren ocup1 occup_e_orig
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,ocusec,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,ownhouse,"
 gen ownhouse=1 if B3_v18==1
 replace ownhouse=0 if !inlist(B3_v18, 1, .)"
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,piped_water,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,pline_int,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,pline_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,poor_int,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,poor_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfareother!=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,pop_wgt,
 gen wgt=hhwt
 gen pop_wgt=wgt*hsize
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,psu,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,radio,
 gen radio=1 if B11_v03560==1
 replace radio=0 if B11_v03560==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,rbirth,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,rbirth_juris,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,refrigerator,
 gen refrigerator=1 if B11_v03588==1
 replace refrigerator=0 if B11_v03588==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,relationcs,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,relationharm,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,rprevious,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,rprevious_juris,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,sar_improved_toilet,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,sar_improved_water,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,sewage_toilet,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,sewingmachine,
 gen sewingmachine=1 if B11_v03584==1
 replace sewingmachine=0 if B11_v03584==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,soc,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,socialsec,
 gen socialsec=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,spdef,
 ren pline_ind_11 pline_mrp_sector
 gen spdef=pline
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,strata,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,subnatid1,
 gen subnatid1=state
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,subnatid2,
 gen subnatid2=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,subnatid3,
 gen byte subnatid3=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,survey,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,television,
 gen television=1 if B11_v03561==1
 replace television=0 if B11_v03561==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,toilet_jmp,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,toilet_orig,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,unempldur_l,
 gen unempldur_l=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,unempldur_u,
 gen unempldur_u=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,union,
 gen union=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,unitwage,
 gen unitwage=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,unitwage_2,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,urban,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,veralt,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,vermast,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,wage,
 gen wage=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,wage_2,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,washingmachine,
 gen washingmachine=1 if B11_v03585==1
 replace washingmachine=0 if B11_v03585==2
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,water_jmp,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,water_orig,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfare,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfaredef,
 gen welfaredef=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfarenat,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfarenom,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfareother,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfareothertype,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfaretype,
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,welfshprosperity,
 gen welfshprosperity=welfare
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,wgt,
 gen wgt=hhwt
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,whours,
 gen whours=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,year,
 gen whours=.
ind_2011_nss68-sch1.0-t1_v01_m_v03_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v03,yrmove,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,age,
 replace age=98 if age>98 & age<.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,atschool,
 gen atschool=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,bicycle,
 gen bicycle=1 if B11_v03600==1
 replace bicycle=0 if B11_v03600==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,buffalo,
 gen buffalo=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,cellphone,
 gen cellphone=1 if B11_v03623==1
 replace cellphone=0 if B11_v03623==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,chicken,
 gen chicken=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,computer,
 gen computer=1 if B11_v03622==1
 replace computer=0 if B11_v03622==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,contract,
 gen contract=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,countrycode,
 gen contract=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,cow,
 gen cow=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,cpi,
 gen cow=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,cpiperiod,
 gen cow=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,ed_mod_age,
 gen ed_mod_age=0
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,educat4,
 gen educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,educat5,
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,educat7,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,educy,"
 replace age=98 if age>98 & age<.
 recode B4_v07 (1/4=0)(5=2)(6=5) (7=8) (8 10=10) (11=12) (12=15) (13=17), gen(educy)
 replace educy=. if educy>age & educy!=. & age!=."
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,electricity,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,empstat,
 gen empstat=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,empstat_2,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,empstat_2_year,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,everattend,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,fan,
 gen fan=1 if B11_v03580==1
 replace fan=0 if B11_v03580==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,firmsize_l,
 gen firmsize_l=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,healthins,
 gen healthins=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,hsize,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,idh,"
 reshape wide B11_v03, i(ID) j(B11_v02)
 ren hhid ID
 tostring ID, gen(idh)"
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,idp,"
 reshape wide B11_v03, i(ID) j(B11_v02)
 ren hhid ID
 tostring ID, gen(idh)
 egen double idp =concat(idh B4_v01), punct(-) "
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,industry,
 gen industry=.
 ren ind1 industry_e_orig
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,industry_2,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,industry_orig_2,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,int_month,"
 replace year1=substr( B2_v02a, 5,2 ) if strlen( B2_v02a )==6
 gen month1=substr( B2_v02a, 2,2 ) if strlen( B2_v02a )==5
 replace month1=substr( B2_v02a, 3,2 ) if strlen( B2_v02a )==6
 gen byte int_month=month1"
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,int_year,"
 gen year1=substr( B2_v02a, 4,2 ) if strlen( B2_v02a )==5
 replace year1=substr( B2_v02a, 5,2 ) if strlen( B2_v02a )==6
 replace year1=2011 if year1==11
 replace year1=2012 if year1==12
 ren year1 int_year"
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,internet,
 gen internet=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,lamp,
 gen lamp=1 if B11_v03583==1
 replace lamp=0 if B11_v03583==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,lb_mod_age,
 gen lb_mod_age=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,literacy,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,lphone,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,lstatus,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,male,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,marital,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,motorcar,
 gen motorcar=1 if B11_v03602==1
 replace motorcar=0 if B11_v03602==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,motorcycle,
 gen motorcycle=1 if B11_v03601==1
 replace motorcycle=0 if B11_v03601==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,njobs,
 gen njobs=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,nlfreason,
 gen nlfreason=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,occup,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen occup=.
 replace occup=. if lstatus!=1
 ren ocup1 occup_e_orig
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,ocusec,
 replace age=98 if age>98 & age<.
 gen lb_mod_age=.
 gen lstatus=.
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=. if lstatus!=1
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,ownhouse,"
 gen ownhouse=1 if B3_v18==1
 replace ownhouse=0 if !inlist(B3_v18, 1, .)"
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,piped_water,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,pline_int,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,pline_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,poor_int,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,poor_nat,
 ren pline_ind_11 pline_mrp_sector
 ren pline pline_nat
 gen poor_nat=welfarenat<pline_nat & welfareother!=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,pop_wgt,
 gen wgt=hhwt
 gen pop_wgt=wgt*hsize
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,psu,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,radio,
 gen radio=1 if B11_v03560==1
 replace radio=0 if B11_v03560==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,rbirth,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,rbirth_juris,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,refrigerator,
 gen refrigerator=1 if B11_v03588==1
 replace refrigerator=0 if B11_v03588==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,relationcs,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,relationharm,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,rprevious,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,rprevious_juris,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,sar_improved_toilet,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,sar_improved_water,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,sewage_toilet,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,sewingmachine,
 gen sewingmachine=1 if B11_v03584==1
 replace sewingmachine=0 if B11_v03584==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,soc,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,socialsec,
 gen socialsec=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,spdef,
 ren pline_ind_11 pline_mrp_sector
 gen spdef=pline
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,strata,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,subnatid1,
 gen subnatid1=state
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,subnatid2,
 gen subnatid2=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,subnatid3,
 gen byte subnatid3=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,survey,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,television,
 gen television=1 if B11_v03561==1
 replace television=0 if B11_v03561==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,toilet_jmp,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,toilet_orig,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,unempldur_l,
 gen unempldur_l=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,unempldur_u,
 gen unempldur_u=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,union,
 gen union=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,unitwage,
 gen unitwage=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,unitwage_2,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,urban,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,veralt,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,vermast,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,wage,
 gen wage=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,wage_2,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,washingmachine,
 gen washingmachine=1 if B11_v03585==1
 replace washingmachine=0 if B11_v03585==2
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,water_jmp,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,water_orig,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfare,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfaredef,
 gen welfaredef=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfarenat,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfarenom,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfareother,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfareothertype,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfaretype,
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,welfshprosperity,
 gen welfshprosperity=welfare
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,wgt,
 gen wgt=hhwt
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,whours,
 gen whours=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,year,
 gen whours=.
ind_2011_nss68-sch1.0-t1_v01_m_v04_a_sarmd,IND,2011,NSS68-SCH1.0-T1,v01,v04,yrmove,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,age,
 replace age=98 if age>=98
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,atschool,
 gen atschool=.
 replace atschool=1 if B4_v09>=24 & B4_v09<=32
 replace atschool=0 if (B4_v09>=1 & B4_v09<24) | (B4_v09>=33 & B4_v09<44)
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,bicycle,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,buffalo,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,cellphone,
 gen cellphone=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,chicken,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,computer,
 gen computer=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,contract,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,countrycode,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,cow,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,cpi,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,cpiperiod,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,ed_mod_age,
 gen ed_mod_age=0
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,educat4,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,educat5,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,educat7,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,educy,
 gen educy=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,electricity,
 gen electricity=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,empstat,
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 gen empstat=.
 replace empstat=1 if B51_v03>=31 & B51_v03<=51
 replace empstat=3 if B51_v03==12
 replace empstat=4 if B51_v03==11
 replace empstat=2 if B51_v03==21
 replace empstat=. if lstatus!=1 | age<lb_mod_age
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,empstat_2,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,empstat_2_year,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,everattend,
 gen atschool=.
 replace atschool=1 if B4_v09>=24 & B4_v09<=32
 replace atschool=0 if (B4_v09>=1 & B4_v09<24) | (B4_v09>=33 & B4_v09<44)
 gen everattend=.
 replace everattend=1 if edulevel1>1 & edulevel1!=.
 replace everattend=0 if edulevel1==1
 replace everattend=1 if atschool==1
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,fan,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,firmsize_l,
 gen firmsize_l=.
 replace firmsize_l=1 if B51_v11==1
 replace firmsize_l=6 if B51_v11==2
 replace firmsize_l=10 if B51_v11==3
 replace firmsize_l=20 if B51_v11==4
 replace firmsize_l=. if B51_v11==9
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,healthins,
 gen healthins=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,hsize,
 ren hhsize hhsize_nat
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,idh,"
 tostring ID, gen(idh)"
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,idp,"
 tostring ID, gen(idh)
 egen double idp =concat(idh B4_v01)"
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,industry,"
 tostring B53_v21,gen(x1)
 replace x2=x1 if B53_v21>=10000
 gen x3=real(substr(x2,1,2))
 gen industry=x3
 replace industry = . if lstatus!=1"
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,industry_2,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,industry_orig_2,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,int_month,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,int_year,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,internet,
 gen internet=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,lamp,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,lb_mod_age,
 gen lb_mod_age=5
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,literacy,
 gen literacy=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,lphone,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,lstatus,
 replace age=98 if age>=98
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,male,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,marital,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,motorcar,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,motorcycle,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,njobs,
 gen njobs=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,nlfreason,
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 gen nlfreason=.
 replace nlfreason=1 if B51_v03==91
 replace nlfreason=2 if B51_v03==92|B51_v03==93
 replace nlfreason=3 if B51_v03==94
 replace nlfreason=4 if B51_v03==95
 replace nlfreason=5 if B51_v03==97
 replace nlfreason=. if lstatus~=3
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,occup,"
 replace age=98 if age>=98
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 destring B53_v22, ignore(x X) gen(occ_main)
 gen occup= int(occ_main/100)
 replace occup = . if lstatus!=1"
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,ocusec,
 replace age=98 if age>=98
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 gen ocusec=.
 replace ocusec=1 if B51_v09==5 | B51_v09==7
 replace ocusec=3 if B51_v09>=1 & B51_v09<=4
 replace ocusec=3 if B51_v09==8 |B51_v09==6
 replace ocusec=. if B51_v09==9
 replace ocusec=. if lstatus!=1
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,ownhouse,
 gen ownhouse=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,piped_water,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,pline_int,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,pline_nat,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,poor_int,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,poor_nat,
 gen pcc_nat=mpce_mrp_real
 gen poor_nat=1 if pcc_nat<pline_nat & pcc_nat!=.
 replace poor_nat=0 if pcc_nat>=pline_nat & pcc_nat!=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,pop_wgt,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,psu,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,radio,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,rbirth,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,rbirth_juris,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,refrigerator,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,relationcs,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,relationharm,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,rprevious,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,rprevious_juris,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,sar_improved_toilet,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,sar_improved_water,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,sewage_toilet,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,sewingmachine,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,soc,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,socialsec,
 gen socialsec=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,spdef,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,strata,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,subnatid1,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,subnatid2,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,subnatid3,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,survey,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,television,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,toilet_jmp,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,toilet_orig,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,unempldur_l,
 gen unempldur_l=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,unempldur_u,
 gen unempldur_u=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,union,
 replace age=98 if age>=98
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 gen union= B6_v15
 replace union=. if lstatus!=1
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,unitwage,
 replace age=98 if age>=98
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 gen empstat=.
 replace empstat=1 if B51_v03>=31 & B51_v03<=51
 replace empstat=3 if B51_v03==12
 replace empstat=4 if B51_v03==11
 replace empstat=2 if B51_v03==21
 replace empstat=. if lstatus!=1 | age<lb_mod_age
 gen unitwage=.
 replace unitwage=1 if B53_v18==1| B53_v18==16
 replace unitwage=2 if B53_v18==2| B53_v18==17
 replace unitwage=3 if B53_v18==3| B53_v18==18
 replace unitwage=5 if B53_v18==4| B53_v18==19
 replace unitwage=. if lstatus!=1 |empstat!=1
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,unitwage_2,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,urban,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,veralt,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,vermast,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,wage,
 replace age=98 if age>=98
 gen lb_mod_age=5
 gen lstatus=.
 replace lstatus=1 if B51_v03>=11 & B51_v03<=51
 replace lstatus=2 if B51_v03==81
 replace lstatus=3 if B51_v03>=91 & B51_v03<=97
 replace lstatus=. if age<lb_mod_age
 gen empstat=.
 replace empstat=1 if B51_v03>=31 & B51_v03<=51
 replace empstat=3 if B51_v03==12
 replace empstat=4 if B51_v03==11
 replace empstat=2 if B51_v03==21
 replace empstat=. if lstatus!=1 | age<lb_mod_age
 gen wage= B53_v15
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,wage_2,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,washingmachine,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,water_jmp,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,water_orig,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfare,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfaredef,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfarenat,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfarenom,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfareother,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfareothertype,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfaretype,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,welfshprosperity,
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,wgt,
 gen wgt=hhwt
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,whours,
 gen whours=.
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,year,
 gen year=2011
ind_2011_nss68-sch10_v01_m_v01_a_sarmd,IND,2011,NSS68-SCH10,v01,v01,yrmove,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,age,
 gen byte age= r1c5
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,atschool,
 gen byte atschool=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,bicycle,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,buffalo,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,cellphone,
 gen byte cellphone=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,chicken,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,computer,
 gen byte computer=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,contract,
 gen byte contract=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,countrycode,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,cow,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,educat4,
 gen byte age= r1c5
 gen byte educat7= r1c8
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,educat5,
 gen byte age= r1c5
 gen byte educat7= r1c8
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,educat7,
 gen byte age= r1c5
 gen byte educat7= r1c8
 replace educat7=. if age<5
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,educy,
 gen byte educy=r1c8
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,electricity,
 gen byte electricity=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,empstat,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen byte empstat=1 if r1c11==1
 replace empstat=4 if r1c12==1| r1c13==1 | r1c14==1
 replace empstat=. if lstatus!=1
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,empstat_2,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,empstat_2_year,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,everattend,
 gen byte age= r1c5
 gen byte atschool=.
 gen byte educat7= r1c8
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat4==1
 replace everattend=1 if educat4>1 | atschool==1
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,fan,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,healthins,
 gen byte healthins=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,hsize,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,idh,
 gen hhid= district*10000 + hhn
 gen hhid= district*10000 + hsno
 gen hhid= district*10000 + hhn
 rename ori_hid hhid
 gen idh=hhid
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,idp,
 gen INDID = psrn
 gen hhid= district*10000 + hhn
 gen hhid= district*10000 + hsno
 gen hhid= district*10000 + hhn
 rename ori_hid hhid
 gen INDID = r1c1
 gen idh=hhid
 egen idp=concat(idh INDID)
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,industry,"
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1"
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,industry_2,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,industry_orig_2,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,int_month,
 gen byte int_month=month
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,int_year,
 gen byte int_year=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,internet,
 gen byte internet=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,lamp,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,literacy,
 gen byte literacy=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,lphone,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,lstatus,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,male,
 gen byte male= r1c4
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,marital,
 gen byte marital=r1c9
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,motorcar,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,motorcycle,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,njobs,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,nlfreason,"
 recode r1c10 (1 2 = . ) (3=1) (4=2) (5 9 =5), gen(nlfreason)"
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,occup,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen byte occup=int(occp/1000)
 replace occup=. if lstatus!=1
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,ocusec,
 gen byte ocusec=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,ownhouse,
 gen byte ownhouse= r17q1
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,piped_water,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,pline_nat,
 gen pline_nat=1423
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,poor_nat,
 gen welfaredef=rpccons
 gen pline_nat=1423
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,pop_wgt,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,psu,
 gen psu=district*1000+psun
 *gen psu=psu
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,radio,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,rbirth,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,rbirth_juris,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,refrigerator,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,relationcs,
 gen byte relationcs=r1c3
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,relationharm,
 gen byte relationharm=r1c3
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,rprevious,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,rprevious_juris,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,sar_improved_toilet,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,sar_improved_water,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,sewage_toilet,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,sewingmachine,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,soc,
 gen byte soc=r1c6
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,socialsec,
 gen byte socialsec=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,spdef,
 gen spdef=rpccons/npccons
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,strata,
 gen strata=sector
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,subnatid1,
 gen byte subnatid1= prov
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,subnatid2,
 gen byte subnatid2=district
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,survey,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,television,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,toilet_jmp,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,toilet_orig,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,union,
 gen byte union=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,unitwage,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen double wage=wages
 replace wage=. if lstatus!=1
 gen byte unitwage=5
 replace unitwage=. if wage==.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,unitwage_2,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,urban,
 gen byte urban=sector
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,veralt,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,vermast,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,wage,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen double wage=wages
 replace wage=. if lstatus!=1
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,wage_2,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,washingmachine,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,water_jmp,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,water_orig,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfare,
 gen welfare=npccons
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfaredef,
 gen welfaredef=rpccons
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfarenat,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfarenom,
 gen welfarenom=npccons
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfareother,
 gen welfareother=pcincome
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfareothertype,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfaretype,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,welfshprosperity,
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,wgt,
 gen double wgt=weight
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,whours,
 gen whours=.
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,year,
 gen int year=2002
 local year=2011
lka_2002_hies_v01_m_v01_a_sarmd,LKA,2002,HIES,v01,v01,yrmove,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,age,
 gen byte age= r1c5
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,atschool,
 gen byte age= r1c5
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,bicycle,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,buffalo,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,cellphone,
 gen byte cellphone=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,chicken,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,computer,
 gen byte computer=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,contract,
 gen byte contract=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,countrycode,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,cow,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,educat4,
 gen byte age= r1c5
 gen byte educat7= r1c8
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,educat5,
 gen byte age= r1c5
 gen byte educat7= r1c8
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,educat7,
 gen byte age= r1c5
 gen byte educat7= r1c8
 replace educat7=. if age<5
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,educy,
 gen byte educy=r1c8
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,electricity,
 gen byte electricity=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,empstat,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen byte empstat=1 if r1c11==1
 replace empstat=4 if r1c12==1| r1c13==1 | r1c14==1
 replace empstat=. if lstatus!=1
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,empstat_2,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,empstat_2_year,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,everattend,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,fan,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,healthins,
 gen byte healthins=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,hsize,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,idh,
 gen hhid= district*10000 + hhn
 gen hhid= district*10000 + hsno
 gen hhid= district*10000 + hhn
 rename ori_hid hhid
 gen idh=hhid
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,idp,
 gen INDID = psrn
 gen hhid= district*10000 + hhn
 gen hhid= district*10000 + hsno
 gen hhid= district*10000 + hhn
 rename ori_hid hhid
 gen INDID = r1c1
 gen idh=hhid
 egen idp=concat(idh INDID)
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,industry,"
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1"
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,industry_2,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,industry_orig_2,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,int_month,
 gen byte int_month=month
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,int_year,
 gen byte int_year=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,internet,
 gen byte internet=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,lamp,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,literacy,
 gen byte literacy=.
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,lphone,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,lstatus,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,male,
 gen byte male= r1c4
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,marital,
 gen byte marital=r1c9
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,motorcar,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,motorcycle,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,njobs,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,nlfreason,"
 recode r1c10 (1 2 = . ) (3=1) (4=2) (5 9 =5), gen(nlfreason)"
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,occup,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen byte occup=int(occp/1000)
 replace occup=. if lstatus!=1
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,ocusec,
 gen byte ocusec=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,ownhouse,
 gen byte ownhouse= r17q1
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,piped_water,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,pline_nat,
 gen pline_nat=1423
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=1423
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,pop_wgt,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,psu,
 gen psu=district*1000+psun
 *gen psu=psu
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,radio,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,rbirth,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,rbirth_juris,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,refrigerator,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,relationcs,
 gen byte relationcs=r1c3
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,relationharm,
 gen byte relationharm=r1c3
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,rprevious,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,rprevious_juris,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,sar_improved_toilet,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,sar_improved_water,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,sewage_toilet,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,sewingmachine,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,soc,
 gen byte soc=r1c6
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,socialsec,
 gen byte socialsec=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,spdef,
 gen spdef=rpccons/npccons
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,strata,
 gen strata=sector
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,subnatid1,
 gen byte subnatid1= prov
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,subnatid2,
 gen byte subnatid2=district
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,survey,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,television,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,toilet_jmp,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,toilet_orig,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,union,
 gen byte union=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,unitwage,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen double wage=wages
 replace wage=. if lstatus!=1
 gen byte unitwage=5
 replace unitwage=. if wage==.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,unitwage_2,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,urban,
 gen byte urban=sector
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,veralt,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,vermast,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,wage,
 gen byte age= r1c5
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2
 replace lstatus=. if age<10
 gen double wage=wages
 replace wage=. if lstatus!=1
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,wage_2,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,washingmachine,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,water_jmp,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,water_orig,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfare,
 gen welfare=npccons
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfaredef,
 gen welfaredef=rpccons
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfarenat,
 gen welfarenat=rpccons
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfarenom,
 gen welfarenom=npccons
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfareother,
 gen welfareother=pcincome
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfareothertype,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfaretype,
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,welfshprosperity,
 gen welfare=npccons
 gen welfshprosperity=welfare
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,wgt,
 gen double wgt=weight
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,whours,
 gen whours=.
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,year,
 gen int year=2002
 local year=2011
lka_2002_hies_v01_m_v02_a_sarmd,LKA,2002,HIES,v01,v02,yrmove,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,age,
 gen byte age= r1c5
 replace age=98 if age>=98 & age<.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,atschool,
 gen atschool=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,bicycle,
 gen bicycle=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,buffalo,
 gen buffalo=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,cellphone,
 gen cellphone=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,chicken,
 gen chicken=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,computer,
 gen computer=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,countrycode,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,cow,
 gen cow=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,educat4,
 gen byte educy=r1c8
 gen byte educat7= r1c8
 replace educat7=1 if educy==0
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,educat5,
 gen byte educy=r1c8
 gen byte educat7= r1c8
 replace educat7=1 if educy==0
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,educat7,
 gen byte educy=r1c8
 gen byte educat7= r1c8
 replace educat7=1 if educy==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,educy,
 gen byte educy=r1c8
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,electricity,
 gen byte electricity=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,empstat,
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2 & r1c10<.
 gen byte empstat=1 if r1c11==1
 replace empstat=4 if (r1c12==1| r1c13==1 | r1c14==1) & empstat!=1
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,empstat_2,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
 drop if prinseco==2
 drop prinseco tag n
 drop if psrn>=41
 drop if psrn==. & psrn==.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop ind_ISIC
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,empstat_2_year,
 gen byte age= r1c5
 replace age=98 if age>=98 & age<.
gen byte lb_mod_age=10
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,everattend,
 gen byte educy=r1c8
 gen byte educat7= r1c8
 replace educat7=1 if educy==0
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=.
 replace everattend=0 if educat4==1
 replace everattend=1 if educat4>1 | atschool==1
 replace everattend=1 if atschool==1
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,fan,
 gen fan=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,hsize,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,idh,
 gen hhid= district*10000 + hhn
 gen hhid= district*10000 + hsno
 gen hhid= district*10000 + hhn
 rename ori_hid hhid
 gen idh=hhid
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,idp,
 gen INDID = psrn
 gen hhid= district*10000 + hhn
 gen hhid= district*10000 + hsno
 gen hhid= district*10000 + hhn
 rename ori_hid hhid
 gen INDID = r1c1
 gen idh=hhid
 egen idp=concat(idh INDID)
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,industry,"
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,industry_2,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
 drop if prinseco==2
 drop prinseco tag n
 drop if psrn>=41
 drop if psrn==. & psrn==.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop ind_ISIC
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,industry_orig_2,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
 drop if prinseco==2
 drop prinseco tag n
 drop if psrn>=41
 drop if psrn==. & psrn==.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop ind_ISIC
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,int_month,
 gen byte int_month=month
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,int_year,
 gen byte int_year=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,internet,
 gen byte internet=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,lamp,
 gen lamp=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,literacy,
 gen byte literacy=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,lphone,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2 & r1c10<.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,male,
 gen byte male= r1c4
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,marital,
 gen byte marital=r1c9
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,motorcar,
 gen motorcar=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,motorcycle,
 gen motorcycle=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,njobs,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,nlfreason,"
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2 & r1c10<.
 recode r1c10 (1 2 = . ) (3=1) (4=2) (5 9 =5), gen(nlfreason)
 replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,occup,
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2 & r1c10<.
 gen byte occup=int(occp/1000)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,ocusec,
 gen byte ocusec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,ownhouse,
 gen byte ownhouse= r17q1
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,piped_water,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,pline_nat,
 gen pline_nat=1423
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=1423
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,pop_wgt,
 gen double wgt=weight
 gen pop_wgt=wgt*hsize
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,psu,
 gen psu=district*1000+psun
 *gen psu=psu
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,radio,
 gen radio=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,rbirth,
 gen byte rbirth=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,refrigerator,
 gen refrigerator=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,relationcs,
 gen byte relationcs=r1c3
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,relationharm,
 gen byte relationharm=r1c3
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,rprevious,
 gen byte rprevious=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,sar_improved_toilet,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,sar_improved_water,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,sewage_toilet,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,sewingmachine,
 gen sewingmachine=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,soc,
 gen byte soc=r1c6
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,spdef,
 gen spdef=rpccons/npccons
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,strata,
 gen strata=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,subnatid1,
 gen byte subnatid1= prov
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,subnatid2,
 gen byte subnatid2=district
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,survey,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,television,
 gen television=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,toilet_jmp,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,toilet_orig,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2 & r1c10<.
 gen byte empstat=1 if r1c11==1
 replace empstat=4 if (r1c12==1| r1c13==1 | r1c14==1) & empstat!=1
 replace empstat=. if lstatus!=1
 gen double wage=wages
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=5 if wage!=.
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,unitwage_2,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
 drop if prinseco==2
 drop prinseco tag n
 drop if psrn>=41
 drop if psrn==. & psrn==.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop ind_ISIC
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,urban,
 gen byte urban=sector
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,veralt,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,vermast,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,wage,
 gen byte lstatus=.
 replace lstatus=1 if r1c10==1
 replace lstatus=2 if r1c10==2
 replace lstatus=3 if r1c10>2 & r1c10<.
 gen byte empstat=1 if r1c11==1
 replace empstat=4 if (r1c12==1| r1c13==1 | r1c14==1) & empstat!=1
 replace empstat=. if lstatus!=1
 gen double wage=wages
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,wage_2,
 replace n=n-1
 bys hhid INDID: egen njobs=max(n)
 drop if prinseco==2
 drop prinseco tag n
 drop if psrn>=41
 drop if psrn==. & psrn==.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop ind_ISIC
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,washingmachine,
 gen washingmachine=.
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,water_jmp,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,water_orig,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfare,
 gen welfare=npccons
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfaredef,
 gen welfaredef=rpccons
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfarenat,
 gen welfarenat=rpccons
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfarenom,
 gen welfarenom=npccons
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfareother,
 gen welfareother=pcincome
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfareothertype,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfaretype,
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,welfshprosperity,
 gen welfare=npccons
 gen welfshprosperity=welfare
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,wgt,
 gen double wgt=weight
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,year,
 gen int year=2002
 local year=2011
lka_2002_hies_v01_m_v03_a_sarmd,LKA,2002,HIES,v01,v03,yrmove,
 gen int yrmove=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,age,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=."
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,atschool,
 gen byte atschool=.
 replace atschool=1 if r2_school_education==1
 replace atschool=0 if r2_school_education==2 | r2_school_education==3
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,bicycle,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,buffalo,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,cellphone,
 gen byte cellphone=telephone_mobile
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,chicken,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,computer,
 gen byte computer= computers
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,contract,
 gen byte contract=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,countrycode,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,cow,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,educat4,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,educat5,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,educat7,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5"
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,educy,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=."
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,electricity,
 gen byte electricity=.
 replace electricity=1 if lite_source==2
 replace electricity=0 if lite_source==1 | lite_source>2
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,empstat,
 gen byte lstatus=main_act
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,empstat_2,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,empstat_2_year,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,everattend,
 gen byte everattend=.
 replace everattend=1 if r2_school_education==1 | r2_school_education==3
 replace everattend=0 if r2_school_education==2
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,fan,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,healthins,
 gen byte healthins=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,hsize,
 ren hhsize hsize
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,idh,
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren r2_person_serial serial_no_sec_1
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
 egen idh=concat(HID serial_no)
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,idp,
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren r2_person_serial serial_no_sec_1
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
 egen idh=concat(HID serial_no)
 egen idp=concat(idh INDID)
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,industry,"
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1"
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,industry_2,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,industry_orig_2,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,int_month,
 gen byte int_month=month
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,int_year,
 gen byte int_year=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,internet,
 gen byte internet=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,lamp,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,literacy,
 gen byte literacy=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,lphone,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,lstatus,
 gen byte lstatus=main_act
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,male,
 gen byte male=sex
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,marital,
 gen byte marital=marital_status
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,motorcar,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,motorcycle,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,njobs,
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,nlfreason,
 gen byte lstatus=main_act
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==3
 replace nlfreason=2 if main_activity==4
 replace nlfreason=5 if main_activity==5 | main_activity==6 | main_activity==9
 replace nlfreason=. if lstatus!=3
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,occup,"
 gen byte occup=.
 gen ocu_CODE=substr(ocu_ISCO,1,1)
 drop ocu_ISCO
 destring ocu_CODE, gen(ocu_ISCO)
 replace occup=ocu_ISCO
 replace occup=10 if ocu==0110
 replace occup=. if lstatus!=1"
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,ocusec,
 gen byte lstatus=main_act
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if ownership<=4
 replace ownhouse=0 if ownership>4
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,piped_water,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,pline_nat,
 gen pline_nat=2142
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,poor_int,
 ren hhsize hsize
 gen welfare=ncons/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,poor_nat,
 gen welfaredef=rpccons
 gen pline_nat=2142
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,pop_wgt,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,psu,
 *gen psu= psu
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,radio,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,rbirth,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,rbirth_juris,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,refrigerator,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,relationcs,
 gen byte relationcs=relationship
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,relationharm,
 gen byte relationharm=relationship
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,rprevious,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,rprevious_juris,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,sar_improved_toilet,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,sar_improved_water,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,sewage_toilet,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,sewingmachine,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,soc,
 gen byte soc=ethnicity
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,socialsec,
 gen byte socialsec=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,spdef,
 ren hhsize hsize
 gen spdef=rpccons/(ncons/hsize)
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,strata,
 gen strata=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,subnatid1,
 gen byte subnatid1= province
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,subnatid2,
 gen byte subnatid2=district
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,survey,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,television,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,toilet_jmp,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,toilet_orig,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,union,
 gen byte union=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,unitwage,
 gen byte unitwage=5
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,unitwage_2,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,urban,
 gen byte urban=sector
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,veralt,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,vermast,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,wage,
 gen double wage=wages_salaries // LAST MONTH
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,wage_2,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,washingmachine,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,water_jmp,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,water_orig,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfare,
 ren hhsize hsize
 gen welfare=ncons/hsize
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfaredef,
 gen welfaredef=rpccons
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfarenat,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfarenom,
 ren hhsize hsize
 gen welfarenom=ncons/hsize
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfareother,
 gen welfareother=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfareothertype,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfaretype,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,welfshprosperity,
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,wgt,
 gen double wgt=weight
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,whours,
 gen whours=.
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,year,
 gen int year=2006
 local year=2011
lka_2006_hies_v01_m_v01_a_sarmd,LKA,2006,HIES,v01,v01,yrmove,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,age,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=."
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,atschool,
 gen byte atschool=.
 replace atschool=1 if r2_school_education==1
 replace atschool=0 if r2_school_education==2 | r2_school_education==3
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,bicycle,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,buffalo,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,cellphone,
 gen byte cellphone=telephone_mobile
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,chicken,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,computer,
 gen byte computer= computers
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,contract,
 gen byte contract=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,countrycode,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,cow,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,educat4,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,educat5,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,educat7,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,educy,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=."
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,electricity,
 gen byte electricity=.
 replace electricity=1 if lite_source==2
 replace electricity=0 if lite_source==1 | lite_source>2
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,empstat,
 gen byte lstatus=main_act
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,empstat_2,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,empstat_2_year,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,everattend,
 gen byte everattend=.
 replace everattend=1 if r2_school_education==1 | r2_school_education==3
 replace everattend=0 if r2_school_education==2
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,fan,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,healthins,
 gen byte healthins=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,hsize,
 ren hhsize hsize
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,idh,
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren r2_person_serial serial_no_sec_1
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
 egen idh=concat(HID serial_no)
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,idp,
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren r2_person_serial serial_no_sec_1
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 gen double HID=district*1000000 + psu *1000 + sample_n*10 + serial_no
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
 egen idh=concat(HID serial_no)
 egen idp=concat(idh INDID)
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,industry,"
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1"
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,industry_2,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,industry_orig_2,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,int_month,
 gen byte int_month=month
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,int_year,
 gen byte int_year=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,internet,
 gen byte internet=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,lamp,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,literacy,
 gen byte literacy=.
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,lphone,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,lstatus,
 gen byte lstatus=main_act
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,male,
 gen byte male=sex
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,marital,
 gen byte marital=marital_status
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,motorcar,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,motorcycle,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,njobs,
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,nlfreason,
 gen byte lstatus=main_act
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==3
 replace nlfreason=2 if main_activity==4
 replace nlfreason=5 if main_activity==5 | main_activity==6 | main_activity==9
*</_nlfreason_> replace nlfreason=. if lstatus!=3
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,occup,"
 gen byte occup=.
 gen ocu_CODE=substr(ocu_ISCO,1,1)
 drop ocu_ISCO
 destring ocu_CODE, gen(ocu_ISCO)
 replace occup=ocu_ISCO
 replace occup=10 if ocu==0110
 replace occup=. if lstatus!=1"
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,ocusec,
 gen byte lstatus=main_act
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if ownership<=4
 replace ownhouse=0 if ownership>4
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,piped_water,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,pline_nat,
 gen pline_nat=2142
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,poor_int,
 ren hhsize hsize
 gen welfare=ncons/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=2142
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,pop_wgt,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,psu,
 *gen psu= psu
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,radio,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,rbirth,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,rbirth_juris,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,refrigerator,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,relationcs,
 gen byte relationcs=relationship
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,relationharm,
 gen byte relationharm=relationship
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,rprevious,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,rprevious_juris,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,sar_improved_toilet,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,sar_improved_water,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,sewage_toilet,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,sewingmachine,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,soc,
 gen byte soc=ethnicity
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,socialsec,
 gen byte socialsec=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,spdef,
 ren hhsize hsize
 gen spdef=rpccons/(ncons/hsize)
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,strata,
 gen strata=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,subnatid1,
 gen byte subnatid1= province
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,subnatid2,
 gen byte subnatid2=district
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,survey,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,television,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,toilet_jmp,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,toilet_orig,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,union,
 gen byte union=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,unitwage,
 gen byte unitwage=5
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,unitwage_2,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,urban,
 gen byte urban=sector
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,veralt,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,vermast,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,wage,
 gen double wage=wages_salaries // LAST MONTH
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,wage_2,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,washingmachine,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,water_jmp,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,water_orig,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfare,
 ren hhsize hsize
 gen welfare=ncons/hsize
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfaredef,
 gen welfaredef=rpccons
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfarenat,
 gen welfarenat=rpccons
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfarenom,
 ren hhsize hsize
 gen welfarenom=ncons/hsize
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfareother,
 gen welfareother=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfareothertype,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfaretype,
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,welfshprosperity,
 ren hhsize hsize
 gen welfare=ncons/hsize
 gen welfshprosperity=welfare
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,wgt,
 gen double wgt=weight
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,whours,
 gen whours=.
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,year,
 gen int year=2006
 local year=2011
lka_2006_hies_v01_m_v02_a_sarmd,LKA,2006,HIES,v01,v02,yrmove,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,age,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=98 if age>=98 & age<.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,atschool,
 gen byte atschool=.
 replace atschool=1 if r2_school_education==1
 replace atschool=0 if r2_school_education==2 | r2_school_education==3 | education==19
 replace atschool=1 if curr_education>=2 & curr_education<=5
 replace atschool=0 if curr_education==7
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,bicycle,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,buffalo,
 gen buffalo=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,cellphone,
 gen byte cellphone=telephone_mobile
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,chicken,
 ren chickens chicken
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,computer,
 rename comput computer
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,countrycode,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,cow,
 gen cow=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,educat4,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=98 if age>=98 & age<.
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 replace educy=0 if r2_school_education==2
 gen byte educat7=education
 replace educat7=1 if educy==0
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,educat5,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=98 if age>=98 & age<.
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 replace educy=0 if r2_school_education==2
 gen byte educat7=education
 replace educat7=1 if educy==0
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,educat7,
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace educy=0 if r2_school_education==2
 gen byte educat7=education
 replace educat7=1 if educy==0
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,educy,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=98 if age>=98 & age<.
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 replace educy=0 if r2_school_education==2
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,electricity,
 gen byte electricity=.
 replace electricity=1 if lite_source==2
 replace electricity=0 if lite_source==1 | lite_source>2
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,empstat,
 gen byte lstatus=main_act
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,empstat_2,"
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
 drop pri_sec tag n
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename industry ind
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,empstat_2_year,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=98 if age>=98 & age<.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,everattend,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age_date=. if age!=.
 replace age_date=. if age_date!=. & relationship!=3
 replace age=age_date if age==. & age_date!=. 
 replace age=98 if age>=98 & age<.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,fan,
 ren electric_fans fan
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,hsize,
 ren hhsize hsize
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,idh,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,idp,"
 ren r2_person_serial serial_no_sec_1
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
 tostring serial_no_sec_1, gen(INDID)
 egen idp=concat(idh INDID)"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,industry,"
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,industry_2,"
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
 drop pri_sec tag n
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename industry ind
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,industry_orig_2,"
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
 drop pri_sec tag n
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename industry ind
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,int_month,
 gen byte int_month=month
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,int_year,
 gen byte int_year=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,internet,
 gen byte internet=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,lamp,
 gen lamp=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,literacy,
 gen byte literacy=.
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,lphone,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,lstatus,
 gen byte lstatus=main_act
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,male,
 gen byte male=sex
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,marital,
 gen byte marital=marital_status
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,motorcar,
 ren motor_car_van motorcar
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,motorcycle,
 ren motor_bicycle motorcycle
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,njobs,
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,nlfreason,
 gen byte lstatus=main_act
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==3
 replace nlfreason=2 if main_activity==4
 replace nlfreason=5 if main_activity==5 | main_activity==6 | main_activity==9
 replace nlfreason=. if lstatus!=3
*</_nlfreason_> replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,occup,"
 gen byte occup=.
 gen ocu_CODE=substr(ocu_ISCO,1,1)
 drop ocu_ISCO
 destring ocu_CODE, gen(ocu_ISCO)
 replace occup=ocu_ISCO
 replace occup=10 if ocu==0110
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,ocusec,
 gen byte lstatus=main_act
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if ownership<=4
 replace ownhouse=0 if ownership>4
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,piped_water,
gen piped_water=.
replace piped_water=1 if drinking_water==5 | drinking_water==6
replace piped_water=0 if drinking_water<5 | drinking_water>6
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,pline_nat,
 gen pline_nat=pov_line
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,poor_int,
 ren hhsize hsize
 gen welfare=ncons/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=pov_line
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,pop_wgt,
 gen double wgt=weight
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,psu,
 *gen psu= psu
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,radio,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,rbirth,
 gen byte rbirth=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,refrigerator,
 ren fridge refrigerator
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,relationcs,
 gen byte relationcs=relationship
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,relationharm,
 gen byte relationharm=relationship
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,rprevious,
 gen byte rprevious=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,sar_improved_toilet,
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if toilet_type<=2
replace sar_improved_toilet=0 if toilet_type>=3
replace sar_improved_toilet=0 if tioilet_use==2
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=5 if inlist(drinking_water,1,2)
replace water_jmp=6 if inlist(drinking_water,3)
replace water_jmp=4 if inlist(drinking_water,4)
replace water_jmp=1 if inlist(drinking_water,5)
replace water_jmp=2 if inlist(drinking_water,6)
replace water_jmp=14 if inlist(drinking_water,7)
replace water_jmp=12 if inlist(drinking_water,8)
replace water_jmp=14 if inlist(drinking_water,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)
replace sar_improved_water=1 if drinking_water==7"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,sewage_toilet,
gen sewage_toilet=.
*replace sewage_toilet=1 if toilet_type<=2
*replace sewage_toilet=0 if toilet_type>=3
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,sewingmachine,
 ren sewing_mechine sewingmachine
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,soc,
 gen byte soc=ethnicity
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,spdef,
 gen spdef=cpi_shiva
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,strata,
 gen strata=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,subnatid1,
 gen byte subnatid1= province
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,subnatid2,
 gen byte subnatid2=district
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,survey,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,television,
 ren tv television
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,toilet_jmp,
gen toilet_jmp=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,toilet_orig,
gen toilet_orig=toilet_type
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,unitwage,
 gen byte lstatus=main_act
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
 gen double wage=wages_salaries // LAST MONTH
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=5 if wage!=.
 replace unitwage=. if wage==.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,unitwage_2,"
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
 drop pri_sec tag n
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename industry ind
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,urban,
 gen byte urban=sector
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,veralt,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,vermast,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,wage,
 gen byte lstatus=main_act
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
 gen double wage=wages_salaries // LAST MONTH
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,wage_2,"
 ren r2_person_serial serial_no_sec_1
 replace n=n-1
 bys HID serial_no_sec_1: egen njobs=max(n)
 drop pri_sec tag n
 ren person_serial_no serial_no_sec_1
 drop if serial_no_sec_1>=40
foreach var in atschool educy literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename industry ind
 gen byte industry=.
 gen ind_CODE=substr(ind_ISIC,1,2)
 drop ind_ISIC
 destring ind_CODE, gen(ind_ISIC)
 replace industry=1 if ind_ISIC>=01 & ind_ISIC<=06
 replace industry=2 if ind_ISIC>=10 & ind_ISIC<=14
 replace industry=3 if ind_ISIC>=15 & ind_ISIC<=37
 replace industry=4 if ind_ISIC>=40 & ind_ISIC<=41
 replace industry=5 if ind_ISIC>=45 & ind_ISIC<=45
 replace industry=6 if ind_ISIC>=50 & ind_ISIC<=55
 replace industry=7 if ind_ISIC>=60 & ind_ISIC<=64
 replace industry=8 if ind_ISIC>=65 & ind_ISIC<=74
 replace industry=9 if ind_ISIC>=75 & ind_ISIC<=75
 replace industry=10 if ind_ISIC>=80 & ind_ISIC<=99
 replace industry=10 if industry==. & ind_ISIC!=.
 replace industry=. if lstatus!=1
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,washingmachine,
 ren washing_mechine washingmachine
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,water_jmp,"
gen water_jmp=.
replace water_jmp=5 if inlist(drinking_water,1,2)
replace water_jmp=6 if inlist(drinking_water,3)
replace water_jmp=4 if inlist(drinking_water,4)
replace water_jmp=1 if inlist(drinking_water,5)
replace water_jmp=2 if inlist(drinking_water,6)
replace water_jmp=14 if inlist(drinking_water,7)
replace water_jmp=12 if inlist(drinking_water,8)
replace water_jmp=14 if inlist(drinking_water,9)"
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,water_orig,
gen water_orig=drinking_water
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfare,
 ren hhsize hsize
 gen welfare=ncons/hsize
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfaredef,
 gen welfaredef=rpccons
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfarenat,
 gen welfarenat=rpccons
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfarenom,
 ren hhsize hsize
 gen welfarenom=ncons/hsize
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfareother,
 gen welfareother=.
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfareothertype,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfaretype,
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,welfshprosperity,
 ren hhsize hsize
 gen welfare=ncons/hsize
 gen welfshprosperity=welfare
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,wgt,
 gen double wgt=weight
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,year,
 gen int year=2006
 local year=2011
lka_2006_hies_v01_m_v03_a_sarmd,LKA,2006,HIES,v01,v03,yrmove,
 gen int yrmove=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,age,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=."
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,atschool,
 gen byte atschool=1 if r2_school_edu==1
 replace atschool=0 if r2_school_edu==2 | r2_school_edu==3 | education==19
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,bicycle,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,buffalo,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,cellphone,
 gen byte cellphone=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,chicken,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,computer,
 gen byte computer=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,contract,
 gen byte contract=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,countrycode,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,cow,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,educat4,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,educat5,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,educat7,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=. if age<5"
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,educy,"
 gen dob=mdy(birth_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=."
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,electricity,
 gen byte electricity=lite_source
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,empstat,
 gen byte lstatus=main_act
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,empstat_2,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,empstat_2_year,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,everattend,
 gen byte atschool=1 if r2_school_edu==1
 replace atschool=0 if r2_school_edu==2 | r2_school_edu==3 | education==19
 gen byte everattend=0 if r2_school_edu==2
 replace everattend=1 if atschool==1 | r2_school_edu==3
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,fan,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,healthins,
 gen byte healthins=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,hsize,
 bysort idh : egen hsize=count(p_slno)
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,idh,
 egen idh=concat(district sector dsd month psu sample_n serial_no nhh result)
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,idp,
 egen idh=concat(district sector dsd month psu sample_n serial_no nhh result)
 egen idp=concat(idh p_slno)
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,industry,"
 gen byte lstatus=main_act
 rename industry inddus
 gen byte industry=.
 gen induus=real(substr(stringind,1,2)) if inddus>=700
 replace industry=1 if inddus<=700
 replace industry=2 if induus>=10 & induus<=14
 replace industry=3 if induus>=15 & induus<=36
 replace industry=4 if induus==40 | induus==41
 replace industry=5 if induus==45
 replace industry=6 if induus>=50 & induus<=55
 replace industry=7 if induus>=60 & induus<=64
 replace industry=8 if induus>=65 & induus<=74
 replace industry=9 if induus>=75& induus<=75
 replace industry=10 if induus>75 & induus<=99
 replace industry=10 if industry==. & induus!=.
 replace industry=. if lstatus!=1"
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,industry_2,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,industry_orig_2,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,int_month,
 gen byte int_month=month
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,int_year,
 gen byte int_year=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,internet,
 gen byte internet=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,lamp,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,literacy,
 gen byte literacy=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,lphone,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,lstatus,
 gen byte lstatus=main_act
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,male,
 drop male
 gen byte male=sex_living
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,marital,
 gen byte marital=marital_status
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,motorcar,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,motorcycle,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,njobs,
 replace n=n-1
 bys district sector dsd month psu sample_n serial_no nhh result p_slno: egen njobs=max(n)
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,nlfreason,
 gen byte lstatus=main_act
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==3
 replace nlfreason=2 if main_activity==4
 replace nlfreason=5 if main_activity==5 | main_activity==6 | main_activity==9
 replace nlfreason=. if lstatus!=3
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,occup,"
 gen byte occup=.
 tostring main_occup,gen(stringmain)
 gen numoccup=real(substr(stringmain,1,2)) if main_occup>=150
 replace occup=1 if numoccup>=10 & numoccup<=13
 replace occup=2 if numoccup>=20 & numoccup<=24
 replace occup=3 if numoccup>=30 & numoccup<=34
 replace occup=4 if numoccup==41 | numoccup==42
 replace occup=5 if numoccup==51 | numoccup==52
 replace occup=6 if numoccup==61
 replace occup=7 if numoccup>=71 & numoccup<=74
 replace occup=8 if numoccup>=80 & numoccup<=83
 replace occup=9 if numoccup>=90 & numoccup<=93
 replace occup=10 if main_occup==110
 replace occup=. if lstatus!=1"
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,ocusec,
 gen byte lstatus=main_act
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,ownhouse,
 gen byte ownhouse=ownership
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,piped_water,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,pline_nat,
 gen pline_nat=3028
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,poor_nat,
 gen welfaredef=rpccons
 gen pline_nat=3028
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,pop_wgt,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,psu,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,radio,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,rbirth,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,rbirth_juris,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,refrigerator,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,relationcs,
 gen hdind=(relationship==1)
 bysort idh : egen count=count(hdind)
 replace relationship=5 if count!=1 & relationship==1 & p_slno!=1
 drop count hdind
 gen byte relationcs=relationship
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,relationharm,
 gen hdind=(relationship==1)
 bysort idh : egen count=count(hdind)
 replace relationship=5 if count!=1 & relationship==1 & p_slno!=1
 drop count hdind
 gen byte relationharm=relationship
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,rprevious,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,rprevious_juris,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,sar_improved_toilet,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,sar_improved_water,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,sewage_toilet,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,sewingmachine,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,soc,
 gen byte soc=ethnicity
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,socialsec,
 gen byte socialsec=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,spdef,
 gen spdef=rpccons/npccons
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,strata,
 gen strata=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,subnatid1,
 gen byte subnatid1=district
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,subnatid2,
 gen byte subnatid2=district
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,survey,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,television,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,toilet_jmp,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,toilet_orig,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,union,
 gen byte union=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,unitwage,
 gen byte lstatus=main_act
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,unitwage_2,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,urban,
 gen byte urban=sector
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,veralt,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,vermast,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,wage,
 gen byte lstatus=main_act
 gen double wage=wages_salaries // LAST MONTH
 replace wage=. if lstatus!=1
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,wage_2,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,washingmachine,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,water_jmp,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,water_orig,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfare,
 gen welfare=npccons
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfaredef,
 gen welfaredef=rpccons
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfarenat,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfarenom,
 gen welfarenom=npccons
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfareother,
 gen welfareother=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfareothertype,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfaretype,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,welfshprosperity,
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,wgt,
 gen double wgt=weight
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,whours,
 gen whours=.
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,year,
 gen int year=2009
 local year=2011
lka_2009_hies_v01_m_v01_a_sarmd,LKA,2009,HIES,v01,v01,yrmove,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,age,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=."
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,atschool,
 gen byte atschool=1 if s_attend==1
 replace atschool=0 if s_attend==2 | s_attend==3 | education==19
 replace atschool=1 if school>=2 & school<=5
 replace atschool=0 if school==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,bicycle,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,buffalo,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,cellphone,
 gen byte cellphone=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,chicken,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,computer,
 gen byte computer=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,contract,
 gen byte contract=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,countrycode,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,cow,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,educat4,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=7 if school==3
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educat4=4 if school==3
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,educat5,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=7 if school==3
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educat5=5 if school==3
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,educat7,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=7 if school==3
 replace educat7=. if age<5
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,educy,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=. if educy>=age-2 & educy!=. & age!=."
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,electricity,
 gen byte electricity=lighting
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,empstat,
 gen byte lstatus=cur_act
 gen byte empstat=emp_stat
 replace empstat=. if lstatus!=1
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,empstat_2,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,empstat_2_year,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,everattend,
 gen byte atschool=1 if s_attend==1
 replace atschool=0 if s_attend==2 | s_attend==3 | education==19
 replace atschool=1 if school>=2 & school<=5
 replace atschool=0 if school==7
 gen byte everattend=0 if s_attend==2
 replace everattend=1 if atschool==1 | s_attend==3
 replace everattend=0 if educat4==1
 replace everattend=1 if educat4!=1 & educat4!=.
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,fan,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,healthins,
 gen byte healthins=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,hsize,
 bysort idh : egen hsize=count(pno)
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,idh,
 egen idh=concat(district sector dsdiv month psu sample serial numhh result)
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,idp,
 egen idh=concat(district sector dsdiv month psu sample serial numhh result)
 egen idp=concat(idh pno)
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,industry,"
 gen byte lstatus=cur_act
 rename main_ind inddus
 gen byte industry=.
 gen induus=real(substr(stringind,1,2)) if inddus>=700
 replace industry=1 if inddus<=700
 replace industry=2 if induus>=10 & induus<=14
 replace industry=3 if induus>=15 & induus<=36
 replace industry=4 if induus==40 | induus==41
 replace industry=5 if induus==45
 replace industry=6 if induus>=50 & induus<=55
 replace industry=7 if induus>=60 & induus<=64
 replace industry=8 if induus>=65 & induus<=74
 replace industry=9 if induus>=75& induus<=75
 replace industry=10 if induus>75 & induus<=99
 replace industry=10 if industry==. & induus!=.
 replace industry=. if lstatus!=1"
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,industry_2,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,industry_orig_2,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,int_month,
 gen byte int_month=month
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,int_year,
 gen byte int_year=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,internet,
 gen byte internet=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,lamp,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,literacy,
 gen byte literacy=.
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,lphone,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,lstatus,
 gen byte lstatus=cur_act
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,male,
 gen byte male=sex
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,marital,
*<_marital_>* gen byte marital=marital_status
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,motorcar,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,motorcycle,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,njobs,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,nlfreason,
 gen byte lstatus=cur_act
 gen byte nlfreason=.
 replace nlfreason=1 if cur_act==3
 replace nlfreason=2 if cur_act==4
 replace nlfreason=5 if cur_act==5 | cur_act==6 | cur_act==9
*</_nlfreason_> replace nlfreason=. if lstatus!=3
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,occup,"
 gen byte occup=.
 tostring main_occ,gen(stringmain)
 gen numoccup=real(substr(stringmain,1,2)) if main_occ>=150
 replace occup=1 if numoccup>=10 & numoccup<=13
 replace occup=2 if numoccup>=20 & numoccup<=24
 replace occup=3 if numoccup>=30 & numoccup<=34
 replace occup=4 if numoccup==41 | numoccup==42
 replace occup=5 if numoccup==51 | numoccup==52
 replace occup=6 if numoccup==61
 replace occup=7 if numoccup>=71 & numoccup<=74
 replace occup=8 if numoccup>=80 & numoccup<=83
 replace occup=9 if numoccup>=90 & numoccup<=93
 replace occup=10 if main_occ==110
 replace occup=. if lstatus!=1"
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,ocusec,
 gen byte lstatus=cur_act
 gen byte ocusec=emp_stat
 replace ocusec=. if lstatus!=1
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,ownhouse,
 gen byte ownhouse=ownership
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,piped_water,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,pline_nat,
 gen pline_nat=3028
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=3028
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,pop_wgt,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,psu,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,radio,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,rbirth,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,rbirth_juris,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,refrigerator,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,relationcs,
 gen hdind=(relation==1)
 bysort idh : egen count=count(hdind)
 replace relation=5 if count!=1 & relation==1 & pno!=1
 drop count hdind
 gen byte relationcs=relation
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,relationharm,
 gen hdind=(relation==1)
 bysort idh : egen count=count(hdind)
 replace relation=5 if count!=1 & relation==1 & pno!=1
 drop count hdind
 gen byte relationharm=relation
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,rprevious,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,rprevious_juris,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,sar_improved_toilet,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,sar_improved_water,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,sewage_toilet,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,sewingmachine,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,soc,
 gen byte soc=ethnic
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,socialsec,
 gen byte socialsec=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,spdef,
 gen spdef=rpccons/npccons
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,strata,
 gen strata=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,subnatid1,
 gen byte subnatid1=district
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,subnatid2,
 gen byte subnatid2=district
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,survey,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,television,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,toilet_jmp,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,toilet_orig,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,union,
 gen byte union=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,unitwage,
 gen byte lstatus=cur_act
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,unitwage_2,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,urban,
 gen byte urban=sector
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,veralt,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,vermast,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,wage,
 gen byte lstatus=cur_act
 gen double wage=wage_1m // LAST MONTH
 replace wage=. if lstatus!=1
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,wage_2,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,washingmachine,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,water_jmp,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,water_orig,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfare,
 gen welfare=npccons
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfaredef,
 gen welfaredef=rpccons
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfarenat,
 gen welfarenat=rpccons
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfarenom,
 gen welfarenom=npccons
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfareother,
 gen welfareother=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfareothertype,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfaretype,
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,welfshprosperity,
 gen welfare=npccons
 gen welfshprosperity=welfare
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,wgt,
 gen double wgt=weight
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,whours,
 gen whours=.
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,year,
 gen int year=2009
 local year=2011
lka_2009_hies_v01_m_v02_a_sarmd,LKA,2009,HIES,v01,v02,yrmove,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,age,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,atschool,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,bicycle,
 ren bicyc bicycle
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,buffalo,
 gen buffalo=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,cellphone,
 rename mobile cellphone
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,chicken,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,computer,
 ren comput computer
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,countrycode,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,cow,
 gen cow=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,ed_mod_age,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,educat4,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=1 if educy==0
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,educat5,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=1 if educy==0
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,educat7,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
 gen byte educat7=education
 replace educat7=1 if educy==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,educy,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,electricity,
 gen byte electricity=lighting
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,empstat,
 gen byte lstatus=cur_act
 gen byte empstat=emp_stat
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,empstat_2,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
 drop if main_sec==2
 drop main_sec tag n
 ren province province_str
 drop if pno>=40
 drop count hdind
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename main_ind inddus
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,empstat_2_year,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==."
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,everattend,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
 replace education=. if education==17
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if s_attend==2
 replace educy=. if educy>=age-2 & educy!=. & age!=.
 replace age=.  if educy>=age-2 & educy!=. & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==."
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,fan,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,hsize,
 bysort idh : egen hsize=count(pno)
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,idh,
 gen idh=hhid
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,idp,
 gen idh=hhid
 egen idp=concat(idh pno)
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,industry,"
 gen byte lstatus=cur_act
 rename main_ind inddus
 gen byte industry=.
 gen induus=real(substr(stringind,1,2)) if inddus>=700
 replace industry=1 if inddus<=700
 replace industry=2 if induus>=10 & induus<=14
 replace industry=3 if induus>=15 & induus<=37
 replace industry=4 if induus==40 | induus==41
 replace industry=5 if induus==45
 replace industry=6 if induus>=50 & induus<=55
 replace industry=7 if induus>=60 & induus<=64
 replace industry=8 if induus>=65 & induus<=74
 replace industry=9 if induus>=75& induus<=75
 replace industry=10 if induus>75 & induus<=99
 replace industry=10 if industry==. & induus!=.
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,industry_2,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
 drop if main_sec==2
 drop main_sec tag n
 ren province province_str
 drop if pno>=40
 drop count hdind
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename main_ind inddus
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,industry_orig_2,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
 drop if main_sec==2
 drop main_sec tag n
 ren province province_str
 drop if pno>=40
 drop count hdind
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename main_ind inddus
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,int_month,
 gen byte int_month=month
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,int_year,
 gen byte int_year=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,internet,
 gen byte internet=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,lamp,
 gen lamp=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,literacy,
 gen byte literacy=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,lphone,
 rename mobile cellphone
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,lstatus,
 gen byte lstatus=cur_act
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,male,
 gen byte male=sex
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,marital,"
 gen dob=mdy(b_month,1,birth_year)
 gen date=mdy(month,1,year_interview)
 gen age_date=int((date-dob)/365)
 replace age=age_date if age==. & age_date!=.
 replace age=98 if age>=98 & age<.
*<_marital_>* gen byte marital=marital_status
 replace marital=. if age<10 & marital!=."
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,motorcar,
 ren carvan motorcar
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,motorcycle,
 ren m_bicyc motorcycle
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,njobs,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,nlfreason,
 gen byte lstatus=cur_act
 gen byte nlfreason=.
 replace nlfreason=1 if cur_act==3
 replace nlfreason=2 if cur_act==4
 replace nlfreason=5 if cur_act==5 | cur_act==6 | cur_act==9
 replace nlfreason=. if lstatus!=3
*</_nlfreason_> replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,occup,
 gen byte lstatus=cur_act
 gen byte occup=int(main_occ/1000)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,ocusec,
 gen byte lstatus=cur_act
 gen byte ocusec=emp_stat
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,ownhouse,
 gen byte ownhouse=ownership
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,piped_water,
gen piped_water=.
replace piped_water=1 if drinkwat==5 | drinkwat==6
replace piped_water=0 if drinkwat<5 | drinkwat>6
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,pline_nat,
 gen pline_nat=3028
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=3028
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,pop_wgt,
 gen double wgt=weight
 bysort idh : egen hsize=count(pno)
 gen pop_wgt=wgt*hsize
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,psu,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,radio,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,rbirth,
 gen byte rbirth=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,refrigerator,
 ren fridge refrigerator
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,relationcs,
 gen hdind=(relation==1)
 bysort idh : egen count=count(hdind)
 replace relation=5 if count!=1 & relation==1 & pno!=1
 drop count hdind
 gen byte relationcs=relation
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,relationharm,
 gen hdind=(relation==1)
 bysort idh : egen count=count(hdind)
 replace relation=5 if count!=1 & relation==1 & pno!=1
 drop count hdind
 gen byte relationharm=relation
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,rprevious,
 gen byte rprevious=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,sar_improved_toilet,
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if toilettype<=2
replace sar_improved_toilet=0 if toilettype>=3
replace sar_improved_toilet=0 if toiletuse==2
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=5 if inlist(drinkwat,1,2)
replace water_jmp=6 if inlist(drinkwat,3)
replace water_jmp=4 if inlist(drinkwat,4)
replace water_jmp=1 if inlist(drinkwat,5)
replace water_jmp=2 if inlist(drinkwat,6)
replace water_jmp=14 if inlist(drinkwat,7)
replace water_jmp=12 if inlist(drinkwat,8)
replace water_jmp=14 if inlist(drinkwat,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)
replace sar_improved_water=1 if drinkwat==7"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,sewage_toilet,
gen sewage_toilet=.
*replace sewage_toilet=1 if toilettype<=2
*replace sewage_toilet=0 if toilettype>=3
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,sewingmachine,
 ren sewmach sewingmachine
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,soc,
 gen byte soc=ethnic
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,spdef,
 gen spdef=cpi_dcs
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,strata,
 gen strata=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,subnatid1,
 gen byte subnatid1=district
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,subnatid2,
 gen byte subnatid2=district
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,survey,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,television,
 ren tv television
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,toilet_jmp,
gen toilet_jmp=.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,toilet_orig,
gen toilet_orig=toilettype
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,unitwage,
 gen byte lstatus=cur_act
 gen byte empstat=emp_stat
 replace empstat=. if lstatus!=1
 gen double wage=wage_1m // LAST MONTH
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
 gen byte unitwage=5 if wage!=.
 replace unitwage=. if wage==.
 replace unitwage=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,unitwage_2,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
 drop if main_sec==2
 drop main_sec tag n
 ren province province_str
 drop if pno>=40
 drop count hdind
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename main_ind inddus
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,urban,"
 gen byte urban=sector
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,veralt,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,vermast,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,wage,
 gen byte lstatus=cur_act
 gen byte empstat=emp_stat
 replace empstat=. if lstatus!=1
 gen double wage=wage_1m // LAST MONTH
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,wage_2,
 replace n=n-1
 bys district sector dsdiv month psu sample serial numhh result pno: egen njobs=max(n)
 drop if main_sec==2
 drop main_sec tag n
 ren province province_str
 drop if pno>=40
 drop count hdind
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 rename main_ind inddus
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,washingmachine,
 ren washmach washingmachine
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,water_jmp,"
gen water_jmp=.
replace water_jmp=5 if inlist(drinkwat,1,2)
replace water_jmp=6 if inlist(drinkwat,3)
replace water_jmp=4 if inlist(drinkwat,4)
replace water_jmp=1 if inlist(drinkwat,5)
replace water_jmp=2 if inlist(drinkwat,6)
replace water_jmp=14 if inlist(drinkwat,7)
replace water_jmp=12 if inlist(drinkwat,8)
replace water_jmp=14 if inlist(drinkwat,9)"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,water_orig,
gen water_orig=drinkwat
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfare,"
 gen welfare=npccons
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfaredef,
 gen welfaredef=rpccons
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfarenat,
 gen welfarenat=rpccons
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfarenom,
 gen welfarenom=npccons
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfareother,"
 gen welfareother=.
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfareothertype,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfaretype,
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,welfshprosperity,
 gen welfare=npccons
 gen welfshprosperity=welfare
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,wgt,
 gen double wgt=weight
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,year,
 gen int year=2009
 local year=2011
lka_2009_hies_v01_m_v03_a_sarmd,LKA,2009,HIES,v01,v03,yrmove,
 gen int yrmove=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,age,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,atschool,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte atschool=1 if r2_school_edu==1
 replace atschool=0 if r2_school_edu==2 | r2_school_edu==3 | education==19"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,bicycle,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,buffalo,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,cellphone,
 gen byte cellphone=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,chicken,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,computer,
 gen byte computer=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,contract,
 gen byte contract=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,countrycode,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,cow,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,educat4,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educat7=education
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,educat5,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educat7=education
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,educat7,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educat7=education
 replace educat7=. if age<5"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,educy,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,electricity,
 gen byte electricity=lite_source
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,empstat,
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,empstat_2,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,empstat_2_year,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,everattend,
 gen byte atschool=1 if r2_school_edu==1
 replace atschool=0 if r2_school_edu==2 | r2_school_edu==3 | education==19
 gen byte everattend=0 if r2_school_edu==2
 replace everattend=1 if atschool==1 | r2_school_edu==3
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,fan,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,healthins,
 gen byte healthins=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,hsize,
 ren hhsize hsize
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,idh,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen hhid=concat(district sector month psu snumber hhno)
drop sector month
 gen idh=hhid"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,idp,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen hhid=concat(district sector month psu snumber hhno)
drop sector month
 gen idh=hhid
 egen idp=concat(idh person_serial_no), punct(-)"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,industry,"
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 drop industry
 recode ind (1/3=1) (5/9=2) (10/33=3) (35/39=4) (41/43=5) (45/47=6) (49/63=7) (64/82=8) (84=9) (85/99=10), gen(industry)
 replace industry=. if lstatus!=1"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,industry_2,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,industry_orig_2,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,int_month,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
drop sector month
 destring month, gen(int_month)"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,int_year,
 gen byte int_year=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,internet,
 gen byte internet=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,lamp,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,literacy,
 gen byte literacy=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,lphone,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,lstatus,
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,male,
 gen byte male=sex
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,marital,
 gen byte marital=marital_status
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,motorcar,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,motorcycle,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,njobs,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=."
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,nlfreason,
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==2
 replace nlfreason=2 if main_activity==3
 replace nlfreason=5 if main_activity==4 | main_activity==9
 replace nlfreason=. if lstatus!=3
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,occup,"
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte occup=.
 tostring main_occupation,gen(stringmain)
 gen numoccup=real(substr(stringmain,1,2)) if main_occup>=150
 replace occup=1 if numoccup>=10 & numoccup<=13
 replace occup=2 if numoccup>=20 & numoccup<=24
 replace occup=3 if numoccup>=30 & numoccup<=34
 replace occup=4 if numoccup==41 | numoccup==42
 replace occup=5 if numoccup==51 | numoccup==52
 replace occup=6 if numoccup==61
 replace occup=7 if numoccup>=71 & numoccup<=74
 replace occup=8 if numoccup>=80 & numoccup<=83
 replace occup=9 if numoccup>=90 & numoccup<=93
 replace occup=10 if main_occup==110
 replace occup=. if lstatus!=1"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,ocusec,
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,ownhouse,
 gen byte ownhouse=ownership
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,piped_water,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,pline_nat,
 gen pline_nat=pov_line
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,poor_nat,
 gen welfaredef=rpccons
 gen pline_nat=pov_line
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,pop_wgt,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,psu,"
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,radio,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,rbirth,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,rbirth_juris,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,refrigerator,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,relationcs,
 gen byte relationcs=relationship
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,relationharm,
 gen byte relationharm=relationship
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,rprevious,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,rprevious_juris,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,sar_improved_toilet,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,sar_improved_water,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,sewage_toilet,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,sewingmachine,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,soc,
 gen byte soc=ethnicity
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,socialsec,
 gen byte socialsec=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,spdef,
 gen spdef=cpi_dcs
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,strata,
 gen strata=district
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,subnatid1,
 gen byte subnatid1=district
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,subnatid2,
 gen byte subnatid2=district
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,survey,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,television,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,toilet_jmp,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,toilet_orig,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,union,
 gen byte union=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,unitwage,
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,unitwage_2,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,urban,"
 destring sector, gen(urban)"
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,veralt,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,vermast,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,wage,
 gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen double wage=wages_salaries // LAST MONTH
 replace wage=. if lstatus!=1
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,wage_2,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,washingmachine,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,water_jmp,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,water_orig,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfare,
 gen welfare=npccons
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfaredef,
 gen welfaredef=rpccons
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfarenat,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfarenom,
 gen welfarenom=npccons
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfareother,
 gen welfareother=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfareothertype,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfaretype,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,welfshprosperity,
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,wgt,
 gen double wgt=weight
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,whours,
 gen whours=.
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,year,
 gen int year=2012
 local year=2011
lka_2012_hies_v01_m_v01_a_sarmd,LKA,2012,HIES,v01,v01,yrmove,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,age,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,atschool,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte atschool=1 if r2_school_edu==1
 replace atschool=0 if r2_school_edu==2 | r2_school_edu==3 | education==19
 replace atschool=1 if curr_educ>=2 & curr_educ<=5
 replace atschool=0 if curr_educ==9
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,bicycle,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,buffalo,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,cellphone,
 gen byte cellphone=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,chicken,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,computer,
 gen byte computer=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,contract,
 gen byte contract=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,countrycode,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,cow,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,educat4,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte ed_mod_age=5
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 replace educy=0 if educy==. & curr_educ==9
 replace educy=. if age<ed_mod_age
 gen byte educat7=education
 replace educat7=1 if educy==0
 replace educat7=. if age<ed_mod_age
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,educat5,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte ed_mod_age=5
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 replace educy=0 if educy==. & curr_educ==9
 replace educy=. if age<ed_mod_age
 gen byte educat7=education
 replace educat7=1 if educy==0
 replace educat7=. if age<ed_mod_age
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,educat7,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte ed_mod_age=5
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 replace educy=0 if educy==. & curr_educ==9
 replace educy=. if age<ed_mod_age
 gen byte educat7=education
 replace educat7=1 if educy==0
 replace educat7=. if age<ed_mod_age
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,educy,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte ed_mod_age=5
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 replace educy=0 if educy==. & curr_educ==9
 replace educy=. if age<ed_mod_age"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,electricity,
 gen byte electricity=lite_source
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,empstat_2,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,empstat_2_year,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,everattend,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,fan,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,healthins,
 gen byte healthins=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,hsize,
 ren hhsize hsize
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,idh,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen hhid=concat(district sector month psu snumber hhno)
drop sector month
 gen idh=hhid"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,idp,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen hhid=concat(district sector month psu snumber hhno)
drop sector month
 gen idh=hhid
 egen idp=concat(idh person_serial_no), punct(-)"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,industry,"
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 drop industry
 recode ind (1/3=1) (5/9=2) (10/33=3) (35/39=4) (41/43=5) (45/47=6) (49/63=7) (64/82=8) (84=9) (85/99=10), gen(industry)
 replace industry=. if lstatus!=1"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,industry_2,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,industry_orig_2,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,int_month,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
drop sector month
 destring month, gen(int_month)"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,int_year,
 gen byte int_year=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,internet,
 gen byte internet=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,lamp,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,literacy,
 gen byte literacy=.
foreach var in atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,lphone,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,male,
 gen byte male=sex
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,marital,
 gen byte marital=marital_status
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,motorcar,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,motorcycle,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,njobs,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities sec_8_housing{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=."
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==2
 replace nlfreason=2 if main_activity==3
 replace nlfreason=5 if main_activity==4 | main_activity==9
*</_nlfreason_> replace nlfreason=. if lstatus!=3
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,occup,"
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte occup=.
 tostring main_occupation,gen(stringmain)
 gen numoccup=real(substr(stringmain,1,2)) if main_occup>=150
 replace occup=1 if numoccup>=10 & numoccup<=13
 replace occup=2 if numoccup>=20 & numoccup<=24
 replace occup=3 if numoccup>=30 & numoccup<=34
 replace occup=4 if numoccup==41 | numoccup==42
 replace occup=5 if numoccup==51 | numoccup==52
 replace occup=6 if numoccup==61
 replace occup=7 if numoccup>=71 & numoccup<=74
 replace occup=8 if numoccup>=80 & numoccup<=83
 replace occup=9 if numoccup>=90 & numoccup<=93
 replace occup=10 if main_occup==110
 replace occup=. if lstatus!=1"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,ownhouse,
 gen byte ownhouse=ownership
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,piped_water,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,pline_nat,
 gen pline_nat=pov_line
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=pov_line
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,pop_wgt,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,psu,"
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,radio,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,rbirth,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,rbirth_juris,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,refrigerator,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,relationcs,
 gen byte relationcs=relationship
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,relationharm,
 gen byte relationharm=relationship
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,rprevious,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,rprevious_juris,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,sar_improved_toilet,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,sar_improved_water,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,sewage_toilet,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,sewingmachine,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,soc,
 gen byte soc=ethnicity
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,socialsec,
 gen byte socialsec=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,spdef,
 gen spdef=cpi_dcs
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,strata,
 gen strata=district
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,subnatid1,
 gen byte subnatid1=district
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,subnatid2,
 gen byte subnatid2=district
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,survey,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,television,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,toilet_jmp,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,toilet_orig,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,union,
 gen byte union=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,unitwage_2,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,urban,"
 destring sector, gen(urban)"
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,veralt,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,vermast,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,wage,
gen byte lb_mod_age=10
 gen byte lstatus=is_active
 replace lstatus=2 if lstatus==3 & main_activity==1
 replace lstatus=. if age<lb_mod_age
 gen double wage=wages_salaries // LAST MONTH
 replace wage=. if lstatus!=1
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,wage_2,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,washingmachine,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,water_jmp,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,water_orig,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfare,
 gen welfare=npccons
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfaredef,
 gen welfaredef=rpccons
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfarenat,
 gen welfarenat=rpccons
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfarenom,
 gen welfarenom=npccons
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfareother,
 gen welfareother=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfareothertype,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfaretype,
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,welfshprosperity,
 gen welfare=npccons
 gen welfshprosperity=welfare
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,wgt,
 gen double wgt=weight
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,whours,
 gen whours=.
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,year,
 gen int year=2012
 local year=2011
lka_2012_hies_v01_m_v02_a_sarmd,LKA,2012,HIES,v01,v02,yrmove,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,age,
 replace age=98 if age>=98 & age<.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,atschool,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 gen byte atschool=1 if r2_school_edu==1
 replace atschool=0 if r2_school_edu==2 | r2_school_edu==3 | education==19
 replace atschool=1 if curr_educ>=2 & curr_educ<=5
 replace atschool=0 if curr_educ==9
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,bicycle,
 replace bicycle=. if bicycle==0
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,buffalo,
 gen buffalo=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,cellphone,
 ren telephone_mobile cellphone
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,chicken,
 ren chickens chicken
 replace chicken=. if chicken==0 | chicken==3
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,computer,
 ren computers computer
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,contract,
 gen byte contract=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,countrycode,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,cow,
 gen cow=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,educat4,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 *replace educy=0 if educy==. & curr_educ==9
 gen byte educat7=education
 replace educat7=1 if educy==0
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,educat5,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 *replace educy=0 if educy==. & curr_educ==9
 gen byte educat7=education
 replace educat7=1 if educy==0
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,educat7,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 *replace educy=0 if educy==. & curr_educ==9
 gen byte educat7=education
 replace educat7=1 if educy==0
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,educy,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
 replace education=. if education==18
 gen byte educy=education
 replace educy=0 if education==19
 replace educy=0 if r2_school_edu==2
 *replace educy=0 if educy==. & curr_educ==9
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,electricity,
 gen byte electricity=lite_source
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,empstat,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,empstat_2,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=.
drop n
drop if pri_sec==2
drop pri_sec
drop sector month
drop if person_serial_no>=40
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop industry
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==."
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,empstat_2_year,
 replace age=98 if age>=98 & age<.
 gen byte lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,everattend,
 replace age=98 if age>=98 & age<.
 gen byte lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,fan,
 ren electric_fans fan
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,healthins,
 gen byte healthins=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,hsize,
 ren hhsize hsize
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,idh,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen hhid=concat(district sector month psu snumber hhno)
drop sector month
 gen idh=hhid"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,idp,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen hhid=concat(district sector month psu snumber hhno)
drop sector month
 gen idh=hhid
 egen idp=concat(idh person_serial_no), punct(-)"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,industry,"
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 replace main_activity=. if (lstatus==. & main_activity>=2) & main_activity!=.
 drop industry
 recode ind (1/3=1) (5/9=2) (10/33=3) (35/39=4) (41/43=5) (45/47=6) (49/63=7) (64/82=8) (84=9) (85/99=10), gen(industry)
 replace industry=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,industry_2,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=.
drop n
drop if pri_sec==2
drop pri_sec
drop sector month
drop if person_serial_no>=40
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop industry
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==."
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,industry_orig_2,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=.
drop n
drop if pri_sec==2
drop pri_sec
drop sector month
drop if person_serial_no>=40
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop industry
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==."
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,int_month,"
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
drop sector month
 destring month, gen(int_month)"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,int_year,
 gen byte int_year=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,internet,
 gen byte internet=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,lamp,
 gen lamp=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,lb_mod_age,
 gen byte lb_mod_age=15
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,literacy,
 gen byte literacy=.
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,lphone,
 ren telephone_mobile cellphone
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,lstatus,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,male,
 gen byte male=sex
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,marital,
 gen byte marital=marital_status
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,motorcar,
 ren motor_car_van motorcar
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,motorcycle,
 ren motor_bicycle motorcycle
 replace motorcycle=. if motorcycle==0
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,njobs,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,nlfreason,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 gen byte nlfreason=.
 replace nlfreason=1 if main_activity==2
 replace nlfreason=2 if main_activity==3
 replace nlfreason=5 if main_activity==4 | main_activity==9
 replace nlfreason=. if lstatus!=3
 replace main_activity=. if (lstatus==. & main_activity>=2) & main_activity!=.
*</_nlfreason_> replace nlfreason=. if lstatus!=3
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,occup,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 replace main_activity=. if (lstatus==. & main_activity>=2) & main_activity!=.
 gen byte occup=int(main_occupation/1000)
 replace occup=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,ocusec,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 gen byte ocusec=employment_st
 replace ocusec=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,ownhouse,
 gen byte ownhouse=ownership
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,piped_water,
gen piped_water=drinking_water
replace piped_water=. if drinking_water==.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,pline_nat,
 gen pline_nat=pov_line
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,poor_int,
 gen welfare=npccons
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,poor_nat,
 gen welfarenat=rpccons
 gen pline_nat=pov_line
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,pop_wgt,
 gen double wgt=weight
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,psu,"
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,radio,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,rbirth,
 gen byte rbirth=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,refrigerator,
 ren fridge refrigerator
 replace refrigerator=. if refrigerator==0
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,relationcs,
 gen byte relationcs=relationship
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,relationharm,
 gen byte relationharm=relationship
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,rprevious,
 gen byte rprevious=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,sar_improved_toilet,"
gen toilet_orig=toilet_type
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_orig,1,3)
replace sar_improved_toilet=0 if inlist(toilet_orig,2,4,9)
replace sar_improved_toilet=0 if inlist(tioilet_use, 2,4,5)"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,sar_improved_water,"
gen water_jmp=.
replace water_jmp=5 if inlist(drinking_water,1,2)
replace water_jmp=6 if inlist(drinking_water,3)
replace water_jmp=1 if inlist(drinking_water,4)
replace water_jmp=2 if inlist(drinking_water,5)
replace water_jmp=3 if inlist(drinking_water,6)
replace water_jmp=14 if inlist(drinking_water,7)
replace water_jmp=4 if inlist(drinking_water,8)
replace water_jmp=10 if inlist(drinking_water,9)
replace water_jmp=12 if inlist(drinking_water,10)
replace water_jmp=9 if inlist(drinking_water,11)
replace water_jmp=13 if inlist(drinking_water,12)
replace water_jmp=14 if inlist(drinking_water,99)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)
replace sar_improved_water=1 if drinking_water==7"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,sewage_toilet,
gen sewage_toilet=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,sewingmachine,
 ren sewing_mechine sewingmachine
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,soc,
 gen byte soc=ethnicity
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,socialsec,
 gen byte socialsec=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,spdef,
 gen spdef=cpi_dcs
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,strata,
 gen strata=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,subnatid1,
 gen byte subnatid1=district
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,subnatid2,
 gen byte subnatid2=district
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,survey,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,television,
 ren tv television
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,toilet_jmp,
gen toilet_jmp=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,toilet_orig,
gen toilet_orig=toilet_type
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,union,
 gen byte union=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,unitwage,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
 replace main_activity=. if (lstatus==. & main_activity>=2) & main_activity!=.
 gen double wage=wages_salaries // LAST MONTH
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
 gen byte unitwage=5 if wage!=.
 replace unitwage=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,unitwage_2,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=.
drop n
drop if pri_sec==2
drop pri_sec
drop sector month
drop if person_serial_no>=40
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop industry
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,urban,"
 destring sector, gen(urban)"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,veralt,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,vermast,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,wage,
 gen byte lstatus=is_active
 replace lstatus=2 if main_activity==1
 replace lstatus=3 if main_activity>2 & is_active==2
 gen byte empstat=employment_st
 replace empstat=. if lstatus!=1
 replace main_activity=. if (lstatus==. & main_activity>=2) & main_activity!=.
 gen double wage=wages_salaries // LAST MONTH
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,wage_2,"
 foreach file in     sec_1_demographic     sec_2_school_education     sec_3_health     sec_5_1_emp_income     sec_5_5_1_other_income     sec_6_a_durable_goods     sec_7_basic_facilities     sec_8_housing sec_9_land_animal{
use ""`input'\Data\Stata\\.dta"", clear

qui{
* Generate Household ID
*-------------------------------------------------------------------------------
* Household ID is obtained by concatenating:
* Month, Sector, District, PSU, SSU, Household Number
* Lines 10 and 11, p.1, questionnaire
* The household ID contains 10 digits: ""1 2"" ""3"" ""4 5"" ""6 7 8"" ""9 10""
* ""1 2""    district
* ""3"" sector
* ""4 5""    month
* ""6 7 8"" psu
* ""9 10"" snumber
*-------------------------------------------------------------------------------
*sum district sector month psu snumber hhno
tostring district sector month psu snumber hhno, replace

gen zero=""0""
egen temp_month  = concat(zero month)
replace month  = substr(temp_month,-2,.)
egen temp_psu  = concat(zero zero psu)
replace psu   = substr(temp_psu,-3,.)
egen temp_snumber = concat(zero snumber)
replace snumber  = substr(temp_snumber,-2,.)
drop temp* zero

egen hhid=concat(district sector month psu snumber hhno)

* Rename serial number from database
*-------------------------------------------------------------------------------
cap ren pid     person_serial_no
cap ren r2_person_serial  person_serial_no
cap ren r3_person_serial2 person_serial_no
cap ren serial_no_sec_1  person_serial_no
cap ren serial_5_5_1   person_serial_no

capture gen person_serial_no=0
qui su person_serial_no
drop district
}
replace pri_sec=1 if pri_sec==0
bys hhid: egen n=max(pri_sec)
gen njobs=1 if n>1 & n!=.
drop n
drop if pri_sec==2
drop pri_sec
drop sector month
drop if person_serial_no>=40
foreach var in educy atschool literacy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
 drop industry
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,washingmachine,
 ren washing_mechine washingmachine
 replace washingmachine=. if washingmachine==0
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,water_jmp,"
gen water_jmp=.
replace water_jmp=5 if inlist(drinking_water,1,2)
replace water_jmp=6 if inlist(drinking_water,3)
replace water_jmp=1 if inlist(drinking_water,4)
replace water_jmp=2 if inlist(drinking_water,5)
replace water_jmp=3 if inlist(drinking_water,6)
replace water_jmp=14 if inlist(drinking_water,7)
replace water_jmp=4 if inlist(drinking_water,8)
replace water_jmp=10 if inlist(drinking_water,9)
replace water_jmp=12 if inlist(drinking_water,10)
replace water_jmp=9 if inlist(drinking_water,11)
replace water_jmp=13 if inlist(drinking_water,12)
replace water_jmp=14 if inlist(drinking_water,99)"
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,water_orig,
gen water_orig=drinking_water
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfare,
 gen welfare=npccons
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfaredef,
 gen welfaredef=rpccons
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfarenat,
 gen welfarenat=rpccons
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfarenom,
 gen welfarenom=npccons
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfareother,
 gen welfareother=.
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfareothertype,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfaretype,
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,welfshprosperity,
 gen welfare=npccons
 gen welfshprosperity=welfare
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,wgt,
 gen double wgt=weight
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,whours,
 gen whours=.
foreach var in union socialsec healthins contract unitwage wage whours firmsize_u firmsize_l occup industry unempldur_u unempldur_l nlfreason ocusec njobs empstat lstatus{
replace `var'=. if age<lb_mod_age
}
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,year,
 gen int year=2012
 local year=2011
lka_2012_hies_v01_m_v03_a_sarmd,LKA,2012,HIES,v01,v03,yrmove,
 gen int yrmove=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,age,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,atschool,
  gen byte atschool=1 if r2_school_edu==1
  replace atschool=0 if (r2_school_edu==2 | r2_school_edu==3)
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,bicycle,
 replace bicycle=. if bicycle==0
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,buffalo,
 gen buffalo=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,cellphone,
  gen byte cellphone=telephone_mobile
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,chicken,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,computer,
  gen byte computer=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,contract,
  gen byte contract=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,countrycode,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,cow,
 gen cow=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,cpi,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,cpiperiod,
  gen cpiperiod=syear
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,ed_mod_age,
  gen byte ed_mod_age=5
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,educat4,
  replace education=. if education==18
  gen byte educat7=education
  replace educat7=. if age<5
  gen byte educat4=.
  replace educat4=1 if educat7==1
  replace educat4=2 if educat7==2 | educat7==3
  replace educat4=3 if educat7==4 | educat7==5
  replace educat4=4 if educat7==6 | educat7==7
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,educat5,
  replace education=. if education==18
  gen byte educat7=education
  replace educat7=. if age<5
  gen educat5=.
  replace educat5=1 if educat7==1
  replace educat5=2 if educat7==2
  replace educat5=3 if educat7==3 | educat7==4
  replace educat5=4 if educat7==5
  replace educat5=5 if educat7==6 | educat7==7
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,educat7,
  replace education=. if education==18
  gen byte educat7=education
  replace educat7=. if age<5
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,educy,
  replace education=. if education==18
  gen byte educy=education
  replace educy=0 if education==19
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,electricity,
  gen byte electricity=lite_source
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,empstat,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age
  gen byte empstat=employment_st
  replace empstat=. if lstatus!=1"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,empstat_2,
  gen byte empstat_2=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,empstat_2_year,
  gen empstat_2_year=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,everattend,
  gen byte atschool=1 if r2_school_edu==1
  replace atschool=0 if (r2_school_edu==2 | r2_school_edu==3)
  gen byte everattend=0 if r2_school_edu==2
  replace everattend=1 if (atschool==1 | r2_school_edu==3)
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,fan,
 ren electric_fans fan
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,firmsize_l,
  gen byte firmsize_l=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,healthins,
  gen byte healthins=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,hsize,
  gen uno=1
  bys hhid: egen hsize=count(uno)
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,idh,"
   egen temp_month  = concat(zero month)
   replace month  = substr(temp_month,-2,.)
   egen hhid=concat(district sector month psu snumber hhno)
    reshape wide wages_salaries allowences bonus, i(hhid person_serial_no) j(pri_sec)
 drop sector month
  gen idh=hhid"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,idp,"
   egen temp_month  = concat(zero month)
   replace month  = substr(temp_month,-2,.)
   egen hhid=concat(district sector month psu snumber hhno)
    reshape wide wages_salaries allowences bonus, i(hhid person_serial_no) j(pri_sec)
 drop sector month
  gen idh=hhid
  egen idp=concat(idh person_serial_no), punct(-)"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,industry,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age
  drop industry
  (45/47 = 6) (49/63 = 7) (64/82 = 8) (84 = 9) (85/99 = 10), gen(industry)
  replace industry=. if lstatus!=1"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,industry_2,
  gen industry_2=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,industry_orig_2,
  gen industry_orig_2=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,int_month,"
   egen temp_month  = concat(zero month)
   replace month  = substr(temp_month,-2,.)
 drop sector month
  destring month, gen(int_month)"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,int_year,
  gen byte int_year=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,internet,
  gen byte internet=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,lamp,
 gen lamp=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,lb_mod_age,
  gen byte lb_mod_age=15
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,literacy,
  gen byte literacy=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,lphone,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,lstatus,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,male,
  gen byte male=sex
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,marital,
  gen byte marital=marital_status
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,motorcar,
 ren motor_car_van motorcar
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,motorcycle,
 ren motor_bicycle motorcycle
 replace motorcycle=. if motorcycle==0
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,njobs,
  foreach file in       sec_1_demographic_information   // Demographic Characteristics for every HH member      sec_2_school_education     // School education for people between (5-20 yrs old)      sec_3a_health       // Health for every HH member      sec_3_b_is_child_death     // Children death by HH      sec_5_1_emp_income      // Income from paid employements      sec_5_1_is_emp_income     // Person worked as employee during last 4 weeks      sec_5_5_1_other_income     // Income from cash receipt during last 12 months      sec_5_5_1_is_other_income    // Person received cash during last 12 months      sec_6a_durable_goods     // Durable goods for HH      sec_7_basic_facilities     // Access to primary facilities for HH sec_8_housing { 
   cap ren r2_person_serial  person_serial_no  // For Education dataset
   cap ren s3a_2_person_sno person_serial_no  // For Health dataset
   cap ren serial_no_sec_1  person_serial_no  // For Employment income
   cap ren serial_5_5_1   person_serial_no  // For Other income source
    bys hhid person_serial_no: egen n=max(pri_sec) if pri_sec!=.   // Check the number of jobs by HH member
    gen njobs=1 if n>1 & n!=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,nlfreason,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age
  gen byte nlfreason=.
  replace nlfreason=1 if main_activity==3
  replace nlfreason=2 if main_activity==4
  replace nlfreason=3 if main_activity==5
  replace nlfreason=4 if main_activity==6
  replace nlfreason=5 if main_activity==9
  replace nlfreason=. if lstatus!=3"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,occup,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age
  gen byte occup=.
  tostring main_occupation, gen(stringmain)
  gen numoccup=real(substr(stringmain,1,2)) if main_occup>=1000
  replace occup=1 if numoccup>=10 & numoccup<=13
  replace occup=2 if numoccup>=20 & numoccup<=24
  replace occup=3 if numoccup>=30 & numoccup<=34
  replace occup=4 if numoccup==41 | numoccup==42
  replace occup=5 if numoccup==51 | numoccup==52
  replace occup=6 if numoccup==61
  replace occup=7 if numoccup>=71 & numoccup<=74
  replace occup=8 if numoccup>=80 & numoccup<=83
  replace occup=9 if numoccup>=90 & numoccup<=93
  replace occup=10 if main_occup==110
  replace occup=. if lstatus!=1"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,ocusec,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age
  gen byte ocusec=employment_st
  replace ocusec=. if lstatus!=1"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,ownhouse,
  gen byte ownhouse=ownership
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,piped_water,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,pline_int,
  gen pline_int=1.90*cpi*ppp*365/12
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,pline_nat,
  gen pline_nat=pov_line
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,poor_int,
  gen welfare=npccons
  gen pline_int=1.90*cpi*ppp*365/12
  gen poor_int=welfare<pline_int & welfare!=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,poor_nat,
  gen welfaredef=rpccons
  gen pline_nat=pov_line
  gen poor_nat=(welfaredef<pline_nat) if welfaredef!=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,pop_wgt,
  gen double wgt=weight
  gen uno=1
  bys hhid: egen hsize=count(uno)
  drop uno
 gen pop_wgt=wgt*hsize
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,psu,"
   egen temp_psu  = concat(zero zero psu)
   replace psu   = substr(temp_psu,-3,.)
 egen temp_psu  = concat(zero zero psu)
 replace psu   = substr(temp_psu,-3,.)"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,radio,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,rbirth,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,rbirth_juris,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,refrigerator,
 ren fridge refrigerator
 replace refrigerator=. if refrigerator==0
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,relationcs,
  gen byte relationcs=relationship
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,relationharm,
  gen byte relationharm=relationship
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,rprevious,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,rprevious_juris,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,sar_improved_toilet,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,sar_improved_water,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,sewage_toilet,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,sewingmachine,
 ren sewingmechine sewingmachine
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,soc,
  gen byte soc=ethnicity
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,socialsec,
  gen byte socialsec=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,spdef,
  gen spdef=cpi_dcs
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,strata,
  gen strata=district
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,subnatid1,
  gen byte subnatid1=district
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,subnatid2,
  gen byte subnatid2=district
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,subnatid3,
  gen byte subnatid3=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,survey,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,television,
 ren tv television
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,toilet_jmp,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,toilet_orig,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,unempldur_l,
  gen byte unempldur_l=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,unempldur_u,
  gen byte unempldur_u=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,union,
  gen byte union=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,unitwage,"
   drop district
  gen byte lstatus=is_active
  replace lstatus=2 if main_activity==2 // Seeking for job is unemployed
  replace lstatus=3 if (main_activity==3 | main_activity==4 | main_activity==5 | main_activity==6) // Student, retired, household activities, unable to work are Non-LF
  replace lstatus=. if age<lb_mod_age
  gen byte unitwage=5
  replace unitwage=. if lstatus!=1"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,unitwage_2,
  foreach file in       sec_1_demographic_information   // Demographic Characteristics for every HH member      sec_2_school_education     // School education for people between (5-20 yrs old)      sec_3a_health       // Health for every HH member      sec_3_b_is_child_death     // Children death by HH      sec_5_1_emp_income      // Income from paid employements      sec_5_1_is_emp_income     // Person worked as employee during last 4 weeks      sec_5_5_1_other_income     // Income from cash receipt during last 12 months      sec_5_5_1_is_other_income    // Person received cash during last 12 months      sec_6a_durable_goods     // Durable goods for HH      sec_7_basic_facilities     // Access to primary facilities for HH sec_8_housing { 
   cap ren r2_person_serial  person_serial_no  // For Education dataset
   cap ren s3a_2_person_sno person_serial_no  // For Health dataset
   cap ren serial_no_sec_1  person_serial_no  // For Employment income
   cap ren serial_5_5_1   person_serial_no  // For Other income source
    bys hhid person_serial_no: egen n=max(pri_sec) if pri_sec!=.   // Check the number of jobs by HH member
    gen njobs=1 if n>1 & n!=.
    drop n
 drop sector month
 drop if person_serial_no>=40
  drop uno
  drop if count!=1
  drop industry
  drop ind
  drop stringmain
  gen byte unitwage_2=5
  replace unitwage_2=. if (njobs==0 | njobs==. | lstatus!=1)
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,urban,"
  destring sector, gen(urban)"
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,veralt,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,vermast,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,wage,
 drop sector month
  gen double wage=wages_salaries1 // LAST MONTH
  replace wage=. if wage==1 | wage==0 // It does not make sense that we have people with wage equal to 1 or 0.
  replace wage=. if lstatus!=1
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,wage_2,
  foreach file in       sec_1_demographic_information   // Demographic Characteristics for every HH member      sec_2_school_education     // School education for people between (5-20 yrs old)      sec_3a_health       // Health for every HH member      sec_3_b_is_child_death     // Children death by HH      sec_5_1_emp_income      // Income from paid employements      sec_5_1_is_emp_income     // Person worked as employee during last 4 weeks      sec_5_5_1_other_income     // Income from cash receipt during last 12 months      sec_5_5_1_is_other_income    // Person received cash during last 12 months      sec_6a_durable_goods     // Durable goods for HH      sec_7_basic_facilities     // Access to primary facilities for HH sec_8_housing { 
   cap ren r2_person_serial  person_serial_no  // For Education dataset
   cap ren s3a_2_person_sno person_serial_no  // For Health dataset
   cap ren serial_no_sec_1  person_serial_no  // For Employment income
   cap ren serial_5_5_1   person_serial_no  // For Other income source
    bys hhid person_serial_no: egen n=max(pri_sec) if pri_sec!=.   // Check the number of jobs by HH member
    gen njobs=1 if n>1 & n!=.
    drop n
 drop sector month
 drop if person_serial_no>=40
  drop uno
  drop if count!=1
  drop industry
  drop ind
  drop stringmain
  gen double wage_2=wages_salaries2
  replace wage_2=. if (njobs==0 | njobs==. | lstatus!=1)
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,washingmachine,
 ren washing_mechine washingmachine
 replace washingmachine=. if washingmachine==0
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,water_jmp,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,water_orig,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfare,
  gen welfare=npccons
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfaredef,
  gen welfaredef=rpccons
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfarenat,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfarenom,
  gen welfarenom=npccons
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfareother,
  gen welfareother=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfareothertype,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfaretype,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,welfshprosperity,
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,wgt,
  gen double wgt=weight
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,whours,
  gen whours=.
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,year,
  gen int year=2016
 glo year=2011
lka_2016_hies_v01_m_v01_a_sarmd,LKA,2016,HIES,v01,v01,yrmove,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,age,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,atschool,
 gen byte atschool=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,bicycle,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,buffalo,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,cellphone,
 gen cellphone=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,chicken,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,computer,
 gen computer=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,contract,
 gen byte contract=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,countrycode,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,cow,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,educat4,
 gen byte educat4=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,educat5,
 gen educat5=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,educat7,
 gen byte educat7=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,educy,
 gen byte educy=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,electricity,
 gen byte electricity=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,empstat,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,empstat_2,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,empstat_2_year,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,everattend,
 gen everattend=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,fan,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,healthins,
 gen byte healthins=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,hsize,"
 gen byte hhs = 0
 replace hhs = 1 if ((membershipstatus<=2 | membershipstatus==6) & (takemeal==1) & (membershipstatus!=.))
 egen hsize=total(hhs), by(hhid)"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,idh,"
 ren hhserial hhid
 ren hhserial hhid
 ren hhserial hhid
 tostring hhid, gen(idh)"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,idp,"
 ren hhserial hhid
 ren hhserial hhid
 ren individual pid
 ren id pid
 ren hhserial hhid
 ren individual pid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,industry,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,industry_2,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,industry_orig_2,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,int_month,
 gen byte int_month=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,int_year,
 gen byte int_year=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,internet,
 gen byte internet= .
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,lamp,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=15
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,literacy,
 gen byte literacy=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,lphone,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,lstatus,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,male,
 gen byte male=sex
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,marital,
 gen marital=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,motorcar,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,motorcycle,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,njobs,
 gen njobs=primsec==2
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,nlfreason,
 gen njobs=primsec==2
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,occup,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,ocusec,
 gen ocusec=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,ownhouse,"
 recode tenuretype (1=1)(2 3=0), gen(ownhouse)"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,piped_water,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,pline_nat,
 gen pline_nat=787.44189/cpi2009
 gen pline_nat=ztot
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,poor_int,
 gen welfare=pce
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,poor_nat,
 *gen welfaredef=pcer
 gen welfaredef=pcerr_2009/cpi2009
 gen pline_nat=787.44189/cpi2009
 gen pline_nat=ztot
 gen poor_nat=welfaredef<pline_nat & welfaredef!=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,pop_wgt,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,psu,
 gen psu=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,radio,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,rbirth,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,rbirth_juris,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,refrigerator,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,relationcs,
 gen byte relationcs=relation
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,relationharm,"
 recode membershipstatus (1=1) (6=5) (2/5=6), gen(relationharm)"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,rprevious,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,rprevious_juris,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,sar_improved_toilet,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,sar_improved_water,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,sewage_toilet,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,sewingmachine,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,soc,
 gen byte soc=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,socialsec,
 gen byte socialsec=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,spdef,
 gen spdef=spi6
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,strata,
 gen strata=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,subnatid1,
 ren region geo_1
 gen byte subnatid1=geo_1
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,subnatid2,
 gen byte subnatid2=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,survey,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,television,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,toilet_jmp,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,toilet_orig,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,union,
 gen byte union=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,unitwage,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,unitwage_2,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,urban,
 gen urban=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,veralt,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,vermast,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,wage,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3
 gen double wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2"
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,wage_2,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,washingmachine,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,water_jmp,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,water_orig,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfare,
 gen welfare=pce
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfaredef,
 *gen welfaredef=pcer
 gen welfaredef=pcerr_2009/cpi2009
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfarenat,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfarenom,
 gen welfarenom=pce
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfareother,
 gen welfareother=.
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfareothertype,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfaretype,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,welfshprosperity,
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,wgt,
 ren rfoverall wght_hh
 gen double wgt=wght_hh
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,whours,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen whours=hrsworked*7
 replace whours=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,year,
 gen int year=2002
 local year=2011
mdv_2002_hies_v01_m_v01_a_sarmd,MDV,2002,HIES,v01,v01,yrmove,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,age,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,atschool,
 gen byte atschool=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,bicycle,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,buffalo,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,cellphone,
 gen cellphone=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,chicken,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,computer,
 gen computer=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,contract,
 gen byte contract=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,countrycode,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,cow,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,educat4,
 gen byte educat4=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,educat5,
 gen educat5=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,educat7,
 gen byte educat7=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,educy,
 gen byte educy=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,electricity,
 gen byte electricity=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,empstat,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,empstat_2,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,empstat_2_year,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,everattend,
 gen everattend=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,fan,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,healthins,
 gen byte healthins=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,hsize,"
 gen byte hhs = 0
 replace hhs = 1 if ((membershipstatus<=2 | membershipstatus==6) & (takemeal==1) & (membershipstatus!=.))
 egen hsize=total(hhs), by(hhid)"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,idh,"
 ren hhserial hhid
 ren hhserial hhid
 ren hhserial hhid
 tostring hhid, gen(idh)"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,idp,"
 ren hhserial hhid
 ren hhserial hhid
 ren individual pid
 ren id pid
 ren hhserial hhid
 ren individual pid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,industry,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,industry_2,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,industry_orig_2,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,int_month,
 gen byte int_month=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,int_year,
 gen byte int_year=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,internet,
 gen byte internet= .
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,lamp,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=15
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,literacy,
 gen byte literacy=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,lphone,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,lstatus,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,male,
 gen byte male=sex
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,marital,
gen marital=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,motorcar,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,motorcycle,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,njobs,
 gen njobs=primsec==2
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,nlfreason,
 gen njobs=primsec==2
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,occup,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,ocusec,
 gen ocusec=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,ownhouse,"
 recode tenuretype (1=1)(2 3=0), gen(ownhouse)"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,piped_water,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,pline_nat,
 gen pline_nat=787.44189/cpi2009
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,poor_int,
 gen welfare=pcer
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,poor_nat,
 gen welfarenat=pcerr_2009/cpi2009
 gen pline_nat=787.44189/cpi2009
 gen poor_nat=welfarenat<pline_nat & welfaredef!=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,pop_wgt,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,psu,
 gen psu=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,radio,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,rbirth,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,rbirth_juris,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,refrigerator,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,relationcs,
 gen byte relationcs=relation
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,relationharm,"
 recode membershipstatus (1=1) (6=5) (2/5=6), gen(relationharm)"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,rprevious,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,rprevious_juris,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,sar_improved_toilet,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,sar_improved_water,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,sewage_toilet,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,sewingmachine,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,soc,
 gen byte soc=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,socialsec,
 gen byte socialsec=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,spdef,
 gen spdef=spi6
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,strata,
 gen strata=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,subnatid1,
 ren region geo_1
 *gen byte subnatid1=geo_1
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,subnatid2,
 gen byte subnatid2=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,survey,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,television,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,toilet_jmp,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,toilet_orig,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,union,
 gen byte union=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,unitwage,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,unitwage_2,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,urban,
 gen urban=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,veralt,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,vermast,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,wage,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3
 gen double wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2"
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,wage_2,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,washingmachine,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,water_jmp,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,water_orig,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfare,
 gen welfare=pcer
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfaredef,
 gen welfaredef=pcer
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfarenat,
 gen welfarenat=pcerr_2009/cpi2009
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfarenom,
 gen welfarenom=pce
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfareother,
 gen welfareother=.
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfareothertype,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfaretype,
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,welfshprosperity,
 gen welfare=pcer
 gen welfshprosperity=welfare
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,wgt,
 ren rfoverall wght_hh
 gen double wgt=wght_hh
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,whours,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen whours=hrsworked*7
 replace whours=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,year,
 gen int year=2002
 local year=2011
mdv_2002_hies_v01_m_v02_a_sarmd,MDV,2002,HIES,v01,v02,yrmove,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,age,
 replace age=98 if age>=98 & age!=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,atschool,
 gen byte atschool=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,bicycle,
 gen bicycle= numitemsBICYCLE>0 & numitemsBICYCLE<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,buffalo,
 gen buffalo=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,cellphone,
 gen cellphone=numitemsMOBILE_PHONE & numitemsMOBILE_PHONE<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,chicken,
 gen chicken=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,computer,
 gen byte computer=numitemsCOMPUTER>0 & numitemsCOMPUTER<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,contract,
 gen byte contract=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,countrycode,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,cow,
 gen cow=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,educat4,
 gen byte educat4=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,educat5,
 gen educat5=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,educat7,
 gen byte educat7=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,educy,
 gen byte educy=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,electricity,
 gen byte electricity=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,empstat,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus1 (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,empstat_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 recode empstatus2 (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat_2)
 replace empstat_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,empstat_2_year,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,everattend,
 gen everattend=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,fan,
 gen fan= numitemsFAN>0 & numitemsFAN<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,healthins,
 gen byte healthins=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,hsize,
 ren hhsize hsize
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,idh,"
 ren hhserial hhid
 ren hhserial hhid
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 reshape wide numitems , i( hhserial ) j( des ) string
 ren hhserial hhid
 ren hhserial hhid
 tostring hhid, gen(idh)"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,idp,"
 ren hhserial hhid
 ren hhserial hhid
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 reshape wide numitems , i( hhserial ) j( des ) string
 ren hhserial hhid
 ren hhserial hhid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,industry,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,industry_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen byte industry_2=int(industry2/100)
 replace industry_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,industry_orig_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen industry_orig_2=industry2
 replace industry_orig_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,int_month,
 gen byte int_month=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,int_year,
 gen byte int_year=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,internet,
 gen byte internet= .
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,lamp,
 gen lamp=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=15
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,literacy,
 gen byte literacy=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,lphone,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,lstatus,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,male,
 gen byte male=sex
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,marital,
 gen marital=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,motorcar,
 gen motorcar= numitemsCAR>0 & numitemsCAR<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,motorcycle,
 gen motorcycle=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,njobs,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,nlfreason,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,occup,
ren occupation1 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,ocusec,
 gen ocusec=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,ownhouse,"
 recode tenuretype (1=1)(2 3=0), gen(ownhouse)"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,piped_water,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,pline_nat,
 gen pline_nat=787.44189/cpi2009
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,poor_int,
 gen welfare=pcer
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,poor_nat,
 gen welfarenat=pcerr_2009/cpi2009
 gen pline_nat=787.44189/cpi2009
 gen poor_nat=welfarenat<pline_nat & welfaredef!=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,pop_wgt,
 ren rfoverall wght_hh
 gen double wgt=wght_hh
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,psu,
 gen psu=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,radio,
 gen radio= numitemsRADIO>0 & numitemsRADIO<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,rbirth,
 gen rbirth=999 if nationality==2
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=4 if nationality==2
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,refrigerator,
 gen byte rbirth_juris=4 if nationality==2
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,relationcs,
 gen byte relationcs=relation
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,relationharm,"
 recode membershipstatus (1=1) (6=5) (2/5=6), gen(relationharm)"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,rprevious,
 gen byte rprevious=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,sar_improved_toilet,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,sar_improved_water,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,sewage_toilet,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,sewingmachine,
 gen sewingmachine=numitemsSEWING_MACHINE>0 & numitemsSEWING_MACHINE<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,soc,
 gen byte soc=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,socialsec,
 gen byte socialsec=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,spdef,
 gen byte socialsec=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,strata,
 ren region geo_1
 gen strata=geo_1
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,subnatid1,
 ren region geo_1
 *gen byte subnatid1=geo_1
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,subnatid2,
 gen byte subnatid2=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,survey,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,television,
 gen television= numitemsTV>0 & numitemsTV<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,toilet_jmp,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,toilet_orig,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,union,
 gen byte union=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,unitwage,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,unitwage_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,urban,
 ren region geo_1
 gen urban=geo_1==0
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,veralt,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,vermast,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,wage,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus1 (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3
 gen double wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2"
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,wage_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,washingmachine,
 gen washingmachine=numitemsWASHING_MACHINE>0 & numitemsWASHING_MACHINE<.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,water_jmp,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,water_orig,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfare,
 gen welfare=pcer
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfaredef,
 gen welfaredef=pcer
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfarenat,
 gen welfarenat=pcerr_2009/cpi2009
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfarenom,
 gen welfarenom=pce
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfareother,
 gen welfareother=.
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfareothertype,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfaretype,
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,welfshprosperity,
 gen welfare=pcer
 gen welfshprosperity=welfare
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,wgt,
 ren rfoverall wght_hh
 gen double wgt=wght_hh
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,whours,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen whours=hrsworked1
 replace whours=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,year,
 gen int year=2002
 local year=2011
mdv_2002_hies_v01_m_v03_a_sarmd,MDV,2002,HIES,v01,v03,yrmove,
 gen int yrmove=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,age,
 replace age=98 if age>=98 & age!=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,atschool,
 gen byte atschool=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,bicycle,
 gen bicycle= numitemsBICYCLE>0 & numitemsBICYCLE<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,buffalo,
 gen buffalo=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,cellphone,
 gen cellphone=numitemsMOBILE_PHONE & numitemsMOBILE_PHONE<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,chicken,
 gen chicken=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,computer,
 gen byte computer=numitemsCOMPUTER>0 & numitemsCOMPUTER<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,contract,
 gen byte contract=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,countrycode,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,cow,
 gen cow=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,cpi,
 ren cpi`year'_w cpi
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,cpiperiod,
 gen cpiperiod=syear
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,ed_mod_age,
 gen byte ed_mod_age=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,educat4,
 gen byte educat4=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,educat5,
 gen educat5=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,educat7,
 gen byte educat7=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,educy,
 gen byte educy=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,electricity,
 gen byte electricity=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,empstat,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus1 (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,empstat_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 recode empstatus2 (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat_2)
 replace empstat_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,empstat_2_year,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,everattend,
 gen everattend=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,fan,
 gen fan= numitemsFAN>0 & numitemsFAN<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,firmsize_l,
 gen byte firmsize_l=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,healthins,
 gen byte healthins=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,hsize,
 ren hhsize hsize
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,idh,"
 ren hhserial hhid
 ren hhserial hhid
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 reshape wide numitems , i( hhserial ) j( des ) string
 ren hhserial hhid
 ren hhserial hhid
 tostring hhid, gen(idh)"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,idp,"
 ren hhserial hhid
 ren hhserial hhid
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 reshape wide numitems , i( hhserial ) j( des ) string
 ren hhserial hhid
 ren hhserial hhid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,industry,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,industry_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen byte industry_2=int(industry2/100)
 replace industry_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,industry_orig_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen industry_orig_2=industry2
 replace industry_orig_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,int_month,
 gen byte int_month=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,int_year,
 gen byte int_year=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,internet,
 gen byte internet= .
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,lamp,
 gen lamp=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,lb_mod_age,
gen byte lb_mod_age=15
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,literacy,
 gen byte literacy=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,lphone,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,lstatus,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,male,
 gen byte male=sex
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,marital,
 gen marital=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,motorcar,
 gen motorcar= numitemsCAR>0 & numitemsCAR<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,motorcycle,
 gen motorcycle=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,njobs,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,nlfreason,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,occup,
ren occupation1 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,ocusec,
 gen ocusec=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,ownhouse,"
 recode tenuretype (1=1)(2 3=0), gen(ownhouse)"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,piped_water,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,pline_nat,
 gen pline_nat=787.44189/cpi2009
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,poor_int,
 gen welfare=pcer
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,poor_nat,
 gen welfarenat=pcerr_2009/cpi2009
 gen pline_nat=787.44189/cpi2009
 gen poor_nat=welfarenat<pline_nat & welfaredef!=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,pop_wgt,
 ren rfoverall wght_hh
 gen double wgt=wght_hh
 ren hhsize hsize
 gen pop_wgt=wgt*hsize
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,psu,
 gen psu=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,radio,
 gen radio= numitemsRADIO>0 & numitemsRADIO<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,rbirth,
 gen rbirth=999 if nationality==2
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,rbirth_juris,
 gen byte rbirth_juris=4 if nationality==2
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,refrigerator,
 gen byte rbirth_juris=4 if nationality==2
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,relationcs,
 gen byte relationcs=relation
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,relationharm,"
 recode membershipstatus (1=1) (6=5) (2/5=6), gen(relationharm)"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,rprevious,
 gen byte rprevious=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,sar_improved_toilet,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,sar_improved_water,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,sewage_toilet,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,sewingmachine,
 gen sewingmachine=numitemsSEWING_MACHINE>0 & numitemsSEWING_MACHINE<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,soc,
 gen byte soc=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,socialsec,
 gen byte socialsec=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,spdef,
 gen byte socialsec=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,strata,
 ren region geo_1
 gen strata=geo_1
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,subnatid1,
 ren region geo_1
 *gen byte subnatid1=geo_1
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,subnatid2,
 gen byte subnatid2=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,subnatid3,
 gen byte subnatid3=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,survey,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,television,
 gen television= numitemsTV>0 & numitemsTV<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,toilet_jmp,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,toilet_orig,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,unempldur_l,
 gen byte unempldur_l=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,unempldur_u,
 gen byte unempldur_u=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,union,
 gen byte union=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,unitwage,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,unitwage_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,urban,
 ren region geo_1
 gen urban=geo_1==0
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,veralt,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,vermast,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,wage,"
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 recode empstatus1 (1=3) (2=1) (3=4) (5 = 2) (4= 2), gen(empstat)
 replace empstat=. if lstatus==2 | lstatus==3
 gen double wage=.
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2"
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,wage_2,"
 egen njob=max( primsec), by(hhid pid)
* gen njobs=primsec==2 if primsec<.
 reshape wide industry occupation estbtype hrsworked mthsworked empstatus, i(hhid pid) j( primsec)
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen byte njobs=1 if njob==2
 rename industry1 industry
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
ren occupation1 occupation
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,washingmachine,
 gen washingmachine=numitemsWASHING_MACHINE>0 & numitemsWASHING_MACHINE<.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,water_jmp,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,water_orig,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfare,
 gen welfare=pcer
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfaredef,
 gen welfaredef=pcer
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfarenat,
 gen welfarenat=pcerr_2009/cpi2009
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfarenom,
 gen welfarenom=pce
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfareother,
 gen welfareother=.
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfareothertype,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfaretype,
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,welfshprosperity,
 gen welfare=pcer
 gen welfshprosperity=welfare
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,wgt,
 ren rfoverall wght_hh
 gen double wgt=wght_hh
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,whours,
 gen byte lstatus=1 if activitytype==1
 replace lstatus=3 if activitytype!=1 & activitytype!=.
 gen whours=hrsworked1
 replace whours=. if lstatus==2 | lstatus==3
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,year,
 gen int year=2002
 local year=2011
mdv_2002_hies_v01_m_v04_a_sarmd,MDV,2002,HIES,v01,v04,yrmove,
 gen int yrmove=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,age,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,atschool,
 ren Q10 attending
 gen byte atschool=attending==1
 replace atschool=. if attending==.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,bicycle,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,buffalo,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,cellphone,
 ren cphone cellphone
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,chicken,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,computer,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,contract,
 gen byte contract=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,countrycode,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,cow,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,cpi,
 ren cpi`year'_w cpi
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,cpiperiod,
 gen cpiperiod=syear
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=6
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,educat4,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=elevel2
 replace educat7=1 if educy==0
 gen byte educat4=educat7
 replace educat4=1 if educy==0
 replace educy=0 if everattend==0
 replace educat4=1 if everattend==0
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,educat5,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=elevel2
 replace educat7=1 if educy==0
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educat5=1 if everattend==0
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,educat7,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=elevel2
 replace educat7=1 if educy==0
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,educy,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0 if everattend==0
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,electricity,
 gen byte electricity=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,empstat,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 replace empstat=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,empstat_2,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,empstat_2_year,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,everattend,
 ren Q9 everattend
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,fan,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,firmsize_l,
 gen byte firmsize_l=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,healthins,
 gen byte healthins=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,hsize,
 ren hhsize hsize
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,idh,"
 ren formID ori_hid
 ren formID ori_hid
 tostring ori_hid, gen(idh)"
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,idp,"
 ren formID ori_hid
 ren pNo iid
 ren formID ori_hid
 ren pNo iid
 tostring ori_hid, gen(idh)
 egen idp=concat(idh iid), punct(-)"
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,industry,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q1 industry
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,industry_2,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,industry_orig_2,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,int_month,
 gen byte int_month=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,int_year,
 gen byte int_year=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,internet,
 gen byte internet= .
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,lamp,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=15
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,literacy,
 ren Q12 elevel2
 gen byte ed_mod_age=6
 gen byte literacy=1 if elevel2!=0
 replace literacy=0 if elevel2==12
 replace literacy=. if age<ed_mod_age
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,lphone,
 ren cphone cellphone
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,lstatus,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,male,
 gen byte male=sex
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,marital,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,motorcar,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,motorcycle,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,njobs,"
 recode otherjob (2=0), gen(njobs)"
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,nlfreason,
 ren Q19 nlfreason
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,occup,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,ocusec,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,ownhouse,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,piped_water,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,pline_nat,
 gen pline_nat=22*365/12
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,poor_int,
 ren hhsize hsize
 gen welfare=tocon_nd/(12*hsize)
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,poor_nat,
 ren hhsize hsize
 gen welfare=tocon_nd/(12*hsize)
 gen pline_nat=22*365/12
 gen poor_nat=(welfare<pline_nat) if welfare!=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,pop_wgt,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,psu,
 *gen psu=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,radio,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,rbirth,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,rbirth_juris,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,refrigerator,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,relationcs,"
 ren pNo iid
 ren pNo iid
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & iid==""1""
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,relationharm,"
 ren pNo iid
 ren pNo iid
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & iid==""1""
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,rprevious,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,rprevious_juris,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,sar_improved_toilet,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,sar_improved_water,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,sewage_toilet,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,sewingmachine,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,soc,
 gen byte soc=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,socialsec,
 gen byte socialsec=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,spdef,
 gen spdef=tocon_de/tocon_nd
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,strata,
 gen strata=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,subnatid1,
 gen byte subnatid1=geo_1
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,subnatid2,
 gen subnatid2=int(geo_2/100)
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,subnatid3,
 gen byte subnatid3=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,survey,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,television,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,toilet_jmp,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,toilet_orig,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,unempldur_l,
 gen byte unempldur_l=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,unempldur_u,
 gen byte unempldur_u=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,union,
 gen byte union=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,unitwage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 gen byte unitwage=5
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,unitwage_2,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,urban,"
 recode rururb (1=0) (2=1), gen(urban)"
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,veralt,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,vermast,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,wage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 replace empstat=. if lstatus==2 | lstatus==3
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,wage_2,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,washingmachine,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,water_jmp,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,water_orig,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfare,
 ren hhsize hsize
 gen welfare=tocon_nd/(12*hsize)
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfaredef,
 ren hhsize hsize
 gen welfaredef=tocon_de/(12*hsize)
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfarenat,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfarenom,
 ren hhsize hsize
 gen welfarenom=tocon_nd/(12*hsize)
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfareother,
 gen welfareother=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfareothertype,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfaretype,
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,welfshprosperity,
 gen welfshprosperity=.
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,wgt,
 gen double wgt=wta_hh
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,whours,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q5 hours
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 gen whours=hours*7
 replace whours=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,year,
 gen int year=2009
 local year=2011
mdv_2009_hies_v01_m_v01_a_sarmd,MDV,2009,HIES,v01,v01,yrmove,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,age,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,atschool,
 ren Q10 attending
 gen byte atschool=attending==1
 replace atschool=. if attending==.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,bicycle,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,buffalo,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,cellphone,
 *ren cphone cellphone
 gen cellphone=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,chicken,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,computer,
 gen computer=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,contract,
 gen byte contract=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,countrycode,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,cow,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,cpi,
 ren cpi`year'_w cpi
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,cpiperiod,
 gen cpiperiod=syear
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,ed_mod_age,
 gen byte ed_mod_age=6
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,educat4,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=elevel2
 replace educat7=1 if educy==0
 gen byte educat4=educat7
 replace educat4=1 if educy==0
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,educat5,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=elevel2
 replace educat7=1 if educy==0
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,educat7,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=elevel2
 replace educat7=1 if educy==0
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,educy,
 ren Q9 everattend
 ren Q12 elevel2
 gen byte educy=elevel2
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0 if everattend==0
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,electricity,
 gen byte electricity=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,empstat,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 replace empstat=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,empstat_2,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,empstat_2_year,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,everattend,
 ren Q9 everattend
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,fan,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,firmsize_l,
 gen byte firmsize_l=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,healthins,
 gen byte healthins=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,hsize,
 ren hhsize hsize
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,idh,"
 ren formID hhid
 ren formID hhid
 ren formID hhid
 ren formID hhid
 ren formID hhid
 tostring hhid, gen(idh)"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,idp,"
 ren formID hhid
 ren pNo pid
 ren formID hhid
 ren pNo pid
 ren formID hhid
 ren formID hhid
 ren formID hhid
 ren pNo pid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,industry,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q1 industry
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,industry_2,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,industry_orig_2,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,int_month,
 gen byte int_month=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,int_year,
 gen byte int_year=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,internet,
 gen byte internet= .
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,lamp,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,lb_mod_age,
gen byte lb_mod_age=15
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,literacy,
 ren Q12 elevel2
 gen byte ed_mod_age=6
 gen byte literacy=1 if elevel2!=0
 replace literacy=0 if elevel2==12
 replace literacy=. if age<ed_mod_age
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,lphone,
 *ren cphone cellphone
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,lstatus,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,male,
 foreach var in Male Female Q41 Q42 Q51 Q52 Q53 Q54 Q55 Q56 Q57 Q58 Q59 Q510 Q61 Q62 Q63 Q64 Q65 Q71 Q72 Q81 Q82{
 replace `var'=1 if `var'>0 & `var'!=.
 }
 gen byte male=.
 replace male=1 if Male==1
 replace male=0 if Female==1
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,marital,
 ren Q13 marital
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,motorcar,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,motorcycle,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,njobs,"
 recode otherjob (2=0), gen(njobs)"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,nlfreason,
 ren Q19 nlfreason
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,occup,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,ocusec,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,ownhouse,"
 recode tenureType (1=1)(2 3=0), gen(ownhouse)"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,piped_water,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,pline_nat,
 gen pline_nat=ztot
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,poor_int,
 gen welfare=pcer
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,poor_nat,
 gen welfaredef=pcer
 gen welfarenat=welfaredef
 gen pline_nat=ztot
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,pop_wgt,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,psu,
 gen psu=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,radio,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,rbirth,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,rbirth_juris,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,refrigerator,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,relationcs,"
 ren pNo pid
 ren pNo pid
 ren pNo pid
 gen relation=.
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & pid==""1""
 drop head heads
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,relationharm,"
 ren pNo pid
 ren pNo pid
 ren pNo pid
 gen relation=.
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & pid==""1""
 drop head heads
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,rprevious,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,rprevious_juris,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,sar_improved_toilet,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,sar_improved_water,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,sewage_toilet,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,sewingmachine,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,soc,
 gen byte soc=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,socialsec,
 gen byte socialsec=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,spdef,
 gen spdef=spi
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,strata,
 gen strata=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,subnatid1,"
 destring Region, gen(geo_1)
 *gen byte subnatid1=geo_1"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,subnatid2,"
 destring atollIsland, gen(geo_2)
 gen subnatid2=geo_2"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,subnatid3,
 gen byte subnatid3=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,survey,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,television,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,toilet_jmp,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,toilet_orig,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,unempldur_l,
 gen byte unempldur_l=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,unempldur_u,
 gen byte unempldur_u=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,union,
 gen byte union=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,unitwage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 gen byte unitwage=5
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,unitwage_2,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,urban,"
 destring atollIsland, gen(geo_2)
 gen urban = 2 if geo_2!=.
 replace urban=1 if inlist(geo_2,1001,1002,1003,1004,1005,2010,2112,2215,2312,2407,2510,2602,2704,2802,2904,3003,3105,3204,3308,3411,3508,3602,3710,3801,3902)"
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,veralt,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,vermast,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,wage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 replace empstat=. if lstatus==2 | lstatus==3
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,wage_2,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,washingmachine,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,water_jmp,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,water_orig,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfare,
 gen welfare=pcer
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfaredef,
 gen welfaredef=pcer
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfarenat,
 gen welfaredef=pcer
 gen welfarenat=welfaredef
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfarenom,
 gen welfarenom=pce
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfareother,
 gen welfareother=.
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfareothertype,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfaretype,
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,welfshprosperity,
 gen welfare=pcer
 gen welfshprosperity=welfare
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,wgt,
 bys idh: egen wgt=mean(wght_hh)
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,whours,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q5 hours
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2
 gen whours=hours*7
 replace whours=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,year,
 gen int year=2009
 local year=2011
mdv_2009_hies_v01_m_v02_a_sarmd,MDV,2009,HIES,v01,v02,yrmove,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,age,
 replace age=98 if age>=98 & age!=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,atschool,
 ren Q10 attending
 gen byte atschool=attending==1 if attending!=.
 replace atschool=. if attending==.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,bicycle,
 gen bicycle= numbitBICYCLE>0 if numbitBICYCLE<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,buffalo,
 gen buffalo=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,cellphone,
 gen cellphone=numbitMOBILE_PHONE>0 if numbitMOBILE_PHONE<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,chicken,
 gen chicken=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,computer,
 gen byte computer= numbitCOMPUTER_LAPTOP>0 if numbitCOMPUTER_LAPTOP<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,contract,
 gen byte contract=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,countrycode,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,cow,
 gen cow=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,cpi,
 ren cpi`year'_w cpi
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,cpiperiod,
 gen cpiperiod=syear
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,ed_mod_age,
 gen byte ed_mod_age=6
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,educat4,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=educy
 replace educat7=1 if educy==0
 replace educat7=8 if elevel1==13
 gen byte educat4=educat7
 replace educat4=1 if educy==0
 replace educat4=. if educat7==8
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,educat5,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=educy
 replace educat7=1 if educy==0
 replace educat7=8 if elevel1==13
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,educat7,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=educy
 replace educat7=1 if educy==0
 replace educat7=8 if elevel1==13
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,educy,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0 if everattend==0
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,electricity,
 gen byte electricity=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,empstat,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 replace empstat=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,empstat_2,"
 recode otherjob (2=0), gen(njobs)
 replace empstat_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,empstat_2_year,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,everattend,
 ren Q9 everattend
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,fan,
 gen fan= numbitFAN>0 if numbitFAN<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,firmsize_l,
 gen byte firmsize_l=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,healthins,
 gen byte healthins=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,hsize,
 gen hsize= wght_ind/ wght_hh
 *ren hhsize hsize
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,idh,"
 ren formID hhid
 ren formID hhid
 ren formID hhid
 ren formID hhid
 replace numItemsOld=0 if itemOldYN==""2""
 ren numItemsOld numbit
 ren formID hhid
 reshape wide numbit , i( hhid ) j( des ) string
 ren formID hhid
 tostring hhid, gen(idh)"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,idp,"
 ren formID hhid
 ren pNo pid
 ren formID hhid
 ren pNo pid
 ren formID hhid
 ren formID hhid
 replace numItemsOld=0 if itemOldYN==""2""
 ren numItemsOld numbit
 ren formID hhid
 reshape wide numbit , i( hhid ) j( des ) string
 ren formID hhid
 ren pNo pid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,industry,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q1 industry
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,industry_2,"
 recode otherjob (2=0), gen(njobs)
 gen industry_2=int(Q9/100)
 replace industry_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,industry_orig_2,"
 recode otherjob (2=0), gen(njobs)
 replace industry_orig_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,int_month,
 gen byte int_month=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,int_year,
 gen byte int_year=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,internet,
 gen byte internet= .
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,lamp,
 gen lamp=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,lb_mod_age,
gen byte lb_mod_age=15
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,literacy,
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=6
 gen byte literacy=1 if elevel2!=0
 replace literacy=0 if elevel2==0
 replace literacy=. if age<ed_mod_age
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,lphone,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,lstatus,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,male,
 foreach var in Male Female Q41 Q42 Q51 Q52 Q53 Q54 Q55 Q56 Q57 Q58 Q59 Q510 Q61 Q62 Q63 Q64 Q65 Q71 Q72 Q81 Q82{
 replace `var'=1 if `var'>0 & `var'!=.
 }
 gen byte male=.
 replace male=1 if Male==1
 replace male=0 if Female==1
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,marital,
 ren Q13 marital
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,motorcar,
 gen motorcar= numbitCAR>0 if numbitCAR<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,motorcycle,
 gen motorcycle= numbitMOTORCYCLE>0 if numbitMOTORCYCLE<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,njobs,"
 recode otherjob (2=0), gen(njobs)"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,nlfreason,
 ren Q19 nlfreason
 replace nlfreason=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,occup,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,ocusec,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,ownhouse,"
 recode tenureType (1=1)(2 3=0), gen(ownhouse)"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,piped_water,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,pline_nat,
 gen pline_nat=ztot
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,poor_int,
 gen welfare=pcer
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,poor_nat,
 gen welfaredef=pcer
 gen welfarenat=welfaredef
 gen pline_nat=ztot
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,pop_wgt,
* bys idh: egen wgt=mean(wght_hh)
 gen wgt=wght_hh
 gen hsize= wght_ind/ wght_hh
 *ren hhsize hsize
 gen pop_wgt=wgt*hsize
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,psu,
 gen psu=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,radio,
 gen radio= numbitRADIO>0 if numbitRADIO<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,rbirth,
 gen byte rbirth=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,refrigerator,
 gen refrigerator= numbitFRIDGE>0 if numbitFRIDGE<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,relationcs,"
 ren pNo pid
 ren pNo pid
 ren pNo pid
 gen relation=.
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & pid==""1""
 drop head heads
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,relationharm,"
 ren pNo pid
 ren pNo pid
 ren pNo pid
 gen relation=.
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & pid==""1""
 drop head heads
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,rprevious,
 gen byte rprevious=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,sar_improved_toilet,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,sar_improved_water,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,sewage_toilet,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,sewingmachine,
 gen sewingmachine= numbitSEWING_MACHINE>0 if numbitSEWING_MACHINE<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,soc,
 gen byte soc=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,socialsec,
 gen byte socialsec=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,spdef,
 gen spdef=spi
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,strata,"
 destring Region, gen(geo_1)
 gen strata=geo_1"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,subnatid1,"
 destring Region, gen(geo_1)
 *gen byte subnatid1=geo_1"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,subnatid2,"
 destring atollIsland, gen(geo_2)
 gen subnatid2=geo_2"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,subnatid3,
 gen byte subnatid3=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,survey,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,television,
 gen television= numbitTV>0 if numbitTV<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,toilet_jmp,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,toilet_orig,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,unempldur_l,
 gen byte unempldur_l=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,unempldur_u,
 gen byte unempldur_u=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,union,
 gen byte union=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,unitwage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 gen byte unitwage=5
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,unitwage_2,"
 recode otherjob (2=0), gen(njobs)
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,urban,"
 destring atollIsland, gen(geo_2)
 *gen urban = 2 if geo_2!=.
 *replace urban=1 if inlist(geo_2,1001,1002,1003,1004,1005,2010,2112,2215,2312,2407,2510,2602,2704,2802,2904,3003,3105,3204,3308,3411,3508,3602,3710,3801,3902)
 gen urban=geo_1==8"
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,veralt,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,vermast,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,wage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 replace empstat=. if lstatus==2 | lstatus==3
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,wage_2,"
 recode otherjob (2=0), gen(njobs)
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,washingmachine,
 gen washingmachine= numbitWASHING_MACHINE>0 if numbitWASHING_MACHINE<.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,water_jmp,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,water_orig,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfare,
 gen welfare=pcer
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfaredef,
 gen welfaredef=pcer
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfarenat,
 gen welfaredef=pcer
 gen welfarenat=welfaredef
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfarenom,
 gen welfarenom=pce
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfareother,
 gen welfareother=.
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfareothertype,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfaretype,
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,welfshprosperity,
 gen welfare=pcer
 gen welfshprosperity=welfare
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,wgt,
* bys idh: egen wgt=mean(wght_hh)
 gen wgt=wght_hh
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,whours,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q5 hours
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 gen whours=hours*7
 replace whours=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,year,
 gen int year=2009
 local year=2011
mdv_2009_hies_v01_m_v03_a_sarmd,MDV,2009,HIES,v01,v03,yrmove,
 gen int yrmove=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,age,
 replace age=98 if age>=98 & age!=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,atschool,
 ren Q10 attending
 gen byte atschool=attending==1 if attending!=.
 replace atschool=. if attending==.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,bicycle,
 gen bicycle= numbitBICYCLE>0 if numbitBICYCLE<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,buffalo,
 gen buffalo=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,cellphone,
 gen cellphone=numbitMOBILE_PHONE>0 if numbitMOBILE_PHONE<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,chicken,
 gen chicken=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,computer,
 gen byte computer= numbitCOMPUTER_LAPTOP>0 if numbitCOMPUTER_LAPTOP<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,contract,
 gen byte contract=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,countrycode,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,cow,
 gen cow=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,cpi,
 ren cpi`year'_w cpi
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,cpiperiod,
 gen cpiperiod=syear
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,ed_mod_age,
 gen byte ed_mod_age=6
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,educat4,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=educy
 replace educat7=1 if educy==0
 replace educat7=8 if elevel1==13
 gen byte educat4=educat7
 replace educat4=1 if educy==0
 replace educat4=. if educat7==8
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,educat5,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=educy
 replace educat7=1 if educy==0
 replace educat7=8 if elevel1==13
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,educat7,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=educy
 replace educat7=1 if educy==0
 replace educat7=8 if elevel1==13
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,educy,
 ren Q9 everattend
 ren Q11 elevel1
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte educy=elevel2
 replace educy=educy-1 if elevel1<13
 replace educy=1 if educy<0
 replace educy=0 if everattend==2
 replace educy=. if elevel1==13
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0 if everattend==0
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,electricity,
 gen byte electricity=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,empstat,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 replace empstat=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,empstat_2,"
 recode otherjob (2=0), gen(njobs)
 replace empstat_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,empstat_2_year,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=15
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,everattend,
 ren Q9 everattend
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,fan,
 gen fan= numbitFAN>0 if numbitFAN<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,firmsize_l,
 gen byte firmsize_l=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,healthins,
 gen byte healthins=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,hsize,
 gen hsize= wght_ind/ wght_hh
 *ren hhsize hsize
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,idh,"
 ren formID hhid
 ren formID hhid
 ren formID hhid
 ren formID hhid
 replace numItemsOld=0 if itemOldYN==""2""
 ren numItemsOld numbit
 ren formID hhid
 reshape wide numbit , i( hhid ) j( des ) string
 ren formID hhid
 tostring hhid, gen(idh)"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,idp,"
 ren formID hhid
 ren pNo pid
 ren formID hhid
 ren pNo pid
 ren formID hhid
 ren formID hhid
 replace numItemsOld=0 if itemOldYN==""2""
 ren numItemsOld numbit
 ren formID hhid
 reshape wide numbit , i( hhid ) j( des ) string
 ren formID hhid
 ren pNo pid
 tostring hhid, gen(idh)
 egen idp=concat(idh pid), punct(-)"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,industry,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q1 industry
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 replace industry=int(industry/100)
 replace industry=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,industry_2,"
 recode otherjob (2=0), gen(njobs)
 gen industry_2=int(Q9/100)
 replace industry_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,industry_orig_2,"
 recode otherjob (2=0), gen(njobs)
 replace industry_orig_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,int_month,
 gen byte int_month=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,int_year,
 gen byte int_year=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,internet,
 gen byte internet= .
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,lamp,
 gen lamp=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,lb_mod_age,
gen byte lb_mod_age=15
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,literacy,
 ren Q12 elevel2
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=6
 gen byte literacy=1 if elevel2!=0
 replace literacy=0 if elevel2==0
 replace literacy=. if age<ed_mod_age
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,lphone,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,lstatus,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,male,
 foreach var in Male Female Q41 Q42 Q51 Q52 Q53 Q54 Q55 Q56 Q57 Q58 Q59 Q510 Q61 Q62 Q63 Q64 Q65 Q71 Q72 Q81 Q82{
 replace `var'=1 if `var'>0 & `var'!=.
 }
 gen byte male=.
 replace male=1 if Male==1
 replace male=0 if Female==1
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,marital,
 ren Q13 marital
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,motorcar,
 gen motorcar= numbitCAR>0 if numbitCAR<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,motorcycle,
 gen motorcycle= numbitMOTORCYCLE>0 if numbitMOTORCYCLE<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,njobs,"
 recode otherjob (2=0), gen(njobs)"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,nlfreason,
 ren Q19 nlfreason
 replace nlfreason=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,occup,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,ocusec,
 ren Q2 occupation
 gen byte occup=int(occupation/100)
 replace occup=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,ownhouse,"
 recode tenureType (1=1)(2 3=0), gen(ownhouse)"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,piped_water,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,pline_nat,
 gen pline_nat=ztot
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,poor_int,
 gen welfare=pcer
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,poor_nat,
 gen welfaredef=pcer
 gen welfarenat=welfaredef
 gen pline_nat=ztot
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,pop_wgt,
* bys idh: egen wgt=mean(wght_hh)
 gen wgt=wght_hh
 gen hsize= wght_ind/ wght_hh
 *ren hhsize hsize
 gen pop_wgt=wgt*hsize
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,psu,
 gen psu=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,radio,
 gen radio= numbitRADIO>0 if numbitRADIO<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,rbirth,
 gen byte rbirth=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,refrigerator,
 gen refrigerator= numbitFRIDGE>0 if numbitFRIDGE<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,relationcs,"
 ren pNo pid
 ren pNo pid
 ren pNo pid
 gen relation=.
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & pid==""1""
 drop head heads
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,relationharm,"
 ren pNo pid
 ren pNo pid
 ren pNo pid
 gen relation=.
 bys idh: gen head=relation==1
 bys idh: egen heads=total(head)
 replace relation=1 if heads==0 & pid==""1""
 drop head heads
 gen byte relationcs=relation"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,rprevious,
 gen byte rprevious=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,sar_improved_toilet,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,sar_improved_water,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,sewage_toilet,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,sewingmachine,
 gen sewingmachine= numbitSEWING_MACHINE>0 if numbitSEWING_MACHINE<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,soc,
 gen byte soc=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,socialsec,
 gen byte socialsec=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,spdef,
 gen spdef=spi
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,strata,"
 destring Region, gen(geo_1)
 gen strata=geo_1"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,subnatid1,"
 destring Region, gen(geo_1)
 *gen byte subnatid1=geo_1"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,subnatid2,"
 destring atollIsland, gen(geo_2)
 gen subnatid2=geo_2"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,subnatid3,
 gen byte subnatid3=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,survey,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,television,
 gen television= numbitTV>0 if numbitTV<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,toilet_jmp,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,toilet_orig,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,unempldur_l,
 gen byte unempldur_l=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,unempldur_u,
 gen byte unempldur_u=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,union,
 gen byte union=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,unitwage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 gen byte unitwage=5
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,unitwage_2,"
 recode otherjob (2=0), gen(njobs)
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,urban,"
 destring atollIsland, gen(geo_2)
 *gen urban = 2 if geo_2!=.
 *replace urban=1 if inlist(geo_2,1001,1002,1003,1004,1005,2010,2112,2215,2312,2407,2510,2602,2704,2802,2904,3003,3105,3204,3308,3411,3508,3602,3710,3801,3902)
 gen urban=geo_1==8"
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,veralt,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,vermast,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,wage,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q7 empstat
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 replace empstat=. if lstatus==2 | lstatus==3
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,wage_2,"
 recode otherjob (2=0), gen(njobs)
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,washingmachine,
 gen washingmachine= numbitWASHING_MACHINE>0 if numbitWASHING_MACHINE<.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,water_jmp,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,water_orig,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfare,
 gen welfare=pcer
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfaredef,
 gen welfaredef=pcer
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfarenat,
 gen welfaredef=pcer
 gen welfarenat=welfaredef
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfarenom,
 gen welfarenom=pce
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfareother,
 gen welfareother=.
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfareothertype,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfaretype,
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,welfshprosperity,
 gen welfare=pcer
 gen welfshprosperity=welfare
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,wgt,
* bys idh: egen wgt=mean(wght_hh)
 gen wgt=wght_hh
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,whours,
 ren Q16 activity
 ren Q17 searchforjob
 ren Q18 availability
 ren Q5 hours
 gen byte lstatus=1 if activity==1
 replace lstatus=2 if activity==2 & searchforjob==1
 replace lstatus=3 if activity==2 & searchforjob==2
 replace lstatus=3 if availability==2 & lstatus!=1
 gen whours=hours*7
 replace whours=. if lstatus==2 | lstatus==3
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,year,
 gen int year=2009
 local year=2011
mdv_2009_hies_v01_m_v04_a_sarmd,MDV,2009,HIES,v01,v04,yrmove,
 gen int yrmove=.
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,age,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,atschool,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,bicycle,
 gen byte bicycle=access_Bicycle
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,buffalo,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,cellphone,
 bysort Form_ID: egen cellphone=sum(Q4261)
 replace cellphone=1 if cellphone>1
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,chicken,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,computer,
 gen byte computer=access_Computer
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,contract,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,countrycode,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,cow,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,cpi,
 gen cpi=1.192638
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,cpiperiod,
 *gen cpiperiod=.
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,educat4,
 replace educy=. if educy>30
 gen byte educat7=educy
 gen byte educat4=educat7
 replace educat4=1 if educy==0
 replace educy=0 if everattend==0
 replace educat4=1 if everattend==0
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,educat5,
 replace educy=. if educy>30
 gen byte educat7=educy
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educat5=1 if everattend==0
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,educat7,
 replace educy=. if educy>30
 gen byte educat7=educy
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,educy,
 replace educy=. if educy>30
 replace educy=0 if everattend==0
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,electricity,
 gen byte electricity=hourselectric
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,empstat,
 gen byte lstatus=3
 replace lstatus=1 if Q509==1
 replace lstatus=2 if Q519==1
 gen empstat= Q610
 replace empstat=. if lstatus==2 | lstatus==3
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,empstat_2,
 gen byte lstatus=3
 replace lstatus=1 if Q509==1
 replace lstatus=2 if Q519==1
 gen empstat_2= Q636
 replace empstat_2=. if lstatus==2 | lstatus==3
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,empstat_2_year,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,everattend,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,fan,
 gen byte fan=access_Fan
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,firmsize_l,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,healthins,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,hsize,
 gen hsize=hhsize
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,idh,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,idp,"
 egen idp=concat(idh Id), punct(-)"
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,industry,
 rename Q602 industry_orig
 rename Q628 industry_orig_2
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,industry_2,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,industry_orig_2,
 rename Q628 industry_orig_2
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,int_month,
 gen byte int_month=surveyMonth
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,int_year,
 gen byte int_year=2016
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,internet,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,lamp,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,lb_mod_age,
 gen byte lb_mod_age=15
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,literacy,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,lphone,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,lstatus,
 gen byte lstatus=3
 replace lstatus=1 if Q509==1
 replace lstatus=2 if Q519==1
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,male,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,marital,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,motorcar,
 gen byte motorcar=access_Car
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,motorcycle,
 bysort Form_ID: egen motorcycle=sum(Q4262)
 replace motorcycle=1 if motorcycle>1
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,njobs,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,nlfreason,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,occup,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,ocusec,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,ownhouse,
 gen ownhouse=ownedbyhhmember
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,piped_water,
 rename drinkingwatersource water_orig
 gen piped_water=cookingwatersource
 replace piped_water=1 if water_orig==1
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,pline_int,
 gen pline_int=umicpl/5.50*1.90/12
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,pline_nat,
 gen pline_nat = rpl_2 /12
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,poor_int,
 gen welfare=pce_ts/12
 gen pline_int=umicpl/5.50*1.90/12
 gen poor_int=welfare<pline_int & welfare!=.
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,poor_nat,
 gen welfare=pce_ts/12
 gen pline_nat = rpl_2 /12
 gen poor_nat=(welfare<pline_nat) if welfare!=.
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,pop_wgt,
 gen double wgt=adj_wgt
 gen pop_wgt=wgt*hhsize
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,psu,
 gen psu=.
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,radio,
 gen byte radio=access_Radio
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,rbirth,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,rbirth_juris,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,refrigerator,
 gen byte refrigerator=access_Refrigerator
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,relationcs,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,relationharm,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,rprevious,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,rprevious_juris,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,sar_improved_toilet,"
 rename typeseweragesystem toilet_orig
 gen toilet_jmp=toilet_orig
 gen sar_improved_toilet=.
 replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,4,7,8,11)
 replace sar_improved_toilet=0 if inlist(toilet_jmp,5,6,9,10,12,13)"
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,sar_improved_water,"
 rename drinkingwatersource water_orig
 gen water_jmp=water_orig
 gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
 replace sar_improved_water=0 if inlist(water_jmp,6,8,10,11,12,13,14)"
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,sewage_toilet,
 rename typeseweragesystem toilet_orig
 gen byte sewage_toilet=toilet_orig
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,sewingmachine,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,soc,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,socialsec,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,spdef,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,strata,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,subnatid1,"
 encode Atoll, gen(subnatid1)"
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,subnatid2,"
 encode Atoll_Island, gen(subnatid2)"
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,subnatid3,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,survey,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,television,
 gen byte television=access_TV
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,toilet_jmp,
 rename typeseweragesystem toilet_orig
 gen toilet_jmp=toilet_orig
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,toilet_orig,
 rename typeseweragesystem toilet_orig
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,unempldur_l,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,unempldur_u,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,union,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,unitwage,
 gen byte lstatus=3
 replace lstatus=1 if Q509==1
 replace lstatus=2 if Q519==1
 gen byte unitwage=5
 replace unitwage=. if lstatus==2 | lstatus==3
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,unitwage_2,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,urban,
 gen urban=0
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,veralt,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,vermast,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,wage,
 gen byte lstatus=3
 replace lstatus=1 if Q509==1
 replace lstatus=2 if Q519==1
 gen empstat= Q610
 replace empstat=. if lstatus==2 | lstatus==3
 replace wage=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,wage_2,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,washingmachine,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,water_jmp,
 rename drinkingwatersource water_orig
 gen water_jmp=water_orig
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,water_orig,
 rename drinkingwatersource water_orig
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfare,
 gen welfare=pce_ts/12
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfaredef,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfarenat,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfarenom,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfareother,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfareothertype,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfaretype,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,welfshprosperity,
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,wgt,
 gen double wgt=adj_wgt
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,whours,
 gen byte lstatus=3
 replace lstatus=1 if Q509==1
 replace lstatus=2 if Q519==1
 replace whours=. if lstatus==2 | lstatus==3
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,year,
 gen int year=2016
mdv_2016_hies_v01_m_v01_a_sarmd,MDV,2016,HIES,v01,v01,yrmove,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,age,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,atschool,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,bicycle,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,buffalo,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,cellphone,
 gen cellphone=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,chicken,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,computer,
 gen computer=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,contract,
 gen byte contract=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,countrycode,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,cow,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,cpi,
 ren cpi`year'_w cpi
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,cpiperiod,
 gen cpiperiod=syear
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,ed_mod_age,
 gen ed_mod_age=5
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,educat4,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
 replace educy=. if age<5
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<5
 replace educat7=3 if educy==5
 replace educat7=4 if educy>=6 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen everattend=.
 replace everattend=1 if educat4>=2 & educat4<=4
 replace everattend=0 if educat4==1
 replace everattend=1 if atschool==1
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat4=1 if everattend==0
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,educat5,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
 replace educy=. if age<5
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<5
 replace educat7=3 if educy==5
 replace educat7=4 if educy>=6 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<5
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen everattend=.
 replace everattend=1 if educat4>=2 & educat4<=4
 replace everattend=0 if educat4==1
 replace everattend=1 if atschool==1
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
 replace educat5=1 if everattend==0
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,educat7,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
 replace educy=. if age<5
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<5
 replace educat7=3 if educy==5
 replace educat7=4 if educy>=6 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen everattend=.
 replace everattend=1 if educat4>=2 & educat4<=4
 replace everattend=0 if educat4==1
 replace everattend=1 if atschool==1
 replace educy=0 if everattend==0
 replace educat7=1 if everattend==0
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,educy,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
 replace educy=. if age<5
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<5
 replace educat7=3 if educy==5
 replace educat7=4 if educy>=6 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen everattend=.
 replace everattend=1 if educat4>=2 & educat4<=4
 replace everattend=0 if educat4==1
 replace everattend=1 if atschool==1
 replace educy=0 if everattend==0
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,electricity,
 gen electricity=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,empstat,
 replace empstat=. if lstatus!=1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,empstat_2,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,empstat_2_year,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,everattend,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
 replace educy=. if age<5
 gen educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<5
 replace educat7=3 if educy==5
 replace educat7=4 if educy>=6 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 replace educat7=. if age<5
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen everattend=.
 replace everattend=1 if educat4>=2 & educat4<=4
 replace everattend=0 if educat4==1
 replace everattend=1 if atschool==1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,fan,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,firmsize_l,
 gen byte firmsize_l=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,healthins,
 gen byte healthins=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,hsize,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 gen hsize=c1_hhsize
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,idh,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,idp,"
 egen idp=concat(idh a INDID), format(%15.0f)"
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,industry,
 replace industry=. if lstatus!=1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,industry_2,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,industry_orig_2,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,int_month,
 gen int_month=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,int_year,
 gen byte int_year=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,internet,
 gen internet=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,lamp,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,lb_mod_age,
 gen lb_mod_age=5
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,literacy,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,lphone,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,lstatus,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,male,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,marital,
 gen marital=.
 replace marital=1 if MARSTAT==2
 replace marital=2 if MARSTAT==4 | MARSTAT==5
 replace marital= 3 if MARSTAT==6
 replace marital=4 if MARSTAT==1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,motorcar,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,motorcycle,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,njobs,
 gen byte njobs=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,nlfreason,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace age=98 if age>=98 & age<.
 replace nlfreason=. if lstatus!=3
 replace nlfreason=. if age<5
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,occup,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace occup=. if lstatus!=1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,ocusec,
 gen ocusec=.
 replace ocusec=. if lstatus!=1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,ownhouse,
 gen ownhouse=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,piped_water,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,pline_nat,
 gen pline_nat=c1_nompln/12
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,poor_int,
 gen welfare=pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,poor_nat,
 gen welfaredef=(c1_npcexp/12)
 gen pline_nat=c1_nompln/12
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,pop_wgt,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,psu,
 gen psu=real(PSU)
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,radio,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,rbirth,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,rbirth_juris,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,refrigerator,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,relationcs,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,relationharm,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,rprevious,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,rprevious_juris,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,sar_improved_toilet,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,sar_improved_water,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,sewage_toilet,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,sewingmachine,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,soc,
 rename S00_ETHN soc
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,socialsec,
 gen byte socialsec=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,spdef,
 gen spdef=c1_pindex
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,strata,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,subnatid1,"
 gen subnatid1=region
 egen rrr=mean(subnatid1), by(idh)
 replace subnatid1=rrr if subnatid1==."
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,subnatid2,"
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 gen byte subnatid2=district
 egen rr=mean(subnatid2), by(idh)
 replace subnatid2=rr if subnatid2==."
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,survey,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,television,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,toilet_jmp,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,toilet_orig,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,unempldur_l,
 gen byte unempldur_l= .
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,unempldur_u,
 gen byte unempldur_u= .
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,union,
 gen byte union=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,unitwage,
 gen unitwage=.
 replace unitwage=. if lstatus!=1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,unitwage_2,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,urban,"
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 egen p=mean(urban), by(idh)
 replace urban=p if urban==."
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,veralt,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,vermast,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,wage,
 drop weight WWW district urbrural belt region stratum group c1_totlpop phase team DEMOGRAPHICS c1_hhsize c1_nkids06 c1_nkids715 c1_nelderly c1_namen c1_nawomen c1_skids06 c1_skids715 c1_samen c1_sawomen c1_selderly c1_nkids06T c1_hhsizeT c1_depratio1 c1_depratio2 c1_depratio3 HOUSEHOLD_HEAD r1_IDC c1_ethnic_hhead c1_educ_hhead c1_type_hhead c1_occup_hhead PRICE_INDEXES c1_fpi_ret_95 c1_fpi_ret_03 c1_nfpi_ret_95 c1_nfpi_ret_03 c1_pi_ret_95 c1_pi_ret_03 c1_fpindex c1_nfpindex c1_ra_pindex c1_pi_nepal95 c1_pi_nepal03 c1_av03_to_av95 POVERTY_LINES c1_nomfpln c1_nomnfpln c1_nompln c1_95nompln c1_95nomfpln c1_95nomnfpln EXPENDITURE c1_totcons c1_hhrent c1_food c1_nfood c1_tobacco c1_fuel c1_educatn c1_consdur c1_garbage c1_electric c1_telephon c1_totnfood c1_hproduct c1_inkind c1_nfooditm c1_npcexp c1_npcfexp c1_npcnfexp c1_npcrentexp c1_sfood c1_stobacco c1_snfood c1_seducatn c1_sconsdur c1_shhrent c1_stelephon c1_rexp c1_rfexp c1_rrentexp c1_rpcexp c1_rpcfexp c1_rpcnfexp c1_rpcrentexp WELFARE_INDICATORS c1_nwdecile c1_nwquint c1_rdecile c1_rquint c1_rurexp_quint c1_poor c1_inc_poor DURABLES c1_durbl_yn501 c1_durbl_yn502 c1_durbl_yn503 c1_durbl_yn504 c1_durbl_yn505 c1_durbl_yn506 c1_durbl_yn507 c1_durbl_yn508 c1_durbl_yn509 c1_durbl_yn510 c1_durbl_yn511 c1_durbl_yn512 c1_durbl_yn513 c1_durbl_yn514 c1_durbl_yn515 c1_durbl_yn516 ADEQUACY r1_subpres_idc r1_subpfood r1_subphous r1_subpclth r1_subpheal r1_subpschl r1_subpincm r1_enohfood INCOME c1_hhtotinc c1_npctotinc c1_r95pctotinc c1_r95pcfarminc c1_r95pcwageinc c1_r95pcremitinc c1_r95pcentrpinc c1_r95pcpropinc c1_r95pchousinc c1_r95pcothinc c1_farminc_shr c1_wageinc_shr c1_agwageinc_shr c1_nagwageinc_shr c1_entrpinc_shr c1_propinc_shr c1_remitinc_shr c1_housinc_shr c1_othinc_shr c1_nofarminc c1_nowageinc c1_noagwageinc c1_nonagwageinc c1_noentrpinc c1_nopropinc c1_noremitinc c1_nohousinc c1_noothinc c1_rpcinc_quintile c1_rpcinc_quartile OUTLIERS incoutlier0 incoutlier1 incoutlier2 expoutlier0 constant REAL_ALLNEPAL size sfexp fexp basefexp_95 basefexp_03 c1_ra_pcexp c1_ra_pcinc c1_ra95_pcexp c1_ra95_pcinc c1_ra95pc_totinc c1_ra95pc_farminc c1_ra95pc_wageinc c1_ra95pc_remitinc c1_ra95pc_entrpinc c1_ra95pc_propinc c1_ra95pc_housinc c1_ra95pc_othinc r1_sex r1_age nworking nworkmen nworkwom ndep nindep
 replace empstat=. if lstatus!=1
 replace wage=. if lstatus!=1
 replace wage=0 if empstat==2
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,wage_2,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,washingmachine,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,water_jmp,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,water_orig,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfare,
 gen welfare=pcexp/12
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfaredef,
 gen welfaredef=(c1_npcexp/12)
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfarenat,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfarenom,
 gen welfarenom=pcexp/12
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfareother,
 gen welfareother=.
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfareothertype,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfaretype,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,welfshprosperity,
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,wgt,
 gen wgt=weight
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,whours,
 gen whours=.
 replace whours=. if lstatus!=1
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,year,
 gen year=1995
 local year=2011
npl_1995_lss-i_v01_m_v01_a_sarmd,NPL,1995,LSS-I,v01,v01,yrmove,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,age,
 gen byte age=r1_age
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,atschool,
 gen byte atschool=.
 replace atschool=1 if r1_educbckr==3
 replace atschool=0 if r1_educbckr==2 | r1_educbckr==1
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,bicycle,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,buffalo,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,cellphone,
 *ren cphone cellphone
 gen cellphone=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,chicken,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,computer,
 gen computer=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,contract,
 gen byte contract=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,countrycode,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,cow,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,cpi,
 ren cpi`year'_w cpi
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,cpiperiod,
 gen cpiperiod=syear
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,educy,
 gen inter_edlevel = r1_attendcls
 replace inter_edlevel = r1_edlevcmpl if inter_edlevel == .
 replace inter_edlevel = 0 if r1_educbckr == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if r1_educbckr ==3
 replace inter_edlevel = 10 if inter_edlevel ==11 & r1_educbckr ==2
 gen byte educy= inter_edlevel
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,electricity,
 gen byte electricity=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,empstat,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode>=1 & r1_occupcode<100
 replace lstatus=3 if r1_occupcode==97
 replace lstatus=3 if r1_occupcode==98
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_avwr==2
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen byte empstat=.
 replace empstat=1 if r1_wgemplagr==1 | r1_wgemplnag==1
 replace empstat=4 if r1_slemplagr==1 | r1_slemplnag==1
 *replace empstat=3 if EMPTYPE_MAIN==2
 *replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,empstat_2,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,empstat_2_year,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,everattend,
 gen byte everattend=.
 replace everattend=0 if r1_educbckr==1
 replace everattend=1 if r1_educbckr==2 | r1_educbckr==3
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,fan,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,firmsize_l,
 gen byte firmsize_l=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,healthins,
 gen byte healthins=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,hsize,
 ren c1_hhsize c1_hhsize_
 gen hsize=c1_hhsize
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,idh,"
 tostring WWWHH, gen(idh)"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,idp,"
 tostring WWWHH, gen(idh)
 egen str idp=concat(idh r1_IDC), punct(-)"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,industry,"
 ren _merge mergeag
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode>=1 & r1_occupcode<100
 replace lstatus=3 if r1_occupcode==97
 replace lstatus=3 if r1_occupcode==98
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_avwr==2
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 recode r1_nagacnsic (11/13=1) (21/24=2) (31/39=3) (41/42=4) (51/58=5) (61/63=6) (71/72=7) (81/83=8) (91=9) (0 92/99=10) , gen(industry)
 replace industry=1 if mergeag==3
 replace industry=. if lstatus==2| lstatus==3
 gen occup=r1_occupcode
 replace occup=. if r1_occupcode==97 | r1_occupcode==98
 replace occup=99 if occup >10 & occup!=.
 replace occup=. if lstatus==2| lstatus==3
 replace industry=1 if occup==6 & lstatus==1"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,industry_2,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,industry_orig_2,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,int_month,
 gen int_month=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,int_year,
 gen byte int_year=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,internet,
 gen byte internet= .
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,lamp,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,lb_mod_age,
gen byte lb_mod_age=5
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,literacy,
 foreach x in activities unemp literacy pastenroll currenroll{
 merge 1:1 WWWHH r1_IDC using ``x''
 drop if _merge==2
 drop _merge
 }
 gen byte literacy=.
 replace literacy=1 if r1_canread==1 & r1_canwrite==1
 replace literacy=0 if r1_canread==2 | r1_canwrite==2
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,lphone,
 *ren cphone cellphone
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode>=1 & r1_occupcode<100
 replace lstatus=3 if r1_occupcode==97
 replace lstatus=3 if r1_occupcode==98
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_avwr==2
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,male,
 gen byte male=r1_sex
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,marital,"
 recode r1_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,motorcar,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,motorcycle,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,njobs,
 gen byte njobs=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,nlfreason,
 gen byte nlfreason=.
 replace nlfreason=1 if r1_undm_whnt==1
 replace nlfreason=2 if r1_undm_whnt==2
 replace nlfreason=3 if r1_undm_whnt==3
 replace nlfreason=5 if r1_undm_whnt==4 | r1_undm_whnt==12
 replace nlfreason=4 if r1_undm_whnt==5
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,occup,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode>=1 & r1_occupcode<100
 replace lstatus=3 if r1_occupcode==97
 replace lstatus=3 if r1_occupcode==98
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_avwr==2
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen occup=r1_occupcode
 replace occup=. if r1_occupcode==97 | r1_occupcode==98
 replace occup=99 if occup >10 & occup!=.
 replace occup=. if lstatus==2| lstatus==3
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,ocusec,
 gen byte ocusec=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,ownhouse,
 gen ownhouse=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,piped_water,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,pline_nat,
 gen pline_nat=c1_nompln/12
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,poor_int,
 gen welfare=c1_ra_pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,poor_nat,
 gen welfarenat=c1_npcexp/12
 gen pline_nat=c1_nompln/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,pop_wgt,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,psu,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,radio,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,rbirth,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,rbirth_juris,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,refrigerator,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,relationcs,
 gen byte relationcs=r1_relation
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,relationharm,
 gen byte relationharm=r1_relation
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,rprevious,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,rprevious_juris,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,sar_improved_toilet,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,sar_improved_water,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,sewage_toilet,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,sewingmachine,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,soc,
 *gen byte soc=r1_ethncity
 gen soc=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,socialsec,
 gen byte socialsec=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,spdef,
 gen spdef=c1_pindex
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,strata,
 gen strata=stratum
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,subnatid1,"
 gen subnatid1=region
 egen rrr=mean(subnatid1), by(idh)
 replace subnatid1=rrr if subnatid1==."
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,subnatid2,"
 foreach x in activities unemp literacy pastenroll currenroll{
 merge 1:1 WWWHH r1_IDC using ``x''
 drop if _merge==2
 drop _merge
 }
 gen byte subnatid2=district
 egen rr=mean(subnatid2), by(idh)
 replace subnatid2=rr if subnatid2==."
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,subnatid3,
 gen byte subnatid3=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,survey,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,television,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,toilet_jmp,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,toilet_orig,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,unempldur_l,
 gen byte unempldur_l=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,unempldur_u,
 gen byte unempldur_u=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,union,
 gen byte union=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,unitwage,
 gen byte unitwage=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,unitwage_2,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,urban,
 gen urban=urbrural
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,veralt,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,vermast,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,wage,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode>=1 & r1_occupcode<100
 replace lstatus=3 if r1_occupcode==97
 replace lstatus=3 if r1_occupcode==98
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_avwr==2
 replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen byte empstat=.
 replace empstat=1 if r1_wgemplagr==1 | r1_wgemplnag==1
 replace empstat=4 if r1_slemplagr==1 | r1_slemplnag==1
 *replace empstat=3 if EMPTYPE_MAIN==2
 *replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
 gen wage=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus==2 | lstatus==3
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,wage_2,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,washingmachine,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,water_jmp,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,water_orig,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfare,
 gen welfare=c1_ra_pcexp/12
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfaredef,
 gen welfaredef=c1_ra_pcexp/12
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfarenat,
 gen welfarenat=c1_npcexp/12
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfarenom,
 gen welfarenom=c1_npcexp/12
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfareother,
 gen welfareother=.
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfareothertype,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfaretype,
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,welfshprosperity,
 gen welfare=c1_ra_pcexp/12
 gen welfshprosperity=welfare
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,wgt,
 gen wgt=weight
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,whours,
 gen whours=r1_7hrperday*r1_7dayswork
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,year,
 gen int year=1995
 local year=2011
npl_1995_lss-i_v01_m_v02_a_sarmd,NPL,1995,LSS-I,v01,v02,yrmove,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,age,
 gen byte age=r1_age
 replace age=98 if age>=98
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,atschool,
 gen byte atschool=.
 replace atschool=1 if r1_educbckr==3
 replace atschool=0 if r1_educbckr==2 | r1_educbckr==1
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,bicycle,
 gen bicycle=r1_durbl_nm503>0 & r1_durbl_nm503<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,buffalo,
 gen buffalo=r1_lvstownno2>0 & r1_lvstownno2<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,cellphone,
 gen cellphone=r1_durbl_nm512>0 & r1_durbl_nm512<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,chicken,
 gen chicken=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,computer,
 gen byte computer=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,contract,
 gen byte contract=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,countrycode,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,cow,
 gen cow=r1_lvstownno1>0 & r1_lvstownno1<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,cpi,
 ren cpi`year'_w cpi
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,cpiperiod,
 gen cpiperiod=syear
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 replace educat7=8 if r1_attendcls==16 | r1_edlevcmpl==16
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 replace educat7=8 if r1_attendcls==16 | r1_edlevcmpl==16
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 replace educat7=8 if r1_attendcls==16 | r1_edlevcmpl==16"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,educy,
 gen inter_edlevel = r1_attendcls
 replace inter_edlevel = r1_edlevcmpl if inter_edlevel == .
 replace inter_edlevel = 0 if r1_educbckr == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if r1_educbckr ==3
 gen byte educy= inter_edlevel
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,electricity,
 gen byte electricity=r1_lightsrs
 replace electricity=0 if electricity!=1
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,empstat,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen byte empstat=.
 replace empstat=1 if r1_wgemplagr1==1 | r1_wgemplnag1==1
 replace empstat=4 if r1_slemplagr1==1 | r1_slemplnag1==1
 *replace empstat=3 if EMPTYPE_MAIN==2
 *replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,empstat_2,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 gen byte lstatus2=.
 replace lstatus2=1 if r1_occupcode2>=1 & r1_occupcode2<100
 replace lstatus2=3 if r1_occupcode2==97
 replace lstatus2=3 if r1_occupcode2==98
 replace lstatus2=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus2=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen byte empstat_2=.
 replace empstat_2=1 if r1_wgemplagr2==1 | r1_wgemplnag2==1
 replace empstat_2=4 if r1_slemplagr2==1 | r1_slemplnag2==1
 *replace empstat_2=3 if EMPTYPE_MAIN==2
 *replace empstat_2=4 if EMPTYPE_MAIN==3
 replace empstat_2=. if lstatus2==2 | lstatus2==3
 replace empstat_2=. if njobs==0 | njobs==.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,empstat_2_year,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 gen byte lstatus2=.
 replace lstatus2=1 if r1_occupcode2>=1 & r1_occupcode2<100
 replace lstatus2=3 if r1_occupcode2==97
 replace lstatus2=3 if r1_occupcode2==98
 replace lstatus2=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus2=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen byte empstat_2=.
 replace empstat_2=1 if r1_wgemplagr2==1 | r1_wgemplnag2==1
 replace empstat_2=4 if r1_slemplagr2==1 | r1_slemplnag2==1
 *replace empstat_2=3 if EMPTYPE_MAIN==2
 *replace empstat_2=4 if EMPTYPE_MAIN==3
 replace empstat_2=. if lstatus2==2 | lstatus2==3
 replace empstat_2=. if njobs==0 | njobs==.
 gen byte empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year2!=1
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,everattend,
 gen byte everattend=.
 replace everattend=0 if r1_educbckr==1
 replace everattend=1 if r1_educbckr==2 | r1_educbckr==3
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,fan,
 gen fan=r1_durbl_nm508>0 & r1_durbl_nm508<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,firmsize_l,
 gen byte firmsize_l=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,healthins,
 gen byte healthins=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,hsize,
 ren c1_hhsize c1_hhsize_
 gen z=1
 bys idh:egen hsize=sum(z)
* gen hsize=c1_hhsize
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,idh,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r1_activcode r1_occupdesc r1_occupcode r1_12moswrkt r1_12daypmwr r1_12hourdwr r1_7dayswork r1_7hrperday r1_workinVDC r1_wrkindstr r1_wrkinurru r1_wgemplagr r1_wgemplnag r1_slemplagr r1_slemplnag r1_na30salar r1_na30trnsp r1_na12bonus r1_na12cloth r1_na12other r1_nataxdedc r1_naprovdfn r1_napension r1_namedcare r1_namumbwrk r1_nacntrtpm r1_agpyycash r1_agpyyink1 r1_agpyyink2 r1_agpyinkvl r1_agpyinkvt r1_aglbloane r1_agothrmem r1_agsharecr r1_agtlivest r1_nagactvit r1_nagacnsco r1_nagindust r1_nagacnsic r1_pcertbasi r1_pddaibasi r1_napdycash r1_napdyink1 r1_napdyink2 r1_napdinkvl r1_napdinkvt mergenonag r1_agactivit r1_agactnsco r1_agactpcra r1_agactpdda r1_agpdycash r1_agpdyink1 r1_agpdyink2 r1_agpdinkvl r1_agpdinkvt mergeag, i(WWWHH r1_IDC) j(aux)
 reshape wide r1_durbl_nm, i( WWWHH) j( r1_durcode)
 reshape wide r1_lvstownno, i( WWWHH) j( r1_lvestcode)
 tostring WWWHH, gen(idh)"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,idp,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r1_activcode r1_occupdesc r1_occupcode r1_12moswrkt r1_12daypmwr r1_12hourdwr r1_7dayswork r1_7hrperday r1_workinVDC r1_wrkindstr r1_wrkinurru r1_wgemplagr r1_wgemplnag r1_slemplagr r1_slemplnag r1_na30salar r1_na30trnsp r1_na12bonus r1_na12cloth r1_na12other r1_nataxdedc r1_naprovdfn r1_napension r1_namedcare r1_namumbwrk r1_nacntrtpm r1_agpyycash r1_agpyyink1 r1_agpyyink2 r1_agpyinkvl r1_agpyinkvt r1_aglbloane r1_agothrmem r1_agsharecr r1_agtlivest r1_nagactvit r1_nagacnsco r1_nagindust r1_nagacnsic r1_pcertbasi r1_pddaibasi r1_napdycash r1_napdyink1 r1_napdyink2 r1_napdinkvl r1_napdinkvt mergenonag r1_agactivit r1_agactnsco r1_agactpcra r1_agactpdda r1_agpdycash r1_agpdyink1 r1_agpdyink2 r1_agpdinkvl r1_agpdinkvt mergeag, i(WWWHH r1_IDC) j(aux)
 reshape wide r1_durbl_nm, i( WWWHH) j( r1_durcode)
 reshape wide r1_lvstownno, i( WWWHH) j( r1_lvestcode)
 tostring WWWHH, gen(idh)
 egen str idp=concat(idh r1_IDC), punct(-)"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,industry,"
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen industry=.
 *recode r1_nagacnsic1 (11/13=1) (21/24=2) (31/39=3) (41/42=4) (51/58=5) (61/63=6) (71/72=7) (81/83=8) (91=9) (0 92/99=10) , gen(industry)
 *replace industry=1 if mergeag1==3
 replace industry=. if lstatus==2| lstatus==3"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,industry_2,"
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 gen byte lstatus2=.
 replace lstatus2=1 if r1_occupcode2>=1 & r1_occupcode2<100
 replace lstatus2=3 if r1_occupcode2==97
 replace lstatus2=3 if r1_occupcode2==98
 replace lstatus2=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus2=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen industry_2=.
 *recode r1_nagacnsic2 (11/13=1) (21/24=2) (31/39=3) (41/42=4) (51/58=5) (61/63=6) (71/72=7) (81/83=8) (91=9) (0 92/99=10) , gen(industry_2)
 *replace industry_2=1 if mergeag2==3
 *replace industry_2=. if lstatus2==2| lstatus2==3
 *replace industry_2=. if njobs==0 | njobs==."
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,industry_orig_2,"
 egen aux=seq(), by( WWWHH r1_IDC)
 egen njobs_aux=count( aux), by( WWWHH r1_IDC)
 ren njobs_aux njobs
 reshape wide r1_activcode r1_occupdesc r1_occupcode r1_12moswrkt r1_12daypmwr r1_12hourdwr r1_7dayswork r1_7hrperday r1_workinVDC r1_wrkindstr r1_wrkinurru r1_wgemplagr r1_wgemplnag r1_slemplagr r1_slemplnag r1_na30salar r1_na30trnsp r1_na12bonus r1_na12cloth r1_na12other r1_nataxdedc r1_naprovdfn r1_napension r1_namedcare r1_namumbwrk r1_nacntrtpm r1_agpyycash r1_agpyyink1 r1_agpyyink2 r1_agpyinkvl r1_agpyinkvt r1_aglbloane r1_agothrmem r1_agsharecr r1_agtlivest r1_nagactvit r1_nagacnsco r1_nagindust r1_nagacnsic r1_pcertbasi r1_pddaibasi r1_napdycash r1_napdyink1 r1_napdyink2 r1_napdinkvl r1_napdinkvt mergenonag r1_agactivit r1_agactnsco r1_agactpcra r1_agactpdda r1_agpdycash r1_agpdyink1 r1_agpdyink2 r1_agpdinkvl r1_agpdinkvt mergeag, i(WWWHH r1_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 gen byte lstatus2=.
 replace lstatus2=1 if r1_occupcode2>=1 & r1_occupcode2<100
 replace lstatus2=3 if r1_occupcode2==97
 replace lstatus2=3 if r1_occupcode2==98
 replace lstatus2=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus2=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 *replace njobs=. if lstatus!=1
 gen industry_orig_2=.
 *gen industry_orig_2=r1_nagacnsic2
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,int_month,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,int_year,
 gen byte int_year=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,internet,
 gen byte internet= .
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,lamp,
 gen lamp=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,lb_mod_age,
gen byte lb_mod_age=5
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,literacy,
 foreach x in activities unemp literacy pastenroll currenroll{
 merge 1:1 WWWHH r1_IDC using ``x''
 drop if _merge==2
 drop _merge
 }
 gen byte literacy=.
 replace literacy=1 if r1_canread==1 & r1_canwrite==1
 replace literacy=0 if r1_canread==2 | r1_canwrite==2
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,lphone,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,male,
 gen byte male=r1_sex
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,marital,"
 recode r1_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,motorcar,
 gen motorcar=r1_durbl_nm505>0 & r1_durbl_nm505<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,motorcycle,
 gen motorcycle=r1_durbl_nm504>0 & r1_durbl_nm504<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,njobs,"
 egen aux=seq(), by( WWWHH r1_IDC)
 egen njobs_aux=count( aux), by( WWWHH r1_IDC)
 ren njobs_aux njobs
 reshape wide r1_activcode r1_occupdesc r1_occupcode r1_12moswrkt r1_12daypmwr r1_12hourdwr r1_7dayswork r1_7hrperday r1_workinVDC r1_wrkindstr r1_wrkinurru r1_wgemplagr r1_wgemplnag r1_slemplagr r1_slemplnag r1_na30salar r1_na30trnsp r1_na12bonus r1_na12cloth r1_na12other r1_nataxdedc r1_naprovdfn r1_napension r1_namedcare r1_namumbwrk r1_nacntrtpm r1_agpyycash r1_agpyyink1 r1_agpyyink2 r1_agpyinkvl r1_agpyinkvt r1_aglbloane r1_agothrmem r1_agsharecr r1_agtlivest r1_nagactvit r1_nagacnsco r1_nagindust r1_nagacnsic r1_pcertbasi r1_pddaibasi r1_napdycash r1_napdyink1 r1_napdyink2 r1_napdinkvl r1_napdinkvt mergenonag r1_agactivit r1_agactnsco r1_agactpcra r1_agactpdda r1_agpdycash r1_agpdyink1 r1_agpdyink2 r1_agpdinkvl r1_agpdinkvt mergeag, i(WWWHH r1_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 *replace njobs=. if lstatus!=1"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,nlfreason,
 gen byte nlfreason=.
 replace nlfreason=1 if r1_undm_whnt==1
 replace nlfreason=2 if r1_undm_whnt==2
 replace nlfreason=3 if r1_undm_whnt==3
 replace nlfreason=5 if r1_undm_whnt==4 | r1_undm_whnt==12
 replace nlfreason=4 if r1_undm_whnt==5
 replace nlfreason=. if nlfreason!=3
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,occup,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen occup=r1_occupcode1
 replace occup=. if r1_occupcode1==97 | r1_occupcode1==98
 replace occup=99 if occup >10 & occup!=.
 replace occup=. if lstatus==2| lstatus==3
 replace occup=. if lstatus==2| lstatus2==3
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,ocusec,
 gen byte ocusec=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,ownhouse,
 gen ownhouse= r1_dwelowned
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,piped_water,
gen piped_water=.
replace piped_water=1 if r1_watersour==1 & r1_watersour!=.
replace piped_water=0 if piped_water==.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,pline_nat,
 gen pline_nat=c1_nompln/12
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,poor_int,
 gen welfare=c1_ra_pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,poor_nat,
 gen welfarenat=c1_npcexp/12
 gen pline_nat=c1_nompln/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,pop_wgt,
 ren c1_hhsize c1_hhsize_
 gen wgt=weight
 gen z=1
 bys idh:egen hsize=sum(z)
 drop wgt
 gen wgt=popwt/hsize
* gen hsize=c1_hhsize
 gen pop_wgt=wgt*hsize
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,psu,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,radio,
 gen radio=r1_durbl_nm501>0 & r1_durbl_nm501<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,rbirth,
 gen byte rbirth=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,refrigerator,
 gen refrigerator=r1_durbl_nm506>0 & r1_durbl_nm506<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,relationcs,
 gen byte relationcs=r1_relation
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,relationharm,
 gen byte relationharm=r1_relation
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,rprevious,
 gen byte rprevious=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(r1_toilettyp,1,2)
replace sar_improved_toilet=0 if inlist(r1_toilettyp,3,4,5)"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(r1_watersour,1,2)
replace sar_improved_water=0 if inlist(r1_watersour,3,4)"
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,sewage_toilet,
gen sewage_toilet=r1_toilettyp
replace sewage_toilet=0 if sewage_toilet!=1
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,sewingmachine,
 gen sewingmachine=r1_durbl_nm513>0 & r1_durbl_nm513<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,soc,
 *gen byte soc=r1_ethncity
 gen soc=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,socialsec,
 gen byte socialsec=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,spdef,
 gen spdef=c1_pindex
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,strata,
 gen strata=stratum
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,subnatid1,
 gen byte subnatid1=district
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,subnatid2,
 gen byte subnatid2=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,subnatid3,
 gen byte subnatid3=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,survey,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,television,
 gen television=r1_durbl_nm510>0 & r1_durbl_nm510<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,toilet_jmp,
gen toilet_jmp=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,toilet_orig,
gen toilet_orig=r1_toilettyp
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,unempldur_l,
 gen byte unempldur_l=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,unempldur_u,
 gen byte unempldur_u=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,union,
 gen byte union=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,unitwage,
 gen byte unitwage=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,unitwage_2,"
 egen aux=seq(), by( WWWHH r1_IDC)
 egen njobs_aux=count( aux), by( WWWHH r1_IDC)
 ren njobs_aux njobs
 reshape wide r1_activcode r1_occupdesc r1_occupcode r1_12moswrkt r1_12daypmwr r1_12hourdwr r1_7dayswork r1_7hrperday r1_workinVDC r1_wrkindstr r1_wrkinurru r1_wgemplagr r1_wgemplnag r1_slemplagr r1_slemplnag r1_na30salar r1_na30trnsp r1_na12bonus r1_na12cloth r1_na12other r1_nataxdedc r1_naprovdfn r1_napension r1_namedcare r1_namumbwrk r1_nacntrtpm r1_agpyycash r1_agpyyink1 r1_agpyyink2 r1_agpyinkvl r1_agpyinkvt r1_aglbloane r1_agothrmem r1_agsharecr r1_agtlivest r1_nagactvit r1_nagacnsco r1_nagindust r1_nagacnsic r1_pcertbasi r1_pddaibasi r1_napdycash r1_napdyink1 r1_napdyink2 r1_napdinkvl r1_napdinkvt mergenonag r1_agactivit r1_agactnsco r1_agactpcra r1_agactpdda r1_agpdycash r1_agpdyink1 r1_agpdyink2 r1_agpdinkvl r1_agpdinkvt mergeag, i(WWWHH r1_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 *replace njobs=. if lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,urban,
 gen urban=urbrural
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,veralt,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,vermast,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,wage,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen byte empstat=.
 replace empstat=1 if r1_wgemplagr1==1 | r1_wgemplnag1==1
 replace empstat=4 if r1_slemplagr1==1 | r1_slemplnag1==1
 *replace empstat=3 if EMPTYPE_MAIN==2
 *replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
 gen wage=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus==2 | lstatus==3
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,wage_2,"
 egen aux=seq(), by( WWWHH r1_IDC)
 egen njobs_aux=count( aux), by( WWWHH r1_IDC)
 ren njobs_aux njobs
 reshape wide r1_activcode r1_occupdesc r1_occupcode r1_12moswrkt r1_12daypmwr r1_12hourdwr r1_7dayswork r1_7hrperday r1_workinVDC r1_wrkindstr r1_wrkinurru r1_wgemplagr r1_wgemplnag r1_slemplagr r1_slemplnag r1_na30salar r1_na30trnsp r1_na12bonus r1_na12cloth r1_na12other r1_nataxdedc r1_naprovdfn r1_napension r1_namedcare r1_namumbwrk r1_nacntrtpm r1_agpyycash r1_agpyyink1 r1_agpyyink2 r1_agpyinkvl r1_agpyinkvt r1_aglbloane r1_agothrmem r1_agsharecr r1_agtlivest r1_nagactvit r1_nagacnsco r1_nagindust r1_nagacnsic r1_pcertbasi r1_pddaibasi r1_napdycash r1_napdyink1 r1_napdyink2 r1_napdinkvl r1_napdinkvt mergenonag r1_agactivit r1_agactnsco r1_agactpcra r1_agactpdda r1_agpdycash r1_agpdyink1 r1_agpdyink2 r1_agpdinkvl r1_agpdinkvt mergeag, i(WWWHH r1_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 *replace njobs=. if lstatus!=1
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,washingmachine,
 gen washingmachine=r1_durbl_nm507>0 & r1_durbl_nm507<.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,water_jmp,
gen water_jmp=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,water_orig,
gen water_orig=r1_watersour
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfare,
 gen welfare=c1_ra_pcexp/12
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfaredef,
 gen welfaredef=c1_ra_pcexp/12
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfarenat,
 gen welfarenat=c1_npcexp/12
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfarenom,
 gen welfarenom=c1_npcexp/12
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfareother,
 gen welfareother=.
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfareothertype,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfaretype,
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,welfshprosperity,
 gen welfare=c1_ra_pcexp/12
 gen welfshprosperity=welfare
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,wgt,
 ren c1_hhsize c1_hhsize_
 gen wgt=weight
 gen z=1
 bys idh:egen hsize=sum(z)
 drop wgt
 gen wgt=popwt/hsize
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,whours,
 gen byte lstatus=.
 replace lstatus=1 if r1_occupcode1>=1 & r1_occupcode1<100
 replace lstatus=3 if r1_occupcode1==97
 replace lstatus=3 if r1_occupcode1==98
 replace lstatus=2 if r1_undm_lkwr==1 & lstatus!=1
 replace lstatus=3 if r1_undm_lkwr==2
 *replace lstatus=2 if r1_undm_avwr==1 & r1_undm_lkwr==2
 gen whours=r1_7hrperday1*r1_7dayswork1
 replace whours=. if lstatus!=1
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,year,
 gen int year=1995
 local year=2011
npl_1995_lss-i_v01_m_v03_a_sarmd,NPL,1995,LSS-I,v01,v03,yrmove,
 gen int yrmove=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,age,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,atschool,
 gen byte atschool=.
 replace atschool=1 if V07A_05==3
 replace atschool=0 if V07A_05==2 | V07A_05==1
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,bicycle,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,buffalo,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,cellphone,
 gen byte cellphone= V02C2_11B
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,chicken,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,computer,
 gen byte computer=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,contract,
 gen byte contract=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,countrycode,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,cow,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,cpi,
 ren cpi`year'_w cpi
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,cpiperiod,
 gen cpiperiod=syear
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,ed_mod_age,
 gen byte ed_mod_age=5
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,educy,
 gen inter_edlevel = V07C_02
 replace inter_edlevel = V07B_02 if inter_edlevel == .
 replace inter_edlevel = 0 if V07A_05 == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if V07A_05 ==3
 replace inter_edlevel = 10 if inter_edlevel ==11 & V07A_05 ==2
 gen byte educy= inter_edlevel
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,electricity,
 gen byte electricity=.
 replace electricity=1 if V02C2_08==1
 replace electricity=0 if V02C2_08==3
 replace electricity=0 if V02C2_08==2
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,empstat,
 gen byte lstatus=.
 replace lstatus=1 if EMP_STAT==1
 replace lstatus=2 if EMP_STAT==2
 replace lstatus=3 if EMP_STAT==3
 replace lstatus=3 if EMP_STAT==4
 gen byte empstat=.
 replace empstat=1 if EMPTYPE_MAIN==1
 replace empstat=2 if EMPTYPE_MAIN==4
 replace empstat=3 if EMPTYPE_MAIN==2
 replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,empstat_2,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,empstat_2_year,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,everattend,
 gen byte everattend=.
 replace everattend=0 if V07A_05==1
 replace everattend=1 if V07A_05==2 | V07A_05==3
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,fan,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,firmsize_l,
 gen byte firmsize_l=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,healthins,
 gen byte healthins=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,hsize,"
 ren c2_hhsize c2_hhsize_
 egen byte idp=concat(idh a INDID), format(%10.0f)
 gen T_T=1 if idp!="" ""
 egen hsize=count(T_T), by(idh)"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,idh,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,idp,"
 egen byte idp=concat(idh a INDID), format(%10.0f)"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,industry,
 gen byte lstatus=.
 replace lstatus=1 if EMP_STAT==1
 replace lstatus=2 if EMP_STAT==2
 replace lstatus=3 if EMP_STAT==3
 replace lstatus=3 if EMP_STAT==4
 replace industry=. if lstatus==2| lstatus==3
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,industry_2,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,industry_orig_2,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,int_month,
 gen int_month=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,int_year,
 gen byte int_year=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,internet,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,lamp,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,lb_mod_age,
 gen byte lb_mod_age=5
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,literacy,
 gen byte literacy=.
 replace literacy=1 if V07A_02==1 & V07A_03==1
 replace literacy=0 if V07A_02==2 | V07A_03==2
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,lphone,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if EMP_STAT==1
 replace lstatus=2 if EMP_STAT==2
 replace lstatus=3 if EMP_STAT==3
 replace lstatus=3 if EMP_STAT==4
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,male,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,marital,"
 recode V01A_06 (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,motorcar,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,motorcycle,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,njobs,
 gen byte njobs=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,nlfreason,
 gen byte nlfreason=.
 replace nlfreason=1 if WHYINACTIVE==1
 replace nlfreason=2 if WHYINACTIVE==2
 replace nlfreason=3 if WHYINACTIVE==3
 replace nlfreason=5 if WHYINACTIVE==4 | WHYINACTIVE==12
 replace nlfreason=4 if WHYINACTIVE==5
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,occup,
 gen byte lstatus=.
 replace lstatus=1 if EMP_STAT==1
 replace lstatus=2 if EMP_STAT==2
 replace lstatus=3 if EMP_STAT==3
 replace lstatus=3 if EMP_STAT==4
 replace occup=. if lstatus==2| lstatus==3
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,ocusec,
 gen byte ocusec=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,ownhouse,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,piped_water,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,pline_nat,
 gen pline_nat=c2_nompln/12
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,poor_int,
 gen welfare=pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,poor_nat,
 gen welfaredef=c2_npcexp/12
 gen pline_nat=c2_nompln/12
 gen poor_nat=welfaredef<pline_nat if welfaredef!=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,pop_wgt,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,psu,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,radio,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,rbirth,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,rbirth_juris,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,refrigerator,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,relationcs,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,relationharm,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,rprevious,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,rprevious_juris,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,sar_improved_toilet,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,sar_improved_water,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,sewage_toilet,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,sewingmachine,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,soc,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,socialsec,
 gen byte socialsec=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,spdef,
 gen spdef=c2_pindex
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,strata,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,subnatid1,
 gen byte subnatid1=region
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,subnatid2,
 gen byte subnatid2=district
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,survey,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,television,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,toilet_jmp,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,toilet_orig,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,unempldur_l,
 gen byte unempldur_l=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,unempldur_u,
 gen byte unempldur_u=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,union,
 gen byte union=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,unitwage,
 gen byte unitwage=.
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,unitwage_2,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,urban,
 gen urban=urbrural
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,veralt,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,vermast,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,wage,
 gen byte lstatus=.
 replace lstatus=1 if EMP_STAT==1
 replace lstatus=2 if EMP_STAT==2
 replace lstatus=3 if EMP_STAT==3
 replace lstatus=3 if EMP_STAT==4
 gen byte empstat=.
 replace empstat=1 if EMPTYPE_MAIN==1
 replace empstat=2 if EMPTYPE_MAIN==4
 replace empstat=3 if EMPTYPE_MAIN==2
 replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
 replace wage=0 if empstat==2
 replace wage=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,wage_2,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,washingmachine,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,water_jmp,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,water_orig,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfare,
 gen welfare=pcexp/12
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfaredef,
 gen welfaredef=c2_npcexp/12
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfarenat,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfarenom,"
 ren c2_hhsize c2_hhsize_
 egen byte idp=concat(idh a INDID), format(%10.0f)
 gen T_T=1 if idp!="" ""
 egen hsize=count(T_T), by(idh)
 gen welfarenom=c2_totcons/(hsize*12)"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfareother,"
 ren c2_hhsize c2_hhsize_
 egen byte idp=concat(idh a INDID), format(%10.0f)
 gen T_T=1 if idp!="" ""
 egen hsize=count(T_T), by(idh)
 gen welfareother=(c2_hhtotinc)/(hsize*12)
 xtile percentiles=welfareother [w=wgt], nq(200)
 replace welfareother=. if percentiles==200
 replace welfareother=. if welfareother<0"
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfareothertype,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfaretype,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,welfshprosperity,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,wgt,
 gen double wgt=weight
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,whours,
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,year,
 gen year=2003
 local year=2011
npl_2003_lss-ii_v01_m_v01_a_sarmd,NPL,2003,LSS-II,v01,v01,yrmove,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,age,
 gen byte age=r2_age
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,atschool,
 gen byte atschool=.
 replace atschool=1 if r2_educbckr==3
 replace atschool=0 if r2_educbckr==2 | r2_educbckr==1
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,bicycle,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,buffalo,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,cellphone,
 gen byte cellphone= r2_teleph_mb
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,chicken,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,computer,
 gen byte computer=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,contract,
 gen byte contract=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,countrycode,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,cow,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,cpi,
 ren cpi`year'_w cpi
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,cpiperiod,
 gen cpiperiod=syear
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,ed_mod_age,
 gen byte ed_mod_age=5
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,educy,
 gen inter_edlevel = r2_attendcls
 replace inter_edlevel = r2_edlevcmpl if inter_edlevel == .
 replace inter_edlevel = 0 if r2_educbckr == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if r2_educbckr ==3
 replace inter_edlevel = 10 if inter_edlevel ==11 & r2_educbckr ==2
 gen byte educy= inter_edlevel
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,electricity,
 gen byte electricity=.
 replace electricity=1 if r2_lightsrs==1
 replace electricity=0 if r2_lightsrs==3
 replace electricity=0 if r2_lightsrs==2
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,empstat,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode>=1 & r2_occupcode<990
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_avwkr==2
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode==998
 replace lstatus=3 if r2_occupcode==997
 gen byte empstat=.
 replace empstat=1 if r2_wgemplagr==1 | r2_wgemplnag==1
 replace empstat=4 if r2_slemplagr==1 | r2_slemplnag==1
 *replace empstat=3 if EMPTYPE_MAIN==2
 *replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,empstat_2,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,empstat_2_year,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,everattend,
 gen byte everattend=.
 replace everattend=0 if r2_educbckr==1
 replace everattend=1 if r2_educbckr==2 | r2_educbckr==3
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,fan,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,firmsize_l,
 gen byte firmsize_l=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,healthins,
 gen byte healthins=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,hsize,
 ren c2_hhsize c2_hhsize_
 gen byte hsize=c2_hhsize_
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,idh,"
 tostring WWWHH, gen(idh)"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,idp,"
 tostring WWWHH, gen(idh)
 egen str idp=concat(idh r2_IDC), punct(-)"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,industry,"
 ren _merge mergeag
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode>=1 & r2_occupcode<990
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_avwkr==2
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode==998
 replace lstatus=3 if r2_occupcode==997
 recode r2_nagacnsic (1/5=1) (10/14=2) (15/36=3) (37/41=4) (45=5) (50/55=6) (60/64=7) (65/74=8) (75=9) (80/99=10) , gen(industry)
 replace industry=1 if mergeag==3
 replace industry=. if lstatus==2| lstatus==3
 gen occup=int(r2_occupcode/100)
 replace occup=. if r2_occupcode==997 | r2_occupcode==998 | r2_occupcode==999
 replace occup=10 if r2_occupcode==11
 replace occup=. if lstatus==2| lstatus==3
 replace industry=1 if occup==6 & lstatus==1"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,industry_2,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,industry_orig_2,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,int_month,
 gen int_month=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,int_year,
 gen byte int_year=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,internet,
 gen byte internet=r2_internet
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,lamp,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,lb_mod_age,
gen byte lb_mod_age=5
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,literacy,
 foreach x in activities unemp literacy pastenroll currenroll{
 merge 1:1 WWWHH r2_IDC using ``x''
 drop if _merge==2
 drop _merge
 }
 gen byte literacy=.
 replace literacy=1 if r2_canread==1 & r2_canwrite==1
 replace literacy=0 if r2_canread==2 | r2_canwrite==2
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,lphone,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode>=1 & r2_occupcode<990
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_avwkr==2
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode==998
 replace lstatus=3 if r2_occupcode==997
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,male,
 gen byte male=r2_sex
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,marital,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,motorcar,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,motorcycle,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,njobs,
 gen byte njobs=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,nlfreason,
 gen byte nlfreason=.
 replace nlfreason=1 if r2_unm_whynt==1
 replace nlfreason=2 if r2_unm_whynt==2
 replace nlfreason=3 if r2_unm_whynt==3
 replace nlfreason=5 if r2_unm_whynt==4 | r2_unm_whynt==12
 replace nlfreason=4 if r2_unm_whynt==5
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,occup,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode>=1 & r2_occupcode<990
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_avwkr==2
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode==998
 replace lstatus=3 if r2_occupcode==997
 gen occup=int(r2_occupcode/100)
 replace occup=. if r2_occupcode==997 | r2_occupcode==998 | r2_occupcode==999
 replace occup=10 if r2_occupcode==11
 replace occup=. if lstatus==2| lstatus==3
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,ocusec,
 gen byte ocusec=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,ownhouse,
 gen byte ownhouse=r2_dwelowned
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,piped_water,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,pline_nat,
 gen pline_nat=c2_nompln/12
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,poor_int,
 gen welfare=c2_ra_pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,poor_nat,
 gen welfarenat=c2_npcexp/12
 gen pline_nat=c2_nompln/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,pop_wgt,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,psu,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,radio,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,rbirth,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,rbirth_juris,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,refrigerator,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,relationcs,
 gen byte relationcs=r2_relation
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,relationharm,
 gen byte relationharm=r2_relation
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=1 if r2_relation==2 & heads==0
 drop head heads
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=5 if r2_relation==1 & heads>1 & heads!=. & r2_IDC!=1
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,rprevious,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,rprevious_juris,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,sar_improved_toilet,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,sar_improved_water,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,sewage_toilet,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,sewingmachine,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,soc,
 gen byte soc=r2_ethncity
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,socialsec,
 gen byte socialsec=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,spdef,
 gen spdef=c2_pindex
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,strata,
 gen strata=stratum
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,subnatid1,
 gen byte subnatid1=region
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,subnatid2,
 gen byte subnatid2=district
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,subnatid3,
 gen byte subnatid3=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,survey,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,television,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,toilet_jmp,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,toilet_orig,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,unempldur_l,
 gen byte unempldur_l=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,unempldur_u,
 gen byte unempldur_u=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,union,
 gen byte union=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,unitwage,
 gen byte unitwage=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,unitwage_2,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,urban,
 gen urban=urbrural
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,veralt,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,vermast,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,wage,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode>=1 & r2_occupcode<990
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_avwkr==2
 replace lstatus=2 if r2_unm_avwkr==1 & r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode==998
 replace lstatus=3 if r2_occupcode==997
 gen byte empstat=.
 replace empstat=1 if r2_wgemplagr==1 | r2_wgemplnag==1
 replace empstat=4 if r2_slemplagr==1 | r2_slemplnag==1
 *replace empstat=3 if EMPTYPE_MAIN==2
 *replace empstat=4 if EMPTYPE_MAIN==3
 replace empstat=. if lstatus==2 | lstatus==3
 gen wage=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,wage_2,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,washingmachine,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,water_jmp,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,water_orig,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfare,
 gen welfare=c2_ra_pcexp/12
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfaredef,
 gen welfaredef=c2_ra_pcexp/12
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfarenat,
 gen welfarenat=c2_npcexp/12
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfarenom,
 gen welfarenom=c2_npcexp/12
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfareother,
 gen welfareother=.
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfareothertype,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfaretype,
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,welfshprosperity,
 gen welfare=c2_ra_pcexp/12
 gen welfshprosperity=welfare
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,wgt,
 gen double wgt=weight
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,whours,
 gen whours=r2_7hrperwek
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,year,
 gen int year=2003
 local year=2011
npl_2003_lss-ii_v01_m_v02_a_sarmd,NPL,2003,LSS-II,v01,v02,yrmove,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,age,
 gen byte age=r2_age
 replace age=98 if age>=98
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,atschool,
 gen byte atschool=.
 replace atschool=1 if r2_educbckr==3
 replace atschool=0 if r2_educbckr==2 | r2_educbckr==1
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,bicycle,
 gen bicycle=r2_durbl_ynbicycle503==1 if r2_durbl_ynbicycle503!=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,buffalo,
 gen buffalo=r2_lvstyesno2==1 if r2_lvstyesno2!=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,cellphone,
 gen cellphone=r2_teleph_mb
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,chicken,
 gen chicken=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,computer,
 gen chicken=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,contract,
 gen byte contract=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,countrycode,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,cow,
 gen cow=r2_lvstyesno1==1 if r2_lvstyesno1!=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,cpi,
 ren cpi`year'_w cpi
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,cpiperiod,
 gen cpiperiod=syear
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,ed_mod_age,
 gen byte ed_mod_age=5
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,educy,
 gen inter_edlevel = r2_attendcls
 replace inter_edlevel = r2_edlevcmpl if inter_edlevel == .
 replace inter_edlevel = 0 if r2_educbckr == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if r2_educbckr ==3
 gen byte educy= inter_edlevel
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,electricity,
 gen byte electricity=.
 replace electricity=1 if r2_lightsrs==1
 replace electricity=0 if r2_lightsrs==3
 replace electricity=0 if r2_lightsrs==2
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,empstat,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte empstat=.
 replace empstat=1 if r2_wgemplagr1==1 | r2_wgemplnag1==1
 replace empstat=4 if r2_slemplagr1==1 | r2_slemplnag1==1
 replace empstat=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,empstat_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if r2_wgemplagr2==1 | r2_wgemplnag2==1
 replace empstat_2=4 if r2_slemplagr2==1 | r2_slemplnag2==1
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,empstat_2_year,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if r2_wgemplagr2==1 | r2_wgemplnag2==1
 replace empstat_2=4 if r2_slemplagr2==1 | r2_slemplnag2==1
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,everattend,
 gen byte everattend=.
 replace everattend=0 if r2_educbckr==1
 replace everattend=1 if r2_educbckr==2 | r2_educbckr==3
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,fan,
 gen fan=r2_durbl_ynfans508==1 if r2_durbl_ynfans508!=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,firmsize_l,
 gen byte firmsize_l=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,healthins,
 gen byte healthins=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,hsize,
 ren c2_hhsize c2_hhsize_
 gen byte hsize=c2_hhsize_
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,idh,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 reshape wide r2_durbl_yn, i( WWWHH ) j( itc2 ) string
 reshape wide r2_lvstyesno, i( WWWHH ) j( r2_lvestcode )
 tostring WWWHH, gen(idh)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,idp,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 reshape wide r2_durbl_yn, i( WWWHH ) j( itc2 ) string
 reshape wide r2_lvstyesno, i( WWWHH ) j( r2_lvestcode )
 tostring WWWHH, gen(idh)
 egen str idp=concat(idh r2_IDC), punct(-)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,industry,"
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *recode r2_nagacnsic1 (1/5=1) (10/14=2) (15/36=3) (37/41=4) (45=5) (50/55=6) (60/64=7) (65/74=8) (75=9) (80/99=10) , gen(industry)
 *replace industry=1 if mergeag1==3
 gen industry=.
 replace industry=. if lstatus==2| lstatus==3
 gen occup=int(r2_occupcode1/100)
 replace occup=. if r2_occupcode1==997 | r2_occupcode1==998 | r2_occupcode1==999
 replace occup=10 if r2_occupcode1==11
 replace occup=. if lstatus==2| lstatus==3
 *replace industry=1 if occup==6 & lstatus==1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,industry_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 *recode r2_nagacnsic2 (1/5=1) (10/14=2) (15/36=3) (37/41=4) (45=5) (50/55=6) (60/64=7) (65/74=8) (75=9) (80/99=10) , gen(industry_2)
 gen industry_2=.
 *replace industry_2=1 if mergeag2==3
 replace industry_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,industry_orig_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 *gen industry_orig_2=r2_nagacnsic2
 *replace industry_orig_2=1 if mergeag2==3
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,int_month,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,int_year,
 gen byte int_year=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,internet,
 gen byte internet=r2_internet
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,lamp,
 gen lamp=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,lb_mod_age,
gen byte lb_mod_age=5
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,literacy,
 foreach x in activities unemp literacy pastenroll currenroll{
 merge 1:1 WWWHH r2_IDC using ``x''
 drop if _merge==2
 drop _merge
 }
 gen byte literacy=.
 replace literacy=1 if r2_canread==1 & r2_canwrite==1
 replace literacy=0 if r2_canread==2 | r2_canwrite==2
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,lphone,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,male,
 gen byte male=r2_sex
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,marital,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,motorcar,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,motorcycle,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,njobs,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte nlfreason=.
 replace nlfreason=1 if r2_unm_whynt==1
 replace nlfreason=2 if r2_unm_whynt==2
 replace nlfreason=3 if r2_unm_whynt==3
 replace nlfreason=5 if r2_unm_whynt==4 | r2_unm_whynt==12
 replace nlfreason=4 if r2_unm_whynt==5
 replace nlfreason=. if lstatus!=3
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,occup,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen occup=int(r2_occupcode1/100)
 replace occup=. if r2_occupcode1==997 | r2_occupcode1==998 | r2_occupcode1==999
 replace occup=10 if r2_occupcode1==11
 replace occup=. if lstatus==2| lstatus==3
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,ocusec,
 gen byte ocusec=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,ownhouse,
 gen byte ownhouse=r2_dwelowned
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,piped_water,
gen piped_water=.
replace piped_water=1 if r2_watersour==1 & r2_watersour!=.
replace piped_water=0 if piped_water==.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,pline_nat,
 gen pline_nat=c2_nompln/12
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,poor_int,
 gen welfare=c2_ra_pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,poor_nat,
 gen welfarenat=c2_npcexp/12
 gen pline_nat=c2_nompln/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,pop_wgt,
 ren c2_hhsize c2_hhsize_
 gen double wgt=weight
 gen byte hsize=c2_hhsize_
 gen pop_wgt=wgt*hsize
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,psu,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,radio,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,rbirth,
 gen byte rbirth=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,refrigerator,
 gen byte rbirth_juris=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,relationcs,
 gen byte relationcs=r2_relation
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,relationharm,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 gen byte relationharm=r2_relation
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=5 if r2_relation==1 & heads>1 & heads!=. & r2_IDC!=1"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,rprevious,
 gen byte rprevious=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(r2_toilettyp,1,2)
replace sar_improved_toilet=0 if inlist(r2_toilettyp,3,4,5)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(r2_watersour,1,2)
replace sar_improved_water=0 if inlist(r2_watersour,3,4)"
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,sewage_toilet,
gen sewage_toilet=r2_toilettyp
replace sewage_toilet=0 if sewage_toilet!=1
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,sewingmachine,
gen sewage_toilet=r2_toilettyp
replace sewage_toilet=0 if sewage_toilet!=1
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,soc,
 gen byte soc=r2_ethncity
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,socialsec,
 gen byte socialsec=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,spdef,
 gen spdef=c2_pindex
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,strata,
 gen strata=stratum
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,subnatid1,
 gen byte subnatid1=district
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,subnatid2,
 gen byte subnatid2=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,subnatid3,
 gen byte subnatid3=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,survey,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,television,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,toilet_jmp,
gen toilet_jmp=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,toilet_orig,
gen toilet_orig=r2_toilettyp
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,unempldur_l,
 gen byte unempldur_l=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,unempldur_u,
 gen byte unempldur_u=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,union,
 gen byte union=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,unitwage,
 gen byte unitwage=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,unitwage_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,urban,
 gen urban=urbrural
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,veralt,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,vermast,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,wage,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte empstat=.
 replace empstat=1 if r2_wgemplagr1==1 | r2_wgemplnag1==1
 replace empstat=4 if r2_slemplagr1==1 | r2_slemplnag1==1
 replace empstat=. if lstatus==2 | lstatus==3
 gen wage=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,wage_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,washingmachine,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,water_jmp,
gen water_jmp=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,water_orig,
gen water_orig=r2_watersour
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfare,
 gen welfare=c2_ra_pcexp/12
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfaredef,
 gen welfaredef=c2_ra_pcexp/12
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfarenat,
 gen welfarenat=c2_npcexp/12
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfarenom,
 gen welfarenom=c2_npcexp/12
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfareother,
 gen welfareother=.
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfareothertype,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfaretype,
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,welfshprosperity,
 gen welfare=c2_ra_pcexp/12
 gen welfshprosperity=welfare
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,wgt,
 gen double wgt=weight
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,whours,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen whours=r2_7hrperwek1
 replace whours=. if lstatus!=1
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,year,
 gen int year=2003
 local year=2011
npl_2003_lss-ii_v01_m_v03_a_sarmd,NPL,2003,LSS-II,v01,v03,yrmove,
 gen int yrmove=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,age,
 gen byte age=r2_age
 replace age=98 if age>=98
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,atschool,
 gen byte atschool=.
 replace atschool=1 if r2_educbckr==3
 replace atschool=0 if r2_educbckr==2 | r2_educbckr==1
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,bicycle,
 gen bicycle=r2_durbl_ynbicycle503==1 if r2_durbl_ynbicycle503!=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,buffalo,
 gen buffalo=r2_lvstyesno2==1 if r2_lvstyesno2!=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,cellphone,
 gen cellphone=r2_teleph_mb
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,chicken,
 gen chicken=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,computer,
 gen chicken=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,contract,
 gen byte contract=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,countrycode,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,cow,
 gen cow=r2_lvstyesno1==1 if r2_lvstyesno1!=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,cpi,
 ren cpi`year'_w cpi
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,cpiperiod,
 gen cpiperiod=syear
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,ed_mod_age,
 gen byte ed_mod_age=5
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,educy,
 gen inter_edlevel = r2_attendcls
 replace inter_edlevel = r2_edlevcmpl if inter_edlevel == .
 replace inter_edlevel = 0 if r2_educbckr == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if r2_educbckr ==3
 gen byte educy= inter_edlevel
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,electricity,
 gen byte electricity=.
 replace electricity=1 if r2_lightsrs==1
 replace electricity=0 if r2_lightsrs==3
 replace electricity=0 if r2_lightsrs==2
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,empstat,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte empstat=.
 replace empstat=1 if r2_wgemplagr1==1 | r2_wgemplnag1==1
 replace empstat=4 if r2_slemplagr1==1 | r2_slemplnag1==1
 replace empstat=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,empstat_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if r2_wgemplagr2==1 | r2_wgemplnag2==1
 replace empstat_2=4 if r2_slemplagr2==1 | r2_slemplnag2==1
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,empstat_2_year,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=1 if r2_wgemplagr2==1 | r2_wgemplnag2==1
 replace empstat_2=4 if r2_slemplagr2==1 | r2_slemplnag2==1
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,everattend,
 gen byte everattend=.
 replace everattend=0 if r2_educbckr==1
 replace everattend=1 if r2_educbckr==2 | r2_educbckr==3
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,fan,
 gen fan=r2_durbl_ynfans508==1 if r2_durbl_ynfans508!=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,firmsize_l,
 gen byte firmsize_l=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,healthins,
 gen byte healthins=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,hsize,
 ren c2_hhsize c2_hhsize_
 gen byte hsize=c2_hhsize_
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,idh,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 reshape wide r2_durbl_yn, i( WWWHH ) j( itc2 ) string
 reshape wide r2_lvstyesno, i( WWWHH ) j( r2_lvestcode )
 tostring WWWHH, gen(idh)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,idp,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 reshape wide r2_durbl_yn, i( WWWHH ) j( itc2 ) string
 reshape wide r2_lvstyesno, i( WWWHH ) j( r2_lvestcode )
 tostring WWWHH, gen(idh)
 egen str idp=concat(idh r2_IDC), punct(-)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,industry,"
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *recode r2_nagacnsic1 (1/5=1) (10/14=2) (15/36=3) (37/41=4) (45=5) (50/55=6) (60/64=7) (65/74=8) (75=9) (80/99=10) , gen(industry)
 *replace industry=1 if mergeag1==3
 gen industry=.
 replace industry=. if lstatus==2| lstatus==3
 gen occup=int(r2_occupcode1/100)
 replace occup=. if r2_occupcode1==997 | r2_occupcode1==998 | r2_occupcode1==999
 replace occup=10 if r2_occupcode1==11
 replace occup=. if lstatus==2| lstatus==3
 *replace industry=1 if occup==6 & lstatus==1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,industry_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 *recode r2_nagacnsic2 (1/5=1) (10/14=2) (15/36=3) (37/41=4) (45=5) (50/55=6) (60/64=7) (65/74=8) (75=9) (80/99=10) , gen(industry_2)
 gen industry_2=.
 *replace industry_2=1 if mergeag2==3
 replace industry_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,industry_orig_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte lstatus2=.
 replace lstatus2=1 if r2_occupcode2>=1 & r2_occupcode2<990
 replace lstatus2=2 if r2_unm_lkwkr==1
 replace lstatus2=3 if r2_unm_lkwkr==2
 replace lstatus2=3 if r2_occupcode2==998
 replace lstatus2=3 if r2_occupcode2==997
 *replace njobs=. if lstatus!=1
 *gen industry_orig_2=r2_nagacnsic2
 *replace industry_orig_2=1 if mergeag2==3
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,int_month,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,int_year,
 gen byte int_year=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,internet,
 gen byte internet=r2_internet
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,lamp,
 gen lamp=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,lb_mod_age,
gen byte lb_mod_age=5
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,literacy,
 foreach x in activities unemp literacy pastenroll currenroll{
 merge 1:1 WWWHH r2_IDC using ``x''
 drop if _merge==2
 drop _merge
 }
 gen byte literacy=.
 replace literacy=1 if r2_canread==1 & r2_canwrite==1
 replace literacy=0 if r2_canread==2 | r2_canwrite==2
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,lphone,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,male,
 gen byte male=r2_sex
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,marital,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,motorcar,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,motorcycle,"
 recode r2_martstats (2 3 =4) (5=2) (4=5) , gen(marital)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,njobs,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,nlfreason,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte nlfreason=.
 replace nlfreason=1 if r2_unm_whynt==1
 replace nlfreason=2 if r2_unm_whynt==2
 replace nlfreason=3 if r2_unm_whynt==3
 replace nlfreason=5 if r2_unm_whynt==4 | r2_unm_whynt==12
 replace nlfreason=4 if r2_unm_whynt==5
 replace nlfreason=. if lstatus!=3
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,occup,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen occup=int(r2_occupcode1/100)
 replace occup=. if r2_occupcode1==997 | r2_occupcode1==998 | r2_occupcode1==999
 replace occup=10 if r2_occupcode1==11
 replace occup=. if lstatus==2| lstatus==3
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,ocusec,
 gen byte ocusec=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,ownhouse,
 gen byte ownhouse=r2_dwelowned
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,piped_water,
gen piped_water=.
replace piped_water=1 if r2_watersour==1 & r2_watersour!=.
replace piped_water=0 if piped_water==.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,pline_nat,
 gen pline_nat=c2_nompln/12
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,poor_int,
 gen welfare=c2_ra_pcexp/12
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,poor_nat,
 gen welfarenat=c2_npcexp/12
 gen pline_nat=c2_nompln/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,pop_wgt,
 ren c2_hhsize c2_hhsize_
 gen double wgt=weight
 gen byte hsize=c2_hhsize_
 gen pop_wgt=wgt*hsize
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,psu,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,radio,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,rbirth,
 gen byte rbirth=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,refrigerator,
 gen byte rbirth_juris=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,relationcs,
 gen byte relationcs=r2_relation
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,relationharm,"
 ren _merge mergenonag
 ren _merge mergeag
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 gen byte relationharm=r2_relation
 gen head=relationharm==1
 bys idh: egen heads=total(head)
 replace relationharm=5 if r2_relation==1 & heads>1 & heads!=. & r2_IDC!=1"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,rprevious,
 gen byte rprevious=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(r2_toilettyp,1,2)
replace sar_improved_toilet=0 if inlist(r2_toilettyp,3,4,5)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(r2_watersour,1,2)
replace sar_improved_water=0 if inlist(r2_watersour,3,4)"
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,sewage_toilet,
gen sewage_toilet=r2_toilettyp
replace sewage_toilet=0 if sewage_toilet!=1
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,sewingmachine,
gen sewage_toilet=r2_toilettyp
replace sewage_toilet=0 if sewage_toilet!=1
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,soc,
 gen byte soc=r2_ethncity
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,socialsec,
 gen byte socialsec=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,spdef,
 gen spdef=c2_pindex
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,strata,
 gen strata=stratum
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,subnatid1,
 gen byte subnatid1=district
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,subnatid2,
 gen byte subnatid2=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,subnatid3,
 gen byte subnatid3=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,survey,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,television,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,toilet_jmp,
gen toilet_jmp=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,toilet_orig,
gen toilet_orig=r2_toilettyp
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,unempldur_l,
 gen byte unempldur_l=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,unempldur_u,
 gen byte unempldur_u=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,union,
 gen byte union=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,unitwage,
 gen byte unitwage=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,unitwage_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==."
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,urban,
 gen urban=urbrural
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,veralt,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,vermast,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,wage,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen byte empstat=.
 replace empstat=1 if r2_wgemplagr1==1 | r2_wgemplnag1==1
 replace empstat=4 if r2_slemplagr1==1 | r2_slemplnag1==1
 replace empstat=. if lstatus==2 | lstatus==3
 gen wage=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus==2 | lstatus==3
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,wage_2,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,washingmachine,"
 egen aux=seq(), by( WWWHH r2_IDC)
 egen njobs_aux=count( aux), by( WWWHH r2_IDC)
 ren njobs_aux njobs
 reshape wide r2_activcode r2_occupdesc r2_occupcode r2_12moswrkt r2_12daypmwr r2_12hourdwr r2_7dayswork r2_7hrperday r2_7hrperwek r2_workinVDC r2_wrkindstr r2_wrkinurru r2_wgemplagr r2_wgemplnag r2_slemplagr r2_slemplnag r2_extecnwrk r2_na30salar r2_na30trnsp r2_na12bonus r2_na12cloth r2_na12other r2_nataxdedc r2_naprovdfn r2_napension r2_namedcare r2_nanumbwrk r2_nacntrtpm r2_agpyycash r2_agpyyink1 r2_agpyyink2 r2_agpyinkvl r2_agpyinkvt r2_aglbloane r2_agothrmem r2_agsharecr r2_agtlivest r2_agcntrtpm r2_nagactvit r2_nagacnsco r2_nagindust r2_nagacnsic r2_nagactpym r2_napdycash r2_napdyink1 r2_napdyink2 r2_napdinkvl r2_napdinkvt mergenonag r2_agactivit r2_agactnsco r2_agactpaym r2_agpdycash r2_agpdyink1 r2_agpdyink2 r2_agpdinkvl r2_agpdinkvt mergeag, i(WWWHH r2_IDC) j(aux)
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 *replace njobs=. if lstatus!=1
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==."
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,water_jmp,
gen water_jmp=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,water_orig,
gen water_orig=r2_watersour
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfare,
 gen welfare=c2_ra_pcexp/12
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfaredef,
 gen welfaredef=c2_ra_pcexp/12
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfarenat,
 gen welfarenat=c2_npcexp/12
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfarenom,
 gen welfarenom=c2_npcexp/12
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfareother,
 gen welfareother=.
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfareothertype,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfaretype,
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,welfshprosperity,
 gen welfare=c2_ra_pcexp/12
 gen welfshprosperity=welfare
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,wgt,
 gen double wgt=weight
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,whours,
 gen byte lstatus=.
 replace lstatus=1 if r2_occupcode1>=1 & r2_occupcode1<990
 replace lstatus=2 if r2_unm_lkwkr==1
 replace lstatus=3 if r2_unm_lkwkr==2
 replace lstatus=3 if r2_occupcode1==998
 replace lstatus=3 if r2_occupcode1==997
 gen whours=r2_7hrperwek1
 replace whours=. if lstatus!=1
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,year,
 gen int year=2003
 local year=2011
npl_2003_lss-ii_v01_m_v04_a_sarmd,NPL,2003,LSS-II,v01,v04,yrmove,
 gen int yrmove=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,age,
 gen byte age=v01_03
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,atschool,
 gen byte atschool=.
 replace atschool=1 if v07_08==3
 replace atschool=0 if v07_08==2 | v07_08==1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,bicycle,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,buffalo,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,cellphone,
 gen byte cellphone=v02_31b
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,chicken,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,computer,
 gen byte computer=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,contract,
 gen byte contract=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,countrycode,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,cow,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,cpi,
 ren cpi`year'_w cpi
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,cpiperiod,
 gen cpiperiod=syear
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,ed_mod_age,
 gen byte ed_mod_age=3
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,educy,
 gen inter_edlevel = v07_18
 replace inter_edlevel = v07_11 if inter_edlevel == .
 replace inter_edlevel = 0 if v07_08 == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if v07_08 ==3
 replace inter_edlevel = 10 if inter_edlevel ==11 & v07_08 ==2
 gen byte educy= inter_edlevel
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,electricity,
 gen byte electricity=.
 replace electricity=0 if v02_27==2
 replace electricity=0 if v02_27==3
 replace electricity=0 if v02_27==4
 replace electricity=0 if v02_27==5
 replace electricity=1 if v02_27==1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,empstat,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_07==1 | v10_07==2
 replace empstat=4 if v10_07==3 | v10_07==4
 replace empstat=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,empstat_2,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,empstat_2_year,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,everattend,
 gen byte everattend=.
 replace everattend=0 if v07_08==1
 replace everattend=1 if v07_08==2 | v07_08==3
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,fan,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,firmsize_l,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte firmsize_l=.
 replace firmsize_l= 1 if v12_20==1
 replace firmsize_l= 2 if v12_20==2
 replace firmsize_l=10 if v12_20==3
 replace firmsize_l=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,healthins,
 gen byte healthins=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,hsize,"
 destring hhid, g(HID)
 gen HID=xhpsu*100+xhnum
 gen idh= HID
 egen byte idp= concat(idh a INDID)
 gen T_T=1 if idp!= "" ""
 egen hsize=count(T_T), by(idh)"
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,idh,"
 destring hhid, g(HID)
 gen HID=xhpsu*100+xhnum
 gen idh= HID"
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,idp,"
 destring hhid, g(HID)
 gen HID=xhpsu*100+xhnum
 gen idh= HID
 egen byte idp= concat(idh a INDID)"
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,industry,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte industry=v12_02
 replace industry=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,industry_2,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,industry_orig_2,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,int_month,
 gen int_month=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,int_year,
 gen byte int_year=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,internet,
 gen byte internet=v02_31d
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,lamp,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,lb_mod_age,
 gen byte lb_mod_age=5
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,literacy,
 gen byte literacy=.
 replace literacy=1 if v07_02==1 & v07_03==1
 replace literacy=0 if v07_02==2 | v07_03==2
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,lphone,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,male,
 gen byte male=v01_02
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,marital,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,motorcar,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,motorcycle,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,njobs,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte njobs=tot_num_job-1
 replace njobs=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,nlfreason,
 gen byte age=v01_03
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte nlfreason=.
 replace nlfreason=1 if v11_04==1
 replace nlfreason=2 if v11_04==2
 replace nlfreason=3 if v11_04==3
 replace nlfreason=4 if v11_04==4
 replace nlfreason=5 if v11_04==5 | v11_04==6 | v11_04==7 | v11_04==8 | v11_04==9 | v11_04==10
 replace nlfreason=. if lstatus!=3
 replace nlfreason=. if age<5
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,occup,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte occup=.
 replace occup=1 if v10_03>=111 & v10_03<=131
 replace occup=2 if v10_03>=211 & v10_03<=246
 replace occup=3 if v10_03>=311 & v10_03<=348
 replace occup=4 if v10_03>=411 & v10_03<=422
 replace occup=5 if v10_03>=511 & v10_03<=523
 replace occup=6 if v10_03>=611 & v10_03<=621
 replace occup=7 if v10_03>=711 & v10_03<=744
 replace occup=8 if v10_03>=811 & v10_03<=833
 replace occup=9 if v10_03>=911 & v10_03<=933
 replace occup=10 if v10_03==11
 replace occup=99 if v10_03==999
 replace occup=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,ocusec,
 gen byte ocusec=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,ownhouse,
 gen byte ownhouse=v02_11
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,piped_water,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,pline_nat,
 gen pline_nat=pline_7/12
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,poor_int,
 ren rpcexp rpcexp_
 gen welfare=pcexp*(1/12)
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,poor_nat,
 ren rpcexp rpcexp_
 gen welfare=pcexp*(1/12)
 gen welfaredef=rpcexp/12
 gen pline_nat=pline_7/12
 gen poor_nat=welfaredef<pline_nat if welfare!=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,pop_wgt,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,psu,
 gen psu=xhpsu
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,radio,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,rbirth,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,rbirth_juris,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,refrigerator,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,relationcs,
 gen byte relationcs=v01_04
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,relationharm,
 gen byte relationharm=v01_04
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,rprevious,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,rprevious_juris,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,sar_improved_toilet,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,sar_improved_water,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,sewage_toilet,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,sewingmachine,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,soc,
 gen byte soc=v01_08
 replace soc=17 if soc>16 & soc!=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,socialsec,
 gen byte socialsec=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,spdef,
 gen spdef=pindex
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,strata,
 gen strata=stratum
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,subnatid1,
 gen byte subnatid1=region
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,subnatid2,
 gen byte subnatid2=district
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,survey,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,television,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,toilet_jmp,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,toilet_orig,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,unempldur_l,
 gen byte unempldur_l=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,unempldur_u,
 gen byte unempldur_u=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,union,
 gen byte union=.
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte unitwage=.
 replace unitwage=1 if v12_04!=.
 replace unitwage=5 if v12_15a!=.
 replace unitwage=8 if v12_08!=.
 replace unitwage=8 if v12_21!=.
 replace unitwage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,unitwage_2,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,urban,
 gen urban=urbrural
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,veralt,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,vermast,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,wage,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_07==1 | v10_07==2
 replace empstat=4 if v10_07==3 | v10_07==4
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage= v12_15a if v12_15a!=.
 replace wage=v12_08 if v12_08!=.
 replace wage=v12_21 if v12_21!=.
 replace wage=v12_04 if v12_04!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,wage_2,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,washingmachine,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,water_jmp,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,water_orig,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfare,
 ren rpcexp rpcexp_
 gen welfare=pcexp*(1/12)
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfaredef,
 ren rpcexp rpcexp_
 gen welfaredef=rpcexp/12
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfarenat,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfarenom,
 gen welfarenom=totcons_pc_7/12
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfareother,
 gen welfarenom=totcons_pc_7/12
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfareothertype,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfaretype,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,welfshprosperity,
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,wgt,
 gen double wgt=wt_hh
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,whours,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen whours=v10_06h
 replace whours=. if lstatus!=1
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,year,
 gen year=2010
 local year=2011
npl_2010_lss-iii_v01_m_v01_a_sarmd,NPL,2010,LSS-III,v01,v01,yrmove,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,age,
 gen byte age=v01_03
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,atschool,
 gen byte atschool=.
 replace atschool=1 if v07_08==3
 replace atschool=0 if v07_08==2 | v07_08==1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,bicycle,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,buffalo,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,cellphone,
 gen byte cellphone=v02_31b
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,chicken,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,computer,
 gen byte computer=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,contract,
 gen byte contract=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,countrycode,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,cow,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,cpi,
 ren cpi`year'_w cpi
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,cpiperiod,
 gen cpiperiod=syear
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,ed_mod_age,
 gen byte ed_mod_age=3
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,educy,
 gen inter_edlevel = v07_18
 replace inter_edlevel = v07_11 if inter_edlevel == .
 replace inter_edlevel = 0 if v07_08 == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if v07_08 ==3
 replace inter_edlevel = 10 if inter_edlevel ==11 & v07_08 ==2
 gen byte educy= inter_edlevel
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,electricity,
 gen byte electricity=.
 replace electricity=0 if v02_27==2
 replace electricity=0 if v02_27==3
 replace electricity=0 if v02_27==4
 replace electricity=0 if v02_27==5
 replace electricity=1 if v02_27==1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,empstat,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_07==1 | v10_07==2
 replace empstat=4 if v10_07==3 | v10_07==4
 replace empstat=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,empstat_2,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,empstat_2_year,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,everattend,
 gen byte everattend=.
 replace everattend=0 if v07_08==1
 replace everattend=1 if v07_08==2 | v07_08==3
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,fan,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,firmsize_l,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte firmsize_l=.
 replace firmsize_l= 1 if v12_20==1
 replace firmsize_l= 2 if v12_20==2
 replace firmsize_l=10 if v12_20==3
 replace firmsize_l=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,healthins,
 gen byte healthins=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,hsize,
 gen hsize=hhsize
 replace hsize=. if v01_10==2
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,idh,"
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,idp,"
 ren v12_01 idc
 ren v10_02 idc
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,industry,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte industry=v12_02
 replace industry=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,industry_2,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,industry_orig_2,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,int_month,
 gen int_month=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,int_year,
 gen byte int_year=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,internet,
 gen byte internet=v02_31d
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,lamp,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,lb_mod_age,
gen byte lb_mod_age=5
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,literacy,
 gen byte literacy=.
 replace literacy=1 if v07_02==1 & v07_03==1
 replace literacy=0 if v07_02==2 | v07_03==2
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,lphone,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,male,
 gen byte male=v01_02
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,marital,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,motorcar,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,motorcycle,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,njobs,
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj-1
 drop minj idj
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 replace njobs=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,nlfreason,
 gen byte age=v01_03
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte nlfreason=.
 replace nlfreason=1 if v11_04==1
 replace nlfreason=2 if v11_04==2
 replace nlfreason=3 if v11_04==3
 replace nlfreason=4 if v11_04==4
 replace nlfreason=5 if v11_04==5 | v11_04==6 | v11_04==7 | v11_04==8 | v11_04==9 | v11_04==10
 replace nlfreason=. if lstatus!=3
 replace nlfreason=. if age<5
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,occup,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte occup=.
 replace occup=1 if v10_03>=111 & v10_03<=131
 replace occup=2 if v10_03>=211 & v10_03<=246
 replace occup=3 if v10_03>=311 & v10_03<=348
 replace occup=4 if v10_03>=411 & v10_03<=422
 replace occup=5 if v10_03>=511 & v10_03<=523
 replace occup=6 if v10_03>=611 & v10_03<=621
 replace occup=7 if v10_03>=711 & v10_03<=744
 replace occup=8 if v10_03>=811 & v10_03<=833
 replace occup=9 if v10_03>=911 & v10_03<=933
 replace occup=10 if v10_03==11
 replace occup=99 if v10_03==999
 replace occup=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,ocusec,
 gen byte ocusec=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,ownhouse,
 gen byte ownhouse=v02_11
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,piped_water,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,pline_nat,
 gen pline_nat=pline_7/12
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,poor_int,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,poor_nat,
 gen welfarenat=rpcexp/12
 replace welfarenat=. if v01_10==2
 gen pline_nat=pline_7/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,pop_wgt,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,psu,
 gen psu=xhpsu
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,radio,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,rbirth,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,rbirth_juris,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,refrigerator,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,relationcs,
 gen byte relationcs=v01_04
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,relationharm,
 gen byte relationharm=v01_04
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,rprevious,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,rprevious_juris,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,sar_improved_toilet,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,sar_improved_water,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,sewage_toilet,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,sewingmachine,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,soc,
 gen byte soc=v01_08
 replace soc=17 if soc>16 & soc!=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,socialsec,
 gen byte socialsec=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,spdef,
 gen spdef=pindex
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,strata,
 gen strata=stratum
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,subnatid1,
 gen byte subnatid1=region
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,subnatid2,
 gen byte subnatid2=district
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,subnatid3,
 gen byte subnatid3=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,survey,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,television,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,toilet_jmp,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,toilet_orig,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,unempldur_l,
 gen byte unempldur_l=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,unempldur_u,
 gen byte unempldur_u=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,union,
 gen byte union=.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte unitwage=.
 replace unitwage=1 if v12_04!=.
 replace unitwage=5 if v12_15a!=.
 replace unitwage=8 if v12_08!=.
 replace unitwage=8 if v12_21!=.
 replace unitwage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,unitwage_2,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,urban,
 gen urban=urbrur
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,veralt,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,vermast,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,wage,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_07==1 | v10_07==2
 replace empstat=4 if v10_07==3 | v10_07==4
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage= v12_15a if v12_15a!=.
 replace wage=v12_08 if v12_08!=.
 replace wage=v12_21 if v12_21!=.
 replace wage=v12_04 if v12_04!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,wage_2,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,washingmachine,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,water_jmp,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,water_orig,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfare,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfaredef,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 gen welfaredef=welfare
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfarenat,
 gen welfarenat=rpcexp/12
 replace welfarenat=. if v01_10==2
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfarenom,
 gen welfarenom=totcons_pc_7/12
 replace welfarenom=. if v01_10==2
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfareother,
 gen welfareother=totcons_pc_30/12
 replace welfareother=. if v01_10==2
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfareothertype,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfaretype,
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,welfshprosperity,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 gen welfshprosperity=welfare
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,whours,
 gen byte lstatus=.
 replace lstatus=1 if v10_03<996 & v10_06h>0
 replace lstatus=3 if (v10_06h==0 & (v11_02==2 | v11_03==2)) | v10_03==997 | (v10_03==998 & (v11_02==2 | v11_03==2))| (v10_03==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h==0 & v10_01g==0) & lstatus!=3
 gen whours=v10_06h
 replace whours=. if lstatus!=1
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,year,
 gen int year=2010
 local year=2011
npl_2010_lss-iii_v01_m_v02_a_sarmd,NPL,2010,LSS-III,v01,v02,yrmove,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,age,
 gen byte age=v01_03
 replace age=98 if age>=98
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,atschool,
 gen byte atschool=.
 replace atschool=1 if v07_08==3
 replace atschool=0 if v07_08==2 | v07_08==1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,bicycle,
 gen bicycle= v06_05Bicycle503==1 if v06_05Bicycle503<.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,buffalo,
 gen buffalo= v13_66yn2==1 if v13_66yn2<.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,cellphone,
 gen cellphone= v02_31b
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,chicken,
 gen chicken=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,computer,
 gen chicken=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,contract,
 gen byte contract=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,countrycode,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,cow,
 gen cow=v13_66yn1==1 if v13_66yn1<.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,cpi,
 ren cpi`year'_w cpi
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,cpiperiod,
 gen cpiperiod=syear
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,ed_mod_age,
 gen byte ed_mod_age=3
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,educy,
 gen inter_edlevel = v07_18
 replace inter_edlevel = v07_11 if inter_edlevel == .
 replace inter_edlevel = 0 if v07_08 == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if v07_08 ==3
 gen byte educy= inter_edlevel
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,electricity,
 gen byte electricity=.
 replace electricity=0 if v02_27==2
 replace electricity=0 if v02_27==3
 replace electricity=0 if v02_27==4
 replace electricity=0 if v02_27==5
 replace electricity=1 if v02_27==1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,empstat,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,empstat_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte empstat_2=.
 replace empstat_2=1 if v10_072==1 | v10_072==2
 replace empstat_2=4 if v10_072==3 | v10_072==4
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,empstat_2_year,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte empstat_2=.
 replace empstat_2=1 if v10_072==1 | v10_072==2
 replace empstat_2=4 if v10_072==3 | v10_072==4
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1
 gen empstat_2_year=.
 replace empstat_2_year= empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year2!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,everattend,
 gen byte everattend=.
 replace everattend=0 if v07_08==1
 replace everattend=1 if v07_08==2 | v07_08==3
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,fan,
 gen fan= v06_05Fans508==1 if v06_05Fans508<.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,firmsize_l,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte firmsize_l=.
 replace firmsize_l= 1 if v12_201==1
 replace firmsize_l= 2 if v12_201==2
 replace firmsize_l=10 if v12_201==3
 replace firmsize_l=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,healthins,
 gen byte healthins=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,hsize,
 gen hsize=hhsize
 *replace hsize=. if v01_10==2
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,idh,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,idp,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,industry,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte industry=.
 replace industry=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,industry_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,industry_orig_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,int_month,
 gen int_month=month(Date)
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,int_year,
gen ye=year(Date)
rename ye int_year
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,internet,
 gen byte internet=v02_31d
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,lamp,
 gen lamp=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,lb_mod_age,
 gen byte lb_mod_age=5
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,literacy,
 gen byte literacy=.
 replace literacy=1 if v07_02==1 & v07_03==1
 replace literacy=0 if v07_02==2 | v07_03==2
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,lphone,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,male,
 gen byte male=v01_02
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,marital,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,motorcar,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,motorcycle,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,njobs,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,nlfreason,
 gen byte age=v01_03
 replace age=98 if age>=98
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte nlfreason=.
 replace nlfreason=1 if v11_04==1
 replace nlfreason=2 if v11_04==2
 replace nlfreason=3 if v11_04==3
 replace nlfreason=4 if v11_04==4
 replace nlfreason=5 if v11_04==5 | v11_04==6 | v11_04==7 | v11_04==8 | v11_04==9 | v11_04==10
 replace nlfreason=. if lstatus!=3
 replace nlfreason=. if age<5
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,occup,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte occup=.
 replace occup=1 if v10_031>=111 & v10_031<=131
 replace occup=2 if v10_031>=211 & v10_031<=246
 replace occup=3 if v10_031>=311 & v10_031<=348
 replace occup=4 if v10_031>=411 & v10_031<=422
 replace occup=5 if v10_031>=511 & v10_031<=523
 replace occup=6 if v10_031>=611 & v10_031<=621
 replace occup=7 if v10_031>=711 & v10_031<=744
 replace occup=8 if v10_031>=811 & v10_031<=833
 replace occup=9 if v10_031>=911 & v10_031<=933
 replace occup=10 if v10_031==11
 replace occup=99 if v10_031==999
 replace occup=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,ocusec,
 gen byte ocusec=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,ownhouse,
 gen byte ownhouse=v02_11
 gen hsize=hhsize
 *replace hsize=. if v01_10==2
 gen byte relationharm=v01_04
replace ownhouse=. if ownhouse==1 & hsize==. & relationharm==6
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,piped_water,
gen piped_water=.
replace piped_water=1 if v02_19==1
replace piped_water=0 if piped_water==.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,pline_nat,
 gen pline_nat=pline_7/12
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,poor_int,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,poor_nat,
 gen welfarenat=rpcexp/12
 replace welfarenat=. if v01_10==2
 gen pline_nat=pline_7/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,pop_wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
 gen hsize=hhsize
 *replace hsize=. if v01_10==2
 gen pop_wgt=wgt*hsize
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,psu,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 gen psu=xhpsu"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,radio,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 gen psu=xhpsu"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,rbirth,
 gen byte rbirth=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,rbirth_juris,
 gen byte rbirth_juris=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,refrigerator,
 gen byte rbirth_juris=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,relationcs,
 gen byte relationcs=v01_04
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,relationharm,
 gen byte relationharm=v01_04
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,rprevious,
 gen byte rprevious=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,rprevious_juris,
 gen byte rprevious_juris=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(v02_26,1,2)
replace sar_improved_toilet=0 if inlist(v02_26,3,4,5)"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(v02_19,1,2,3)
replace sar_improved_water=0 if inlist(v02_19,4,5,6,7 )"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,sewage_toilet,
gen sewage_toilet=v02_26
replace sewage_toilet=0 if sewage_toilet!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,sewingmachine,
 gen sewingmachine= v06_05Sewing_machine513==1 if v06_05Sewing_machine513<.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,soc,
 gen byte soc=v01_08
 replace soc=17 if soc>16 & soc!=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,socialsec,
 gen byte socialsec=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,spdef,
 gen spdef=pindex
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,strata,
 gen strata=stratum
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,subnatid1,
 gen byte subnatid1=district
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,subnatid2,
 gen byte subnatid2=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,subnatid3,
 gen byte subnatid3=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,survey,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,television,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,toilet_jmp,
gen toilet_jmp=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,toilet_orig,
gen toilet_orig=v02_26
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,unempldur_l,
 gen byte unempldur_l=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,unempldur_u,
 gen byte unempldur_u=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,union,
 gen byte union=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte unitwage=.
 replace unitwage=1 if v12_041!=.
 replace unitwage=5 if v12_15a1!=.
 replace unitwage=8 if v12_081!=.
 replace unitwage=8 if v12_211!=.
 replace unitwage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,unitwage_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte lstatus2=.
 replace lstatus2=1 if v10_032<996 & v10_06h2>0
 replace lstatus2=3 if (v10_06h2==0 & (v11_02==2 | v11_03==2)) | v10_032==997 | (v10_032==998 & (v11_02==2 | v11_03==2))| (v10_032==996 & (v11_02==2 | v11_03==2))
 replace lstatus2=2 if (v10_06h2==0 & v10_01g==0) & lstatus2!=3
 replace lstatus2=. if njobs==0 | njobs==.
 gen byte unitwage_2=.
 replace unitwage_2=1 if v12_042!=.
 replace unitwage_2=5 if v12_15a2!=.
 replace unitwage_2=8 if v12_082!=.
 replace unitwage_2=8 if v12_212!=.
 replace unitwage_2=. if lstatus2!=1
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,urban,
 gen urban=urbrur
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,veralt,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,vermast,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,wage,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage= v12_15a1 if v12_15a1!=.
 replace wage=v12_081 if v12_081!=.
 replace wage=v12_211 if v12_211!=.
 replace wage=v12_041 if v12_041!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,wage_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
 gen double wage_2=.
 replace wage_2= v12_15a2 if v12_15a2!=.
 replace wage_2=v12_082 if v12_082!=.
 replace wage_2=v12_212 if v12_212!=.
 replace wage_2=v12_042 if v12_042!=.
 replace wage_2=0 if empstat==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,washingmachine,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
 gen double wage_2=.
 replace wage_2= v12_15a2 if v12_15a2!=.
 replace wage_2=v12_082 if v12_082!=.
 replace wage_2=v12_212 if v12_212!=.
 replace wage_2=v12_042 if v12_042!=.
 replace wage_2=0 if empstat==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,water_jmp,
gen water_jmp=.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,water_orig,
gen water_orig=v02_19
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfare,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfaredef,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 gen welfaredef=welfare
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfarenat,
 gen welfarenat=rpcexp/12
 replace welfarenat=. if v01_10==2
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfarenom,
 gen welfarenom=totcons_pc_7/12
 replace welfarenom=. if v01_10==2
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfareother,
 gen welfareother=totcons_pc_30/12
 replace welfareother=. if v01_10==2
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfareothertype,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfaretype,
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,welfshprosperity,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 gen welfshprosperity=welfare
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,whours,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen whours=v10_06h1
 replace whours=. if lstatus!=1
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,year,
 gen int year=2010
gen ye=year(Date)
rename ye int_year
 local year=2011
npl_2010_lss-iii_v01_m_v03_a_sarmd,NPL,2010,LSS-III,v01,v03,yrmove,
 gen int yrmove=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,age,
 gen byte age=v01_03
 replace age=98 if age>=98
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,atschool,
 gen byte atschool=.
 replace atschool=1 if v07_08==3
 replace atschool=0 if v07_08==2 | v07_08==1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,bicycle,
 gen bicycle= v06_05Bicycle503==1 if v06_05Bicycle503<.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,buffalo,
 gen buffalo= v13_66yn2==1 if v13_66yn2<.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,cellphone,
 gen cellphone= v02_31b
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,chicken,
 gen chicken=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,computer,
 gen chicken=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,contract,
 gen byte contract=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,countrycode,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,cow,
 gen cow=v13_66yn1==1 if v13_66yn1<.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,cpi,
 ren cpi`year'_w cpi
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,cpiperiod,
 gen cpiperiod=syear
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,ed_mod_age,
 gen byte ed_mod_age=3
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,educat4,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,educat5,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,educat7,"
 recode inter_edlevel (1/4 = 2) (5/7 = 3) (8/11 = 4) (12=5) (13/15 = 7) (-1 0 = 1), gen(educat7)"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,educy,
 gen inter_edlevel = v07_18
 replace inter_edlevel = v07_11 if inter_edlevel == .
 replace inter_edlevel = 0 if v07_08 == 1 & inter_edlevel == .
 replace inter_edlevel = inter_edlevel -1 if v07_08 ==3
 gen byte educy= inter_edlevel
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,electricity,
 gen byte electricity=.
 replace electricity=0 if v02_27==2
 replace electricity=0 if v02_27==3
 replace electricity=0 if v02_27==4
 replace electricity=0 if v02_27==5
 replace electricity=1 if v02_27==1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,empstat,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,empstat_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte empstat_2=.
 replace empstat_2=1 if v10_072==1 | v10_072==2
 replace empstat_2=4 if v10_072==3 | v10_072==4
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,empstat_2_year,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte empstat_2=.
 replace empstat_2=1 if v10_072==1 | v10_072==2
 replace empstat_2=4 if v10_072==3 | v10_072==4
 replace empstat_2=. if njobs==0 | njobs==. | lstatus2!=1
 gen empstat_2_year=.
 replace empstat_2_year= empstat_2
 replace empstat_2_year=. if njobs_year==0 | njobs_year==. | lstatus_year2!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,everattend,
 gen byte everattend=.
 replace everattend=0 if v07_08==1
 replace everattend=1 if v07_08==2 | v07_08==3
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,fan,
 gen fan= v06_05Fans508==1 if v06_05Fans508<.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,firmsize_l,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte firmsize_l=.
 replace firmsize_l= 1 if v12_201==1
 replace firmsize_l= 2 if v12_201==2
 replace firmsize_l=10 if v12_201==3
 replace firmsize_l=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,healthins,
 gen byte healthins=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,hsize,
 gen hsize=hhsize
 *replace hsize=. if v01_10==2
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,idh,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,idp,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,industry,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte industry=.
 replace industry=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,industry_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,industry_orig_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,int_month,
 gen int_month=month(Date)
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,int_year,
gen ye=year(Date)
rename ye int_year
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,internet,
 gen byte internet=v02_31d
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,lamp,
 gen lamp=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,lb_mod_age,
 gen byte lb_mod_age=5
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,literacy,
 gen byte literacy=.
 replace literacy=1 if v07_02==1 & v07_03==1
 replace literacy=0 if v07_02==2 | v07_03==2
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,lphone,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,male,
 gen byte male=v01_02
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,marital,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,motorcar,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,motorcycle,
 gen byte marital=v01_06
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,njobs,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,nlfreason,
 gen byte age=v01_03
 replace age=98 if age>=98
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte nlfreason=.
 replace nlfreason=1 if v11_04==1
 replace nlfreason=2 if v11_04==2
 replace nlfreason=3 if v11_04==3
 replace nlfreason=4 if v11_04==4
 replace nlfreason=5 if v11_04==5 | v11_04==6 | v11_04==7 | v11_04==8 | v11_04==9 | v11_04==10
 replace nlfreason=. if lstatus!=3
 replace nlfreason=. if age<5
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,occup,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte occup=.
 replace occup=1 if v10_031>=111 & v10_031<=131
 replace occup=2 if v10_031>=211 & v10_031<=246
 replace occup=3 if v10_031>=311 & v10_031<=348
 replace occup=4 if v10_031>=411 & v10_031<=422
 replace occup=5 if v10_031>=511 & v10_031<=523
 replace occup=6 if v10_031>=611 & v10_031<=621
 replace occup=7 if v10_031>=711 & v10_031<=744
 replace occup=8 if v10_031>=811 & v10_031<=833
 replace occup=9 if v10_031>=911 & v10_031<=933
 replace occup=10 if v10_031==11
 replace occup=99 if v10_031==999
 replace occup=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,ocusec,
 gen byte ocusec=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,ownhouse,
 gen byte ownhouse=v02_11
 gen hsize=hhsize
 *replace hsize=. if v01_10==2
 gen byte relationharm=v01_04
replace ownhouse=. if ownhouse==1 & hsize==. & relationharm==6
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,piped_water,
gen piped_water=.
replace piped_water=1 if v02_19==1
replace piped_water=0 if piped_water==.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,pline_nat,
 gen pline_nat=pline_7/12
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,poor_int,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,poor_nat,
 gen welfarenat=rpcexp/12
 replace welfarenat=. if v01_10==2
 gen pline_nat=pline_7/12
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,pop_wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
 gen hsize=hhsize
 *replace hsize=. if v01_10==2
 gen pop_wgt=wgt*hsize
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,psu,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 gen psu=xhpsu"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,radio,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 reshape wide v06_05, i( xhpsu xhnum ) j( itc2 ) string
 reshape wide v13_66yn, i( xhpsu xhnum ) j( v13e1_lc )
 gen psu=xhpsu"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,rbirth,
 gen byte rbirth=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,refrigerator,
 gen byte rbirth_juris=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,relationcs,
 gen byte relationcs=v01_04
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,relationharm,
 gen byte relationharm=v01_04
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,rprevious,
 gen byte rprevious=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,sar_improved_toilet,"
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(v02_26,1,2)
replace sar_improved_toilet=0 if inlist(v02_26,3,4,5)"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,sar_improved_water,"
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(v02_19,1,2,3)
replace sar_improved_water=0 if inlist(v02_19,4,5,6,7 )"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,sewage_toilet,
gen sewage_toilet=v02_26
replace sewage_toilet=0 if sewage_toilet!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,sewingmachine,
 gen sewingmachine= v06_05Sewing_machine513==1 if v06_05Sewing_machine513<.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,soc,
 gen byte soc=v01_08
 replace soc=17 if soc>16 & soc!=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,socialsec,
 gen byte socialsec=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,spdef,
 gen spdef=pindex
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,strata,
 gen strata=stratum
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,subnatid1,
 gen byte subnatid1=district
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,subnatid2,
 gen byte subnatid2=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,subnatid3,
 gen byte subnatid3=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,survey,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,television,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,toilet_jmp,
gen toilet_jmp=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,toilet_orig,
gen toilet_orig=v02_26
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,unempldur_l,
 gen byte unempldur_l=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,unempldur_u,
 gen byte unempldur_u=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,union,
 gen byte union=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte unitwage=.
 replace unitwage=1 if v12_041!=.
 replace unitwage=5 if v12_15a1!=.
 replace unitwage=8 if v12_081!=.
 replace unitwage=8 if v12_211!=.
 replace unitwage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,unitwage_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte lstatus2=.
 replace lstatus2=1 if v10_032<996 & v10_06h2>0
 replace lstatus2=3 if (v10_06h2==0 & (v11_02==2 | v11_03==2)) | v10_032==997 | (v10_032==998 & (v11_02==2 | v11_03==2))| (v10_032==996 & (v11_02==2 | v11_03==2))
 replace lstatus2=2 if (v10_06h2==0 & v10_01g==0) & lstatus2!=3
 replace lstatus2=. if njobs==0 | njobs==.
 gen byte unitwage_2=.
 replace unitwage_2=1 if v12_042!=.
 replace unitwage_2=5 if v12_15a2!=.
 replace unitwage_2=8 if v12_082!=.
 replace unitwage_2=8 if v12_212!=.
 replace unitwage_2=. if lstatus2!=1
 replace unitwage_2=. if njobs==0 | njobs==. | lstatus!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,urban,
 gen urban=urbrur
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,veralt,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,vermast,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,wage,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage= v12_15a1 if v12_15a1!=.
 replace wage=v12_081 if v12_081!=.
 replace wage=v12_211 if v12_211!=.
 replace wage=v12_041 if v12_041!=.
 replace wage=0 if empstat==2
 replace wage=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,wage_2,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
 gen double wage_2=.
 replace wage_2= v12_15a2 if v12_15a2!=.
 replace wage_2=v12_082 if v12_082!=.
 replace wage_2=v12_212 if v12_212!=.
 replace wage_2=v12_042 if v12_042!=.
 replace wage_2=0 if empstat==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,washingmachine,"
 ren v12_01_job idj
 ren v10_02_job idj
 gen njobs=idj
 reshape wide njobs v10_03_txt v10_03 v10_04a v10_04b v10_04c v10_04d v10_04e v10_04f v10_04g v10_04h v10_04i v10_04j v10_04k v10_04l v10_05a v10_05b v10_06a v10_06b v10_06c v10_06d v10_06e v10_06f v10_06g v10_06h v10_07 v12_ln1 v12_02_txt v12_02 v12_03 v12_04 v12_05a v12_05b v12_06a v12_06b v12_ln2 v12_07 v12_08 v12_09a v12_09b v12_10a v12_10b v12_11 v12_12 v12_13 v12_14 v12_ln3 v12_15a v12_15b v12_15c v12_15d v12_15e v12_16 v12_17 v12_18 v12_19 v12_20 v12_21, i( xhpsu xhnum idc) j( idj ) 
 gen njobs=.
 replace njobs=njobs1
 replace njobs=njobs2 if njobs2!=.
 replace njobs=njobs-1
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen byte empstat=.
 replace empstat=1 if v10_071==1 | v10_071==2
 replace empstat=4 if v10_071==3 | v10_071==4
 replace empstat=. if lstatus!=1
 gen double wage_2=.
 replace wage_2= v12_15a2 if v12_15a2!=.
 replace wage_2=v12_082 if v12_082!=.
 replace wage_2=v12_212 if v12_212!=.
 replace wage_2=v12_042 if v12_042!=.
 replace wage_2=0 if empstat==2
 replace wage_2=. if njobs==0 | njobs==. | lstatus2!=1"
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,water_jmp,
gen water_jmp=.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,water_orig,
gen water_orig=v02_19
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfare,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfaredef,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 gen welfaredef=welfare
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfarenat,
 gen welfarenat=rpcexp/12
 replace welfarenat=. if v01_10==2
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfarenom,
 gen welfarenom=totcons_pc_7/12
 replace welfarenom=. if v01_10==2
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfareother,
 gen welfareother=totcons_pc_30/12
 replace welfareother=. if v01_10==2
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfareothertype,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfaretype,
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,welfshprosperity,
 gen welfare=rpcexp/12
 replace welfare=. if v01_10==2
 gen welfshprosperity=welfare
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,whours,
 gen byte lstatus=.
 replace lstatus=1 if v10_031<996 & v10_06h1>0
 replace lstatus=3 if (v10_06h1==0 & (v11_02==2 | v11_03==2)) | v10_031==997 | (v10_031==998 & (v11_02==2 | v11_03==2))| (v10_031==996 & (v11_02==2 | v11_03==2))
 replace lstatus=2 if (v10_06h1==0 & v10_01g==0) & lstatus!=3
 gen whours=v10_06h1
 replace whours=. if lstatus!=1
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,year,
 gen int year=2010
gen ye=year(Date)
rename ye int_year
 local year=2011
npl_2010_lss-iii_v01_m_v04_a_sarmd,NPL,2010,LSS-III,v01,v04,yrmove,
 gen int yrmove=.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,age,
 *gen byte age=v01_03
 replace age=98 if age>=98
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,atschool,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,bicycle,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,buffalo,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,cellphone,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,chicken,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,computer,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,contract,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,countrycode,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,cow,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,cpi,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,cpiperiod,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,ed_mod_age,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,educat4,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,educat5,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,educat7,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,educy,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,electricity,
gen electricity=source_light
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,empstat,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,empstat_2,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,empstat_2_year,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,everattend,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,fan,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,firmsize_l,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,healthins,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,hsize,
 gen hsize=totmemb
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,idh,"
 collapse (rawsum) home_val purchase_val received_val, by(psu hhno)
 collapse (rawsum) amount12, by(psu hhno)
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,idp,"
 collapse (rawsum) home_val purchase_val received_val, by(psu hhno)
 collapse (rawsum) amount12, by(psu hhno)
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,industry,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,industry_2,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,industry_orig_2,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,int_month,
 gen int_month=month(int_mon)
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,int_year,
 gen ye=year(int_yr)
 rename ye int_year
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,internet,
 gen byte internet=email_internet
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,lamp,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,lb_mod_age,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,literacy,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,lphone,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,lstatus,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,male,
 gen byte male=sex
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,marital,
 gen byte marital=.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,motorcar,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,motorcycle,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,njobs,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,nlfreason,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,occup,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,ocusec,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,ownhouse,
 gen byte ownhouse=is_ownhouse
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,piped_water,
gen piped_water=has_pipe
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,pline_int,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,pline_nat,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,poor_int,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,poor_nat,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,pop_wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
 gen hsize=totmemb
 gen pop_wgt=wgt*hsize
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,psu,"
 collapse (rawsum) home_val purchase_val received_val, by(psu hhno)
 collapse (rawsum) amount12, by(psu hhno)
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno) j( itc2 ) string
 rename psu xhpsu
 gen psu=xhpsu"
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,radio,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,rbirth,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,rbirth_juris,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,refrigerator,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,relationcs,
 gen byte relationcs=rel_hhh
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,relationharm,
 gen byte relationharm=rel_hhh
 replace relationharm=5 if rel_hhh==3 & sex==2
 replace relationharm=5 if rel_hhh==4 & sex==1
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,rprevious,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,rprevious_juris,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,sar_improved_toilet,"
 gen sar_improved_toilet=.
 replace sar_improved_toilet=1 if inlist(type_toilet,1,2)
 replace sar_improved_toilet=0 if inlist(type_toilet,3,4,5)"
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,sar_improved_water,"
 gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(source_water,1,2,3)
 replace sar_improved_water=0 if inlist(source_water,4,5,6,7 )"
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,sewage_toilet,
 gen sewage_toilet= type_toilet
 replace sewage_toilet=0 if sewage_toilet!=1
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,sewingmachine,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,soc,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,socialsec,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,spdef,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,strata,
 gen strata=urbrur
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,subnatid1,
 gen byte subnatid1=dist
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,subnatid2,
 gen byte subnatid2=.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,survey,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,television,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,toilet_jmp,
 gen toilet_jmp=.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,toilet_orig,
gen toilet_orig=type_toilet
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,unempldur_l,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,unempldur_u,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,union,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,unitwage,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,unitwage_2,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,urban,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,veralt,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,vermast,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,wage,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,wage_2,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,washingmachine,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,water_jmp,
gen water_jmp=.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,water_orig,
 gen water_orig=source_water
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfare,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfaredef,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfarenat,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfarenom,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfareother,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfareothertype,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfaretype,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,welfshprosperity,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,wgt,
 gen double wgt=wt_hh
 replace wgt=0 if wgt==.
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,whours,
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,year,
 gen int year=2013
 gen ye=year(int_yr)
 rename ye int_year
npl_2013_ahs_v01_m_v01_a_sarmd,NPL,2013,AHS,v01,v01,yrmove,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,age,
 *gen byte age=v01_03
 replace age=98 if age>=98
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,atschool,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,bicycle,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,buffalo,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,cellphone,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,chicken,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,computer,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,contract,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,countrycode,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,cow,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,cpi,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,cpiperiod,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,ed_mod_age,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,educat4,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,educat5,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,educat7,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,educy,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,electricity,
gen electricity=source_light
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,empstat,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,empstat_2,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,empstat_2_year,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,everattend,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,fan,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,firmsize_l,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,healthins,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,hsize,
 gen hsize=totmemb
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,idh,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value useful_life, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,idp,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value useful_life, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,industry,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,industry_2,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,industry_orig_2,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,int_month,
 gen int_month=month(int_mon)
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,int_year,
 gen ye=year(int_yr)
 rename ye int_year
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,internet,
 gen byte internet=email_internet
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,lamp,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,lb_mod_age,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,literacy,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,lphone,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,lstatus,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,male,
 gen byte male=sex
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,marital,
 gen byte marital=.
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,motorcar,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,motorcycle,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,njobs,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,nlfreason,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,occup,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,ocusec,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,ownhouse,
 gen byte ownhouse=is_ownhouse
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,piped_water,
gen piped_water=has_pipe
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,pline_int,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,pline_nat,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,poor_int,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,poor_nat,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,pop_wgt,
 gen double wgt=wt_hh_adj
 replace wgt=0 if wgt==.
 gen hsize=totmemb
 gen pop_wgt=wgt*hsize
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,psu,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value useful_life, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 gen psu=xhpsu"
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,radio,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,rbirth,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,rbirth_juris,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,refrigerator,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,relationcs,
 gen byte relationcs=rel_hhh
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,relationharm,
 gen byte relationharm=rel_hhh
 replace relationharm=5 if rel_hhh==3 & sex==2
 replace relationharm=5 if rel_hhh==4 & sex==1
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,rprevious,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,rprevious_juris,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,sar_improved_toilet,"
 gen sar_improved_toilet=.
 replace sar_improved_toilet=1 if inlist(type_toilet,1,2)
 replace sar_improved_toilet=0 if inlist(type_toilet,3,4,5)"
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,sar_improved_water,"
 gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(source_water,1,2,3)
 replace sar_improved_water=0 if inlist(source_water,4,5,6,7 )"
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,sewage_toilet,
 gen sewage_toilet= type_toilet
 replace sewage_toilet=0 if sewage_toilet!=1
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,sewingmachine,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,soc,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,socialsec,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,spdef,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,strata,
 gen strata=urbrur
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,subnatid1,
 gen byte subnatid1=dist
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,subnatid2,
 gen byte subnatid2=.
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,survey,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,television,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,toilet_jmp,
 gen toilet_jmp=.
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,toilet_orig,
gen toilet_orig=type_toilet
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,unempldur_l,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,unempldur_u,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,union,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,unitwage,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,unitwage_2,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,urban,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,veralt,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,vermast,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,wage,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,wage_2,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,washingmachine,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,water_jmp,
gen water_jmp=.
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,water_orig,
 gen water_orig=source_water
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfare,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfaredef,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfarenat,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfarenom,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfareother,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfareothertype,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfaretype,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,welfshprosperity,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,wgt,
 gen double wgt=wt_hh_adj
 replace wgt=0 if wgt==.
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,whours,
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,year,
 gen int year=2014
 gen ye=year(int_yr)
 rename ye int_year
npl_2014_ahs_v01_m_v01_a_sarmd,NPL,2014,AHS,v01,v01,yrmove,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,age,
 *gen byte age=v01_03
 replace age=98 if age>=98
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,atschool,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,bicycle,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,buffalo,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,cellphone,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,chicken,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,computer,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,contract,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,countrycode,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,cow,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,cpi,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,cpiperiod,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,ed_mod_age,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,educat4,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,educat5,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,educat7,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,educy,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,electricity,
gen electricity=source_light
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,empstat,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,empstat_2,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,empstat_2_year,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,everattend,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,fan,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,firmsize_l,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,healthins,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,hsize,
 gen hsize=totmemb
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,idh,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,idp,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,industry,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,industry_2,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,industry_orig_2,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,int_month,
 gen int_month=month(int_mon)
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,int_year,
 gen ye=year(int_yr)
 rename ye int_year
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,internet,
 gen byte internet=email_internet
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,lamp,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,lb_mod_age,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,literacy,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,lphone,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,lstatus,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,male,
 gen byte male=sex
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,marital,
 gen byte marital=.
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,motorcar,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,motorcycle,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,njobs,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,nlfreason,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,occup,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,ocusec,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,ownhouse,
 gen byte ownhouse=is_ownhouse
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,piped_water,
gen piped_water=has_pipe
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,pline_int,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,pline_nat,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,poor_int,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,poor_nat,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,pop_wgt,
 gen double wgt=wt_hh_adj
 replace wgt=0 if wgt==.
 gen hsize=totmemb
 gen pop_wgt=wgt*hsize
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,psu,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 gen psu=xhpsu"
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,radio,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,rbirth,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,rbirth_juris,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,refrigerator,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,relationcs,
 gen byte relationcs=rel_hhh
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,relationharm,
 gen byte relationharm=rel_hhh
 replace relationharm=5 if rel_hhh==3 & sex==2
 replace relationharm=5 if rel_hhh==4 & sex==1
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,rprevious,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,rprevious_juris,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,sar_improved_toilet,"
 gen sar_improved_toilet=.
 replace sar_improved_toilet=1 if inlist(type_toilet,1,2)
 replace sar_improved_toilet=0 if inlist(type_toilet,3,4,5)"
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,sar_improved_water,"
 gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(source_water,1,2,3)
 replace sar_improved_water=0 if inlist(source_water,4,5,6,7 )"
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,sewage_toilet,
 gen sewage_toilet= type_toilet
 replace sewage_toilet=0 if sewage_toilet!=1
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,sewingmachine,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,soc,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,socialsec,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,spdef,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,strata,
 gen strata=urbrur
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,subnatid1,
 gen byte subnatid1=dist
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,subnatid2,
 gen byte subnatid2=.
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,survey,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,television,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,toilet_jmp,
 gen toilet_jmp=.
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,toilet_orig,
gen toilet_orig=type_toilet
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,unempldur_l,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,unempldur_u,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,union,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,unitwage,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,unitwage_2,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,urban,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,veralt,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,vermast,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,wage,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,wage_2,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,washingmachine,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,water_jmp,
gen water_jmp=.
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,water_orig,
 gen water_orig=source_water
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfare,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfaredef,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfarenat,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfarenom,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfareother,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfareothertype,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfaretype,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,welfshprosperity,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,wgt,
 gen double wgt=wt_hh_adj
 replace wgt=0 if wgt==.
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,whours,
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,year,
 gen int year=2015
 gen ye=year(int_yr)
 rename ye int_year
npl_2015_ahs_v01_m_v01_a_sarmd,NPL,2015,AHS,v01,v01,yrmove,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,age,
 *gen byte age=v01_03
 replace age=98 if age>=98
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,atschool,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,bicycle,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,buffalo,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,cellphone,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,chicken,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,computer,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,contract,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,countrycode,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,cow,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,cpi,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,cpiperiod,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,ed_mod_age,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,educat4,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,educat5,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,educat7,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,educy,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,electricity,
gen electricity=source_light
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,empstat,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,empstat_2,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,empstat_2_year,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,everattend,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,fan,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,firmsize_l,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,healthins,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,hsize,
 gen hsize=totmemb
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,idh,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)"
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,idp,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 egen str idh= concat(xhpsu xhnum), punct(-)
 egen str idp= concat(idh idc), punct(-)"
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,industry,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,industry_2,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,industry_orig_2,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,int_month,
 gen int_month=month(int_mon)
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,int_year,
 gen ye=year(int_yr)
 rename ye int_year
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,internet,
 gen byte internet=email_internet
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,lamp,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,lb_mod_age,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,literacy,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,lphone,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,lstatus,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,male,
 gen byte male=sex
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,marital,
 gen byte marital=.
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,motorcar,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,motorcycle,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,njobs,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,nlfreason,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,occup,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,ocusec,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,ownhouse,
 gen byte ownhouse=is_ownhouse
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,piped_water,
gen piped_water=has_pipe
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,pline_int,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,pline_nat,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,poor_int,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,poor_nat,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,pop_wgt,
 gen double wgt=wt_hh_adj
 replace wgt=0 if wgt==.
 gen hsize=totmemb
 gen pop_wgt=wgt*hsize
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,psu,"
 reshape wide yesno durable_num received_how yearsago purchase_price current_value, i(psu hhno hhid) j( itc2 ) string
 rename psu xhpsu
 gen psu=xhpsu"
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,radio,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,rbirth,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,rbirth_juris,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,refrigerator,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,relationcs,
 gen byte relationcs=rel_hhh
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,relationharm,
 gen byte relationharm=rel_hhh
 replace relationharm=5 if rel_hhh==3 & sex==2
 replace relationharm=5 if rel_hhh==4 & sex==1
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,rprevious,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,rprevious_juris,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,sar_improved_toilet,"
 gen sar_improved_toilet=.
 replace sar_improved_toilet=1 if inlist(type_toilet,1,2)
 replace sar_improved_toilet=0 if inlist(type_toilet,3,4,5)"
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,sar_improved_water,"
 gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(source_water,1,2,3)
 replace sar_improved_water=0 if inlist(source_water,4,5,6,7 )"
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,sewage_toilet,
 gen sewage_toilet= type_toilet
 replace sewage_toilet=0 if sewage_toilet!=1
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,sewingmachine,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,soc,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,socialsec,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,spdef,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,strata,
 gen strata=urbrur
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,subnatid1,
 gen byte subnatid1=dist
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,subnatid2,
 gen byte subnatid2=.
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,subnatid3,
 gen byte subnatid3=.
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,survey,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,television,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,toilet_jmp,
 gen toilet_jmp=.
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,toilet_orig,
 gen toilet_orig=type_toilet
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,unempldur_l,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,unempldur_u,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,union,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,unitwage,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,unitwage_2,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,urban,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,veralt,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,vermast,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,wage,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,wage_2,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,washingmachine,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,water_jmp,
gen water_jmp=.
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,water_orig,
 gen water_orig=source_water
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfare,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfaredef,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfarenat,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfarenom,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfareother,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfareothertype,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfaretype,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,welfshprosperity,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,wgt,
 gen double wgt=wt_hh_adj
 replace wgt=0 if wgt==.
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,whours,
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,year,
 gen int year=2016
 gen ye=year(int_yr)
 rename ye int_year
npl_2016_ahs_v01_m_v01_a_sarmd,NPL,2016,AHS,v01,v01,yrmove,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,age,
 *gen byte age=age
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,atschool,
 *gen byte age=age
 gen byte ed_mod_age=10
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,bicycle,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,buffalo,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,cellphone,
 gen byte cellphone=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,chicken,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,computer,
 gen byte computer=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,contract,
 gen byte contract=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,countrycode,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,cow,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,cpi,
 ren cpi`year'_w cpi
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,cpiperiod,
 gen cpiperiod=syear
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,ed_mod_age,
 gen byte ed_mod_age=10
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,educat4,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,educat5,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,educat7,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,educy,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,electricity,
 gen byte electricity=.
 replace electricity=1 if s5q04a==1 | s5q04a==2
 replace electricity=0 if s5q04a==3
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,empstat,
 gen byte empstat=s1bq06
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,empstat_2,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,empstat_2_year,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,everattend,
 gen byte ed_mod_age=10
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
 gen byte everattend=.
 replace everattend=0 if s2bq01==1
 replace everattend=1 if s2bq01==2 | s2bq01==3 | atschool==1
 replace everattend=. if age<ed_mod_age
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,fan,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,firmsize_l,
 gen byte firmsize_l=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,healthins,
 gen byte healthins=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,hsize,
 gen byte hsize=hhsizeM
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,idh,
 gen double idh= hhcode
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,idp,"
 gen double idh= hhcode
 gen double idp_= idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,industry,
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==0
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,industry_2,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,industry_orig_2,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,int_month,
 gen int_month=fmon1
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,int_year,
 gen int_year=2000+fyear1
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,internet,
 gen byte internet=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,lamp,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,literacy,
 *gen byte age=age
 gen byte ed_mod_age=10
 gen byte literacy=1 if s2aq21==1 & s2aq22==1
 replace literacy=0 if s2aq21==2 | s2aq22==2
 replace literacy=. if age<ed_mod_age
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,lphone,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,male,
 gen byte male= sex
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,marital,
 gen byte marital=mstatus
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,motorcar,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,motorcycle,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,njobs,
 gen byte njobs=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,nlfreason,
 gen byte nlfreason=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,occup,
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,ocusec,
 gen byte ocusec=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02==3 |s5q02==4 |s5q02==5
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,piped_water,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,poor_nat,
 gen welfareother=peaexpM
 gen pline_nat=pline
 gen poor_nat=welfareother<pline_nat if welfareother!=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,pop_wgt,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,psu,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,radio,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,rbirth,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,rbirth_juris,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,refrigerator,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,relationcs,
 gen byte relationcs=s1aq02
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,relationharm,
 gen byte relationharm=s1aq02
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,rprevious,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,rprevious_juris,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,sar_improved_toilet,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,sar_improved_water,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,sewage_toilet,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,sewingmachine,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,soc,
 gen byte soc=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,socialsec,
 gen byte socialsec=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,spdef,
 gen spdef=psupind
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,strata,"
 gen ori_hid=string(hhcode,""%15.0g"")
 gen strata=real(substr(ori_hid,1,4))"
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,subnatid1,
 gen byte subnatid1=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,subnatid2,
 gen byte subnatid2=province
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,subnatid3,
 gen byte subnatid3=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,survey,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,television,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,toilet_jmp,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,toilet_orig,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,unempldur_l,
 gen byte unempldur_l=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,unempldur_u,
 gen byte unempldur_u=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,union,
 gen byte union=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,unitwage,
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,unitwage_2,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,urban,
 gen byte urban=region
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,veralt,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,vermast,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,wage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,wage_2,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,washingmachine,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,water_jmp,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,water_orig,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfarenat,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfareother,
 gen welfareother=peaexpM
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfareothertype,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfaretype,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,welfshprosperity,
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,wgt,
 gen double wgt=weight
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,whours,
 gen whours=.
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,year,
 local year=2011
pak_2001_pihs_v01_m_v01_a_sarmd,PAK,2001,PIHS,v01,v01,yrmove,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,age,
 *gen byte age=age
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,atschool,
 *gen byte age=age
 gen byte ed_mod_age=10
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,bicycle,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,buffalo,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,cellphone,
 gen byte cellphone=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,chicken,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,computer,
 gen byte computer=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,contract,
 gen byte contract=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,countrycode,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,cow,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,ed_mod_age,
 gen byte ed_mod_age=10
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,educat4,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,educat5,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,educat7,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,educy,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,electricity,
 gen byte electricity=.
 replace electricity=1 if s5q04a==1 | s5q04a==2
 replace electricity=0 if s5q04a==3
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,empstat,
 gen byte empstat=s1bq06
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,empstat_2,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,empstat_2_year,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,everattend,
 gen byte ed_mod_age=10
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
 gen byte everattend=.
 replace everattend=0 if s2bq01==1
 replace everattend=1 if s2bq01==2 | s2bq01==3 | atschool==1
 replace everattend=. if age<ed_mod_age
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,fan,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,firmsize_l,
 gen byte firmsize_l=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,healthins,
 gen byte healthins=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,idh,
 gen double idh= hhcode
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,idp,"
 gen double idh= hhcode
 gen double idp_= idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,industry,
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==0
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,industry_2,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,industry_orig_2,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,int_month,
 gen int_month=fmon1
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,int_year,
 gen int_year=2000+fyear1
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,internet,
 gen byte internet=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,lamp,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,literacy,
 *gen byte age=age
 gen byte ed_mod_age=10
 gen byte literacy=1 if s2aq21==1 & s2aq22==1
 replace literacy=0 if s2aq21==2 | s2aq22==2
 replace literacy=. if age<ed_mod_age
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,lphone,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,male,
 gen byte male= sex
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,marital,
 gen byte marital=mstatus
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,motorcar,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,motorcycle,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,njobs,
 gen byte njobs=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,nlfreason,
 gen byte nlfreason=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,occup,
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,ocusec,
 gen byte ocusec=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02==3 |s5q02==4 |s5q02==5
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,piped_water,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,pop_wgt,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,psu,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,radio,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,rbirth,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,rbirth_juris,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,refrigerator,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,relationcs,
 gen byte relationcs=s1aq02
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,relationharm,
 gen byte relationharm=s1aq02
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,rprevious,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,rprevious_juris,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,sar_improved_toilet,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,sar_improved_water,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,sewage_toilet,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,sewingmachine,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,soc,
 gen byte soc=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,socialsec,
 gen byte socialsec=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,spdef,
 gen spdef=psupind
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,strata,"
 gen ori_hid=string(hhcode,""%15.0g"")
 gen strata=real(substr(ori_hid,1,4))"
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,subnatid2,
 gen byte subnatid2=province
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,survey,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,television,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,toilet_jmp,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,toilet_orig,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,unempldur_l,
 gen byte unempldur_l=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,unempldur_u,
 gen byte unempldur_u=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,union,
 gen byte union=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,unitwage,
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,unitwage_2,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,urban,
 gen byte urban=region
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,veralt,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,vermast,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,wage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,wage_2,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,washingmachine,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,water_jmp,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,water_orig,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfareothertype,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfaretype,
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,wgt,
 gen double wgt=weight
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,whours,
 gen whours=.
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,year,
 gen int year=2001
 local year=2011
pak_2001_pihs_v01_m_v02_a_sarmd,PAK,2001,PIHS,v01,v02,yrmove,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,age,
 *gen byte age=age
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,atschool,
 *gen byte age=age
 gen byte ed_mod_age=10
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,bicycle,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,buffalo,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,cellphone,
 gen byte cellphone=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,chicken,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,computer,
 gen byte computer=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,contract,
 gen byte contract=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,countrycode,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,cow,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,ed_mod_age,
 gen byte ed_mod_age=10
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,educat4,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,educat5,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,educat7,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=. if age<ed_mod_age & age!=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,educy,
 *gen byte age=age
 gen byte ed_mod_age=10
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,electricity,
 gen byte electricity=.
 replace electricity=1 if s5q04a==1 | s5q04a==2
 replace electricity=0 if s5q04a==3
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,empstat,
 gen byte empstat=s1bq06
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,empstat_2,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,empstat_2_year,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,everattend,
 gen byte ed_mod_age=10
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
 gen byte everattend=.
 replace everattend=0 if s2bq01==1
 replace everattend=1 if s2bq01==2 | s2bq01==3 | atschool==1
 replace everattend=. if age<ed_mod_age
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,fan,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,firmsize_l,
 gen byte firmsize_l=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,healthins,
 gen byte healthins=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,hsize,
 gen byte hsize=hhsizeM
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,idh,
 gen double idh= hhcode
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,idp,"
 gen double idh= hhcode
 gen double idp_= idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,industry,
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==0
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,industry_2,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,industry_orig_2,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,int_month,
 gen int_month=fmon1
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,int_year,
 gen int_year=2000+fyear1
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,internet,
 gen byte internet=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,lamp,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,literacy,
 *gen byte age=age
 gen byte ed_mod_age=10
 gen byte literacy=1 if s2aq21==1 & s2aq22==1
 replace literacy=0 if s2aq21==2 | s2aq22==2
 replace literacy=. if age<ed_mod_age
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,lphone,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,male,
 gen byte male= sex
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,marital,
 gen byte marital=mstatus
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,motorcar,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,motorcycle,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,njobs,
 gen byte njobs=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,nlfreason,
 gen byte nlfreason=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,occup,
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,ocusec,
 gen byte ocusec=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,ownhouse,
 gen byte ownhouse=.
 replace ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02==3 |s5q02==4 |s5q02==5
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,piped_water,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,pline_nat,
 gen pline_nat=new_pline
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int if welfare!=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,pop_wgt,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,psu,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,radio,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,rbirth,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,rbirth_juris,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,refrigerator,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,relationcs,
 gen byte relationcs=s1aq02
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,relationharm,
 gen byte relationharm=s1aq02
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,rprevious,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,rprevious_juris,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,sar_improved_toilet,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,sar_improved_water,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,sewage_toilet,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,sewingmachine,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,soc,
 gen byte soc=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,socialsec,
 gen byte socialsec=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,spdef,
 gen spdef=psupind
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,strata,"
 gen ori_hid=string(hhcode,""%15.0g"")
 gen strata=real(substr(ori_hid,1,4))"
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,subnatid2,
 gen byte subnatid2=province
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,survey,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,television,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,toilet_jmp,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,toilet_orig,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,unempldur_l,
 gen byte unempldur_l=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,unempldur_u,
 gen byte unempldur_u=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,union,
 gen byte union=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,unitwage,
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,unitwage_2,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,urban,
 gen byte urban=region
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,veralt,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,vermast,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,wage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,wage_2,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,washingmachine,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,water_jmp,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,water_orig,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfareother,
 gen welfareother=peaexpM
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfareothertype,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfaretype,
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,wgt,
 gen double wgt=weight
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,whours,
 gen whours=.
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,year,
 gen int year=2001
 local year=2011
pak_2001_pihs_v01_m_v03_a_sarmd,PAK,2001,PIHS,v01,v03,yrmove,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,age,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,atschool,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,bicycle,
 gen bicycle= numdur_713bicycle>0 & numdur_713bicycle<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,buffalo,
 gen buffalo=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,cellphone,
 gen cellphone=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,chicken,
 gen chicken=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,computer,
 gen byte computer=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,countrycode,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,cow,
 gen cow=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,educat4,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,educat5,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,educat7,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,educy,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,electricity,
 gen byte electricity=.
 replace electricity=1 if s5q04a==1 | s5q04a==2
 replace electricity=0 if s5q04a==3
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,empstat,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte empstat=s1bq06
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,empstat_2_year,
 gen byte empstat_2_year=s1bq14
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,everattend,
 gen byte ed_mod_age=4
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
 gen byte everattend=.
 replace everattend=0 if s2bq01==1
 replace everattend=1 if s2bq01==2 | s2bq01==3 | atschool==1
 replace everattend=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,fan,
 gen fan=numdur_705fan__ceilin>0 & numdur_705fan__ceilin<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,hsize,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,idh,"
  reshape wide s9aq01, i( hhcode ) j( itc )
  ren s7q01b numdur
  reshape wide numdur, i( hhcode ) j( itc2 ) strin
 gen double idh= hhcode"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,idp,"
  reshape wide s9aq01, i( hhcode ) j( itc )
  ren s7q01b numdur
  reshape wide numdur, i( hhcode ) j( itc2 ) strin
 gen double idh= hhcode
 gen double idp_= idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,industry,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==0
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,industry_2,
 gen byte industry_2=.
 replace industry_2=1 if s1bq13>=11 & s1bq13<=13
 replace industry_2=2 if s1bq13>=21 & s1bq13<=29
 replace industry_2=3 if s1bq13>=31 & s1bq13<=39
 replace industry_2=4 if s1bq13>=41 & s1bq13<=42
 replace industry_2=5 if s1bq13>=51 & s1bq13<=59
 replace industry_2=6 if s1bq13>=61 & s1bq13<=63
 replace industry_2=7 if s1bq13>=71 & s1bq13<=72
 replace industry_2=8 if s1bq13>=81 & s1bq13<=83
 replace industry_2=9 if s1bq13==91
 replace industry_2=10 if s1bq13>=92 & s1bq13<=96
 replace industry_2=10 if s1bq13==0
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,industry_orig_2,
 gen industry_orig_2=s1bq13
 replace industry_orig_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,int_month,
 gen int_month=fmon1
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,int_year,
 gen int_year=2000+fyear1
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,internet,
 gen byte internet=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,lamp,
 gen lamp=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,lb_mod_age,
gen byte lb_mod_age=10
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,literacy,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=1 if s2aq21==1 & s2aq22==1
 replace literacy=0 if s2aq21==2 | s2aq22==2
 replace literacy=. if age<ed_mod_age
 replace literacy=. if age<10
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,lphone,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,male,
 gen byte male= sex
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,marital,
 gen byte marital=mstatus
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,motorcar,
 gen motorcar= numdur_714car_vehicle>0 & numdur_714car_vehicle<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,motorcycle,
 gen motorcycle= numdur_715motorcycle_>0 & numdur_715motorcycle_<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,njobs,
 gen byte njobs=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,nlfreason,
 gen byte nlfreason=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,occup,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,ocusec,
 gen byte ocusec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02==3 |s5q02==4 |s5q02==5
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen byte relationharm=s1aq02
replace ownhouse=. if ownhouse==1 & hsize==. & relationharm==6"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9)"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,pline_nat,
 gen pline_nat=new_pline
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,poor_int,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int if welfare!=."
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,pop_wgt,"
 gen double wgt=weight
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen pop_wgt=wgt*hsize"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,psu,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,radio,
 gen radio= numdur_718radio_casse>0 & numdur_718radio_casse<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,rbirth,
 gen byte rbirth=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,refrigerator,
 gen refrigerator= numdur_701refrigerato>0 & numdur_701refrigerato<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,relationcs,
 gen byte relationcs=s1aq02
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,relationharm,
 gen byte relationharm=s1aq02
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,rprevious,
 gen byte rprevious=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,sewage_toilet,
gen sewage_toilet=s5q14
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,sewingmachine,
 gen sewingmachine= numdur_721sewing_knit>0 & numdur_721sewing_knit<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,spdef,
 gen spdef=psupind
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,strata,
gen strata=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,subnatid1,
 gen byte subnatid1=province
 replace subnatid1=. if subnatid1>=5
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,subnatid2,
 gen byte subnatid2=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,survey,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,television,
 gen television=numdur_716tv>0 & numdur_716tv<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,toilet_orig,
gen toilet_orig=s5q14
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,urban,
 gen byte urban=region
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,veralt,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,vermast,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,wage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,washingmachine,
 gen washingmachine= numdur_707washing_mac>0 & numdur_707washing_mac<.
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,water_orig,
gen water_orig=s5q05
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfare,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfare=nomexpend/hsize"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfaredef,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfaredef=texpend/hsize"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfarenom,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfarenom=nomexpend/hsize"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfareother,
 gen welfareother=peaexpM
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfareothertype,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfaretype,
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,welfshprosperity,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,wgt,
 gen double wgt=weight
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,whours,
 gen whours=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,year,
 gen int year=2001
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2001_pihs_v01_m_v04_a_sarmd,PAK,2001,PIHS,v01,v04,yrmove,
 gen int yrmove=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,age,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,atschool,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,bicycle,
 gen bicycle= numdur_713bicycle>0 & numdur_713bicycle<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,buffalo,
 gen buffalo=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,cellphone,
 gen cellphone=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,chicken,
 gen chicken=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,computer,
 gen byte computer=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,countrycode,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,cow,
 gen cow=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,cpi,
 ren cpi`year'_w cpi
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,cpiperiod,
 gen cpiperiod=syear
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,ed_mod_age,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,educat4,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,educat5,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,educat7,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,educy,
 gen byte ed_mod_age=4
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,electricity,
 gen byte electricity=.
 replace electricity=1 if s5q04a==1 | s5q04a==2
 replace electricity=0 if s5q04a==3
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,empstat,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte empstat=s1bq06
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,empstat_2_year,
 gen byte empstat_2_year=s1bq14
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,everattend,
 gen byte ed_mod_age=4
 gen byte atschool=s2bq01
 replace atschool=. if age<ed_mod_age
 gen byte everattend=.
 replace everattend=0 if s2bq01==1
 replace everattend=1 if s2bq01==2 | s2bq01==3 | atschool==1
 replace everattend=. if age<ed_mod_age
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,fan,
 gen fan=numdur_705fan__ceilin>0 & numdur_705fan__ceilin<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,hsize,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,idh,"
  reshape wide s9aq01, i( hhcode ) j( itc )
  ren s7q01b numdur
  reshape wide numdur, i( hhcode ) j( itc2 ) strin
 gen double idh= hhcode"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,idp,"
  reshape wide s9aq01, i( hhcode ) j( itc )
  ren s7q01b numdur
  reshape wide numdur, i( hhcode ) j( itc2 ) strin
 gen double idh= hhcode
 gen double idp_= idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,industry,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==0
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,industry_2,
 gen byte industry_2=.
 replace industry_2=1 if s1bq13>=11 & s1bq13<=13
 replace industry_2=2 if s1bq13>=21 & s1bq13<=29
 replace industry_2=3 if s1bq13>=31 & s1bq13<=39
 replace industry_2=4 if s1bq13>=41 & s1bq13<=42
 replace industry_2=5 if s1bq13>=51 & s1bq13<=59
 replace industry_2=6 if s1bq13>=61 & s1bq13<=63
 replace industry_2=7 if s1bq13>=71 & s1bq13<=72
 replace industry_2=8 if s1bq13>=81 & s1bq13<=83
 replace industry_2=9 if s1bq13==91
 replace industry_2=10 if s1bq13>=92 & s1bq13<=96
 replace industry_2=10 if s1bq13==0
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,industry_orig_2,
 gen industry_orig_2=s1bq13
 replace industry_orig_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,int_month,
 gen int_month=fmon1
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,int_year,
 gen int_year=2000+fyear1
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,internet,
 gen byte internet=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,lamp,
 gen lamp=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,lb_mod_age,
gen byte lb_mod_age=10
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,literacy,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=1 if s2aq21==1 & s2aq22==1
 replace literacy=0 if s2aq21==2 | s2aq22==2
 replace literacy=. if age<ed_mod_age
 replace literacy=. if age<10
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,lphone,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,lstatus,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,male,
 gen byte male= sex
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,marital,
 gen byte marital=mstatus
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,motorcar,
 gen motorcar= numdur_714car_vehicle>0 & numdur_714car_vehicle<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,motorcycle,
 gen motorcycle= numdur_715motorcycle_>0 & numdur_715motorcycle_<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,njobs,
 gen byte njobs=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,nlfreason,
 gen byte nlfreason=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,occup,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,ocusec,
 gen byte ocusec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02==3 |s5q02==4 |s5q02==5
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen byte relationharm=s1aq02
replace ownhouse=. if ownhouse==1 & hsize==. & relationharm==6"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9)"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,pline_nat,
 gen pline_nat=new_pline
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,poor_int,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int if welfare!=."
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,pop_wgt,"
 gen double wgt=weight
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen pop_wgt=wgt*hsize"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,psu,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,radio,
 gen radio= numdur_718radio_casse>0 & numdur_718radio_casse<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,rbirth,
 gen byte rbirth=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,refrigerator,
 gen refrigerator= numdur_701refrigerato>0 & numdur_701refrigerato<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,relationcs,
 gen byte relationcs=s1aq02
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,relationharm,
 gen byte relationharm=s1aq02
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,rprevious,
 gen byte rprevious=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,sewage_toilet,
gen sewage_toilet=s5q14
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,sewingmachine,
 gen sewingmachine= numdur_721sewing_knit>0 & numdur_721sewing_knit<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,spdef,
 gen spdef=psupind
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,strata,
gen strata=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,subnatid1,
 gen byte subnatid1=province
 replace subnatid1=. if subnatid1>=5
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,subnatid2,
 gen byte subnatid2=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,subnatid3,
 gen byte subnatid3=.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,survey,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,television,
 gen television=numdur_716tv>0 & numdur_716tv<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,toilet_orig,
gen toilet_orig=s5q14
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,unitwage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,urban,
 gen byte urban=region
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,veralt,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,vermast,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,wage,
 gen byte lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,washingmachine,
 gen washingmachine= numdur_707washing_mac>0 & numdur_707washing_mac<.
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,water_orig,
gen water_orig=s5q05
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfare,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfare=nomexpend/hsize"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfaredef,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfaredef=texpend/hsize"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfarenat,
 gen welfarenat=peaexpM
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfarenom,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfarenom=nomexpend/hsize"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfareother,
 gen welfareother=peaexpM
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfareothertype,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfaretype,
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,welfshprosperity,"
 gen byte hsize=hhsizeM
  g aux=1
 egen hsize2=sum(aux), by(idh)
 replace hsize=hsize2 if hsize==.
 drop aux hsize2
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,wgt,
 gen double wgt=weight
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,whours,
 gen whours=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,year,
 gen int year=2001
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2001_pihs_v01_m_v05_a_sarmd,PAK,2001,PIHS,v01,v05,yrmove,
 gen int yrmove=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,age,
 *gen byte age=age
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,atschool,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,bicycle,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,buffalo,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,cellphone,"
 gen byte cellphone=.
 replace cellphone=1 if g09==3 | g09==4
 replace cellphone=0 if inlist(g09,1,2)"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,chicken,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,computer,
 gen byte computer=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,contract,
 gen byte contract=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,countrycode,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,cow,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,cpi,
 ren cpi`year'_w cpi
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,cpiperiod,
 gen cpiperiod=syear
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,educat4,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,educat5,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,educat7,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,educy,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,electricity,"
 gen byte electricity=.
 replace electricity=1 if g08==1
 replace electricity=0 if inlist(g08,2,3,4,5,6)"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,empstat,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte empstat=e07
 replace empstat=. if lstatus!=1"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,empstat_2,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,empstat_2_year,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,everattend,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,fan,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,firmsize_l,
 gen byte firmsize_l=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,healthins,
 gen byte healthins=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,hsize,
 gen byte hsize=hhsizeM
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,idh,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,idp,"
 gen double idp_= 100*idh+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,industry,
 gen byte industry=e10
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,industry_2,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,industry_orig_2,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,int_month,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_month=month1
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,int_year,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_year=year1
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,internet,
 gen byte internet=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,lamp,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,literacy,
 gen byte literacy=.
 replace literacy=1 if c01==1
 replace literacy=0 if c01==2
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,lphone,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,lstatus,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,male,
 gen byte male= sex
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,marital,
 *gen byte marital=marital
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,motorcar,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,motorcycle,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,njobs,
 gen byte njobs=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if e05==5
 replace nlfreason=2 if e05==6
 replace nlfreason=3 if e05==7
 replace nlfreason=4 if e05==1
 replace nlfreason=5 if inlist(e05,0,2,3,4,8,9)
 replace nlfreason=. if lstatus!=3"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,occup,
 gen byte occup=e09
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,ocusec,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte ocusec=e08
 replace ocusec=. if lstatus!=1"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if g01==1
 replace ownhouse=0 if inlist(g01,2,3,4)"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,piped_water,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,poor_nat,
 gen welfareother=peaexpM
 gen pline_nat=pline
 gen poor_nat=welfareother<pline_nat if welfareother!=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,pop_wgt,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,psu,
 drop psu
 gen psu= psucode
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,radio,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,rbirth,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,rbirth_juris,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,refrigerator,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,relationcs,
 gen byte relationcs=rel
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,relationharm,
 gen byte relationharm=rel
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,rprevious,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,rprevious_juris,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,sar_improved_toilet,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,sar_improved_water,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,sewage_toilet,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,sewingmachine,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,soc,
 gen byte soc=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,socialsec,
 gen byte socialsec=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,strata,
 gen strata=stratum
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,subnatid1,
 gen byte subnatid1=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,subnatid2,
 gen byte subnatid2=province
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,subnatid3,
 gen byte subnatid3=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,survey,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,television,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,toilet_jmp,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,toilet_orig,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,unempldur_l,
 gen byte unempldur_l=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,unempldur_u,
 gen byte unempldur_u=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,union,
 gen byte union=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,unitwage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte unitwage=.
 replace unitwage=2 if e13!=.
 replace unitwage=8 if e16!=.
 replace unitwage=. if lstatus!=1"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,unitwage_2,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,urban,
 gen byte urban=urbrural
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,veralt,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,vermast,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,wage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen double wage=.
 replace wage=e13 if e13!=.
 replace wage=e16 if e16!=.
 replace wage=. if lstatus!=1"
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,wage_2,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,washingmachine,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,water_jmp,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,water_orig,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfarenat,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfareother,
 gen welfareother=peaexpM
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfareothertype,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfaretype,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,welfshprosperity,
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,wgt,
 gen double wgt=hweight
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,whours,
 gen whours=.
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,year,
 gen int year=2004
 local year=2011
pak_2004_pslm_v01_m_v01_a_sarmd,PAK,2004,PSLM,v01,v01,yrmove,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,age,
 *gen byte age=age
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,atschool,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,bicycle,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,buffalo,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,cellphone,"
 gen byte cellphone=.
 replace cellphone=1 if g09==3 | g09==4
 replace cellphone=0 if inlist(g09,1,2)"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,chicken,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,computer,
 gen byte computer=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,contract,
 gen byte contract=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,countrycode,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,cow,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,educat4,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,educat5,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,educat7,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,educy,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,electricity,"
 gen byte electricity=.
 replace electricity=1 if g08==1
 replace electricity=0 if inlist(g08,2,3,4,5,6)"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,empstat,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte empstat=e07
 replace empstat=. if lstatus!=1"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,empstat_2,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,empstat_2_year,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,everattend,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,fan,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,firmsize_l,
 gen byte firmsize_l=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,healthins,
 gen byte healthins=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,idh,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,idp,"
 gen double idp_= 100*idh+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,industry,
 gen byte industry=e10
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,industry_2,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,industry_orig_2,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,int_month,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_month=month1
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,int_year,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_year=year1
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,internet,
 gen byte internet=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,lamp,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,literacy,
 gen byte literacy=.
 replace literacy=1 if c01==1
 replace literacy=0 if c01==2
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,lphone,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,lstatus,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,male,
 gen byte male= sex
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,marital,
*<_marital_> *gen byte marital=marital
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,motorcar,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,motorcycle,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,njobs,
 gen byte njobs=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if e05==5
 replace nlfreason=2 if e05==6
 replace nlfreason=3 if e05==7
 replace nlfreason=4 if e05==1
 replace nlfreason=5 if inlist(e05,0,2,3,4,8,9)
 replace nlfreason=. if lstatus!=3"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,occup,
 gen byte occup=e09
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,ocusec,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte ocusec=e08
 replace ocusec=. if lstatus!=1"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if g01==1
 replace ownhouse=0 if inlist(g01,2,3,4)"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,piped_water,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,pop_wgt,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,psu,
 drop psu
 gen psu= psucode
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,radio,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,rbirth,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,rbirth_juris,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,refrigerator,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,relationcs,
 gen byte relationcs=rel
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,relationharm,
 gen byte relationharm=rel
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,rprevious,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,rprevious_juris,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,sar_improved_toilet,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,sar_improved_water,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,sewage_toilet,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,sewingmachine,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,soc,
 gen byte soc=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,socialsec,
 gen byte socialsec=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,strata,
 gen strata=stratum
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=province
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,survey,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,television,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,toilet_jmp,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,toilet_orig,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,unempldur_l,
 gen byte unempldur_l=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,unempldur_u,
 gen byte unempldur_u=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,union,
 gen byte union=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,unitwage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte unitwage=.
 replace unitwage=2 if e13!=.
 replace unitwage=8 if e16!=.
 replace unitwage=. if lstatus!=1"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,unitwage_2,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,urban,
 gen byte urban=urbrural
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,veralt,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,vermast,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,wage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen double wage=.
 replace wage=e13 if e13!=.
 replace wage=e16 if e16!=.
 replace wage=. if lstatus!=1"
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,wage_2,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,washingmachine,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,water_jmp,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,water_orig,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfareothertype,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfaretype,
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,wgt,
 gen double wgt=hweight
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,whours,
 gen whours=.
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,year,
 gen int year=2004
 local year=2011
pak_2004_pslm_v01_m_v02_a_sarmd,PAK,2004,PSLM,v01,v02,yrmove,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,age,
 *gen byte age=age
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,atschool,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,bicycle,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,buffalo,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,cellphone,"
 gen byte cellphone=.
 replace cellphone=1 if g09==3 | g09==4
 replace cellphone=0 if inlist(g09,1,2)"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,chicken,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,computer,
 gen byte computer=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,contract,
 gen byte contract=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,countrycode,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,cow,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,ed_mod_age,
 gen byte ed_mod_age=4
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,educat4,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,educat5,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,educat7,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,educy,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,electricity,"
 gen byte electricity=.
 replace electricity=1 if g08==1
 replace electricity=0 if inlist(g08,2,3,4,5,6)"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,empstat,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte empstat=e07
 replace empstat=. if lstatus!=1"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,empstat_2,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,empstat_2_year,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,everattend,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,fan,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,firmsize_l,
 gen byte firmsize_l=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,healthins,
 gen byte healthins=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,hsize,
 gen byte hsize=hhsizeM
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,idh,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,idp,"
 gen double idp_= 100*idh+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,industry,
 gen byte industry=e10
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,industry_2,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,industry_orig_2,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,int_month,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_month=month1
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,int_year,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_year=year1
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,internet,
 gen byte internet=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,lamp,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,literacy,
 gen byte literacy=.
 replace literacy=1 if c01==1
 replace literacy=0 if c01==2
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,lphone,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,lstatus,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,male,
 gen byte male= sex
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,marital,
*<_marital_> *gen byte marital=marital
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,motorcar,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,motorcycle,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,njobs,
 gen byte njobs=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if e05==5
 replace nlfreason=2 if e05==6
 replace nlfreason=3 if e05==7
 replace nlfreason=4 if e05==1
 replace nlfreason=5 if inlist(e05,0,2,3,4,8,9)
 replace nlfreason=. if lstatus!=3"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,occup,
 gen byte occup=e09
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,ocusec,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte ocusec=e08
 replace ocusec=. if lstatus!=1"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if g01==1
 replace ownhouse=0 if inlist(g01,2,3,4)"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,piped_water,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,pline_nat,
 gen pline_nat=new_pline
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,pop_wgt,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,psu,
 drop psu
 gen psu= psucode
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,radio,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,rbirth,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,rbirth_juris,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,refrigerator,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,relationcs,
 gen byte relationcs=rel
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,relationharm,
 gen byte relationharm=rel
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,rprevious,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,rprevious_juris,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,sar_improved_toilet,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,sar_improved_water,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,sewage_toilet,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,sewingmachine,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,soc,
 gen byte soc=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,socialsec,
 gen byte socialsec=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,spdef,
 gen spdef=psupind
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,strata,
 gen strata=stratum
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,subnatid2,
 gen byte subnatid2=province
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,survey,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,television,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,toilet_jmp,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,toilet_orig,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,unempldur_l,
 gen byte unempldur_l=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,unempldur_u,
 gen byte unempldur_u=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,union,
 gen byte union=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,unitwage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte unitwage=.
 replace unitwage=2 if e13!=.
 replace unitwage=8 if e16!=.
 replace unitwage=. if lstatus!=1"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,unitwage_2,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,urban,
 gen byte urban=urbrural
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,veralt,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,vermast,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,wage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen double wage=.
 replace wage=e13 if e13!=.
 replace wage=e16 if e16!=.
 replace wage=. if lstatus!=1"
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,wage_2,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,washingmachine,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,water_jmp,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,water_orig,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfareother,
 gen welfareother=peaexpM
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfareothertype,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfaretype,
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,wgt,
 gen double wgt=hweight
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,whours,
 gen whours=.
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,year,
 gen int year=2004
 local year=2011
pak_2004_pslm_v01_m_v03_a_sarmd,PAK,2004,PSLM,v01,v03,yrmove,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,age,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,atschool,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,bicycle,
 gen bicycle=f11m
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,buffalo,
 gen buffalo=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,cellphone,"
 gen byte cellphone=.
 replace cellphone=1 if g09==3 | g09==4
 replace cellphone=0 if inlist(g09,1,2)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,chicken,
 gen chicken=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,computer,
 gen byte computer=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,countrycode,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,cow,
 gen cow=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,educat4,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,educat5,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,educat7,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,educy,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,electricity,"
 gen byte electricity=.
 replace electricity=1 if g08==1
 replace electricity=0 if inlist(g08,2,3,4,5,6)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,empstat,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte empstat=e07
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,empstat_2_year,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,everattend,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,fan,
 gen fan=f11b
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,hsize,
 gen byte hsize=hhsizeM
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,idh,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,idp,"
 gen double idp_= 100*idh+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,industry,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte industry=e10
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,int_month,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_month=month1
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,int_year,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_year=year1
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,internet,
 gen byte internet=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,lamp,
 gen lamp=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,lb_mod_age,
gen byte lb_mod_age=10
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,literacy,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
 gen byte literacy=.
 replace literacy=1 if c01==1
 replace literacy=0 if c01==2
 replace literacy=. if age<10
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,lphone,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,lstatus,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,male,
 gen byte male= sex
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,marital,
*<_marital_> *gen byte marital=marital
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,motorcar,
 gen motorcar=f11o
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,motorcycle,
 gen motorcycle=f11n
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,njobs,
 gen byte njobs=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if e05==5
 replace nlfreason=2 if e05==6
 replace nlfreason=3 if e05==7
 replace nlfreason=4 if e05==1
 replace nlfreason=5 if inlist(e05,0,2,3,4,8,9)
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,occup,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte occup=e09
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,ocusec,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte ocusec=e08
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if g01==1
 replace ownhouse=0 if inlist(g01,2,3,4)
foreach i in ownhouse tenure landholding{
replace `i'=. if relationharm==6 & hsize==.
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,piped_water,"
gen piped_water=.
replace piped_water=1 if g05==1 | g05==2
replace piped_water=0 if inlist(g05,3,4,5,6,7,8,9)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,pline_nat,
 gen pline_nat=new_pline
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,pop_wgt,
 gen double wgt=hweight
 gen byte hsize=hhsizeM
 gen pop_wgt=wgt*hsize
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,psu,
 drop psu
 gen psu= psucode
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,radio,
 gen radio=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,rbirth,
 gen byte rbirth=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,refrigerator,
 gen refrigerator=f11i
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,relationcs,
 gen byte relationcs=rel
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,relationharm,
 gen byte relationharm=rel
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,rprevious,
 gen byte rprevious=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,sar_improved_toilet,"
gen toilet_orig=g06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(g05,1)
replace water_jmp=2 if inlist(g05,2)
replace water_jmp=4 if inlist(g05,3,4)
replace water_jmp=5 if inlist(g05,5)
replace water_jmp=6 if inlist(g05,6)
replace water_jmp=12 if inlist(g05,7)
replace water_jmp=10 if inlist(g05,8)
replace water_jmp=14 if inlist(g05,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,sewage_toilet,"
gen sewage_toilet=.
replace sewage_toilet=1 if g06==2
replace sewage_toilet=0 if inlist(g06,1,3,4,5,6,7)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,sewingmachine,
 gen sewingmachine=f11c
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,spdef,
 gen spdef=psupind
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,strata,
 gen strata=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,subnatid1,
 gen byte subnatid1=province
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,subnatid2,
 gen byte subnatid2=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,survey,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,television,
 gen television=f11g
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,toilet_jmp,"
gen toilet_orig=g06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,toilet_orig,
gen toilet_orig=g06
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,unitwage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte unitwage=.
 replace unitwage=2 if e13!=.
 replace unitwage=8 if e16!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,urban,
 gen byte urban=urbrural
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,veralt,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,vermast,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,wage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen double wage=.
 replace wage=e13 if e13!=.
 replace wage=e16 if e16!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,washingmachine,
 gen washingmachine=.
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(g05,1)
replace water_jmp=2 if inlist(g05,2)
replace water_jmp=4 if inlist(g05,3,4)
replace water_jmp=5 if inlist(g05,5)
replace water_jmp=6 if inlist(g05,6)
replace water_jmp=12 if inlist(g05,7)
replace water_jmp=10 if inlist(g05,8)
replace water_jmp=14 if inlist(g05,9)"
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,water_orig,
gen water_orig=g05
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfareother,
 gen welfareother=peaexpM
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfareothertype,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfaretype,
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,wgt,
 gen double wgt=hweight
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,whours,
 gen whours=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,year,
 gen int year=2004
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2004_pslm_v01_m_v04_a_sarmd,PAK,2004,PSLM,v01,v04,yrmove,
 gen int yrmove=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,age,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,atschool,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,bicycle,
 gen bicycle=f11m
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,buffalo,
 gen buffalo=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,cellphone,"
 gen byte cellphone=.
 replace cellphone=1 if g09==3 | g09==4
 replace cellphone=0 if inlist(g09,1,2)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,chicken,
 gen chicken=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,computer,
 gen byte computer=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,contract,
 gen byte contract=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,countrycode,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,cow,
 gen cow=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,cpi,
 ren cpi`year'_w cpi
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,cpiperiod,
 gen cpiperiod=syear
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,ed_mod_age,
 gen byte ed_mod_age=4
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,educat4,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,educat5,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,educat7,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte educat7=.
 replace educat7=1 if educy==0
 replace educat7=2 if educy>=1 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy!=.
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,educy,
 gen byte ed_mod_age=4
 gen byte educy=.
 replace educy=0 if c03==2
 replace educy = c04
 replace educy = 12 if c04 == 11
 replace educy = 14 if c04 == 12
 replace educy = 17 if c04 == 14
 replace educy = 16 if (c04 == 13 | c04 == 15 | c04 == 16 | c04 == 17)
 replace educy = 20 if c04 == 18
 replace educy = . if c04 == 19
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,electricity,"
 gen byte electricity=.
 replace electricity=1 if g08==1
 replace electricity=0 if inlist(g08,2,3,4,5,6)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,empstat,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte empstat=e07
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,empstat_2,
 gen byte njobs=.
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,empstat_2_year,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus_year=.
 replace lstatus_year=. if age<lb_mod_age & age!=.
 gen byte njobs_year=.
 replace njobs_year=. if lstatus_year!=1
 gen byte empstat_2_year=.
 replace empstat_2_year=. if njobs_year==0 | njobs_year==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,everattend,
 gen byte atschool=.
 replace atschool=1 if c05==1
 replace atschool=0 if c05==2 | c03==2
 gen byte everattend=c03
 replace everattend=1 if atschool==1
 replace everattend=. if age<ed_mod_age & age!=.
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,fan,
 gen fan=f11b
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,firmsize_l,
 gen byte firmsize_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,healthins,
 gen byte healthins=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,hsize,
 gen byte hsize=hhsizeM
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,idh,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,idp,"
 gen double idp_= 100*idh+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,industry,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte industry=e10
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,industry_2,
 gen byte njobs=.
 gen byte industry_2=.
 replace industry_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,industry_orig_2,
 gen byte njobs=.
 gen industry_orig_2=.
 replace industry_orig_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,int_month,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_month=month1
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,int_year,
 replace year1=2000+year1
 *replace month1=.  if month1<9 & year1==2004 & month1!=.
 *replace month1=.  if month1>=7 & year1==2005 & month1!=.
 *replace year1=.  if month1<9 & year1==2004 & month1!=.
 *replace year1=.  if month1>=7 & year1==2005 & month1!=.
 replace month1=.  if year1!=2004 & year1!=2005
 replace year1=.  if year1!=2004 & year1!=2005
 replace month1=.  if month1>12 & month1!=.
 replace year1=.  if month1>12 & month1!=.
 gen int_year=year1
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,internet,
 gen byte internet=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,lamp,
 gen lamp=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,lb_mod_age,
gen byte lb_mod_age=10
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,literacy,
 *gen byte age=age
 replace age=98 if age>=98 & age!=.
 gen byte literacy=.
 replace literacy=1 if c01==1
 replace literacy=0 if c01==2
 replace literacy=. if age<10
foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,lphone,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,lstatus,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,male,
 gen byte male= sex
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,marital,
*<_marital_> *gen byte marital=marital
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,motorcar,
 gen motorcar=f11o
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,motorcycle,
 gen motorcycle=f11n
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,njobs,
 gen byte njobs=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,nlfreason,"
 gen byte nlfreason=.
 replace nlfreason=1 if e05==5
 replace nlfreason=2 if e05==6
 replace nlfreason=3 if e05==7
 replace nlfreason=4 if e05==1
 replace nlfreason=5 if inlist(e05,0,2,3,4,8,9)
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,occup,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte occup=e09
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,ocusec,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte ocusec=e08
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,ownhouse,"
 gen byte ownhouse=.
 replace ownhouse=1 if g01==1
 replace ownhouse=0 if inlist(g01,2,3,4)
foreach i in ownhouse tenure landholding{
replace `i'=. if relationharm==6 & hsize==.
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,piped_water,"
gen piped_water=.
replace piped_water=1 if g05==1 | g05==2
replace piped_water=0 if inlist(g05,3,4,5,6,7,8,9)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,pline_nat,
 gen pline_nat=new_pline
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,pop_wgt,
 gen double wgt=hweight
 gen byte hsize=hhsizeM
 gen pop_wgt=wgt*hsize
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,psu,
 drop psu
 gen psu= psucode
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,radio,
 gen radio=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,rbirth,
 gen byte rbirth=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,refrigerator,
 gen refrigerator=f11i
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,relationcs,
 gen byte relationcs=rel
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,relationharm,
 gen byte relationharm=rel
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,rprevious,
 gen byte rprevious=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,sar_improved_toilet,"
gen toilet_orig=g06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(g05,1)
replace water_jmp=2 if inlist(g05,2)
replace water_jmp=4 if inlist(g05,3,4)
replace water_jmp=5 if inlist(g05,5)
replace water_jmp=6 if inlist(g05,6)
replace water_jmp=12 if inlist(g05,7)
replace water_jmp=10 if inlist(g05,8)
replace water_jmp=14 if inlist(g05,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,sewage_toilet,"
gen sewage_toilet=.
replace sewage_toilet=1 if g06==2
replace sewage_toilet=0 if inlist(g06,1,3,4,5,6,7)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,sewingmachine,
 gen sewingmachine=f11c
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,socialsec,
 gen byte socialsec=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,spdef,
 gen spdef=psupind
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,strata,
 gen strata=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,subnatid1,
 gen byte subnatid1=province
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,subnatid2,
 gen byte subnatid2=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,subnatid3,
 gen byte subnatid3=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,survey,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,television,
 gen television=f11g
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,toilet_jmp,"
gen toilet_orig=g06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,toilet_orig,
gen toilet_orig=g06
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,unempldur_l,
 gen byte unempldur_l=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,unempldur_u,
 gen byte unempldur_u=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,union,
 gen byte union=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,unitwage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen byte unitwage=.
 replace unitwage=2 if e13!=.
 replace unitwage=8 if e16!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,unitwage_2,
 gen byte njobs=.
 gen byte unitwage_2=.
 replace unitwage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,urban,
 gen byte urban=urbrural
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,veralt,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,vermast,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,wage,"
 gen byte lstatus=.
 replace lstatus = 1 if e01== 1 | (e01 == 2 & e02 == 1) | (e01 == 2 & e03 == 1) | (e01 == 2 & e06 == 3) | (e01 == 2 & e06 == 4)
 replace lstatus = 2 if e01 == 2 & e02 == 2 & e03 == 2
 replace lstatus = 3 if e01 == 2 & e02 == 2 & e03 == 2 & inlist(e05,1,2,4,5,6,7,8,9)
 gen double wage=.
 replace wage=e13 if e13!=.
 replace wage=e16 if e16!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,wage_2,
 gen byte njobs=.
 gen double wage_2=.
 replace wage_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,washingmachine,
 gen washingmachine=.
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(g05,1)
replace water_jmp=2 if inlist(g05,2)
replace water_jmp=4 if inlist(g05,3,4)
replace water_jmp=5 if inlist(g05,5)
replace water_jmp=6 if inlist(g05,6)
replace water_jmp=12 if inlist(g05,7)
replace water_jmp=10 if inlist(g05,8)
replace water_jmp=14 if inlist(g05,9)"
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,water_orig,
gen water_orig=g05
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfarenat,
 gen welfarenat=peaexpM
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfareother,
 gen welfareother=peaexpM
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfareothertype,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfaretype,
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,wgt,
 gen double wgt=hweight
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,whours,
 gen whours=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,year,
 gen int year=2004
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2004_pslm_v01_m_v05_a_sarmd,PAK,2004,PSLM,v01,v05,yrmove,
 gen int yrmove=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,age,
 gen byte age=a0105
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,atschool,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,bicycle,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,buffalo,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,cellphone,
 gen byte cellphone=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,chicken,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,computer,
 gen byte computer=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,contract,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,countrycode,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,cow,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,cpi,
 ren cpi`year'_w cpi
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,cpiperiod,
 gen cpiperiod=syear
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,educat4,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educat7=1 if b0205==0
 replace educat7=2 if b0205 >0 & b0205<8
 replace educat7=3 if b0205==8
 replace educat7=4 if b0205>8 & b0205<12
 replace educat7=5 if b0205==12
 replace educat7=7 if b0205>12 & b0205<=22
 replace educat7=6 if b0205==17
 replace educat7=. if b0205==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,educat5,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educat7=1 if b0205==0
 replace educat7=2 if b0205 >0 & b0205<8
 replace educat7=3 if b0205==8
 replace educat7=4 if b0205>8 & b0205<12
 replace educat7=5 if b0205==12
 replace educat7=7 if b0205>12 & b0205<=22
 replace educat7=6 if b0205==17
 replace educat7=. if b0205==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,educat7,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educat7=1 if b0205==0
 replace educat7=2 if b0205 >0 & b0205<8
 replace educat7=3 if b0205==8
 replace educat7=4 if b0205>8 & b0205<12
 replace educat7=5 if b0205==12
 replace educat7=7 if b0205>12 & b0205<=22
 replace educat7=6 if b0205==17
 replace educat7=. if b0205==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,educy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,electricity,
 gen byte electricity=1 if a0541==3 | a0541==2
 replace electricity=0 if a0541==1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,empstat,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,empstat_2,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,empstat_2_year,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,everattend,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,fan,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,firmsize_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,healthins,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,hsize,
 gen byte hsize=hhsizeM
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,idh,"
 gen byte relationharm=a0102
 *gen x=1 if relationharm==1
 *egen y=sum(x), by(idh)"
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,idp,"
 gen double idp_=idh*100+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,industry,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,industry_2,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,industry_orig_2,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,int_month,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_month=a0m12
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,int_year,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_year=a0y12
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,internet,
 gen byte internet=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,lamp,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,literacy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,lphone,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,lstatus,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,male,
 gen byte male=a0103
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,motorcar,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,motorcycle,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,njobs,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,nlfreason,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,occup,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,ocusec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,piped_water,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,poor_nat,
 gen welfareother=peaexpM
 gen pline_nat=pline
 gen poor_nat=welfareother<pline_nat if welfareother!=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,pop_wgt,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,psu,
 gen psu=psucode
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,radio,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,rbirth,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,rbirth_juris,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,refrigerator,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,relationcs,
 gen byte relationcs=a0102
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,relationharm,
 gen byte relationharm=a0102
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,rprevious,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,rprevious_juris,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,sar_improved_toilet,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,sar_improved_water,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,sewage_toilet,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,sewingmachine,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,soc,
 gen byte soc=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,socialsec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,strata,
 gen strata=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,subnatid1,
 gen byte subnatid1=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,subnatid2,
 gen byte subnatid2=province
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,subnatid3,
 gen byte subnatid3=.
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,survey,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,television,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,toilet_jmp,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,toilet_orig,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,unempldur_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,unempldur_u,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,union,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,unitwage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,unitwage_2,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,urban,
 gen byte urban=urbrural
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,veralt,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,vermast,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,wage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,wage_2,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,washingmachine,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,water_jmp,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,water_orig,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfarenat,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfareother,
 gen welfareother=peaexpM
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfareothertype,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfaretype,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,welfshprosperity,
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,wgt,
 gen double wgt=weight
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,whours,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,year,
 gen int year=2005
 local year=2011
pak_2005_pslm_v01_m_v01_a_sarmd,PAK,2005,PSLM,v01,v01,yrmove,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,age,
 gen byte age=a0105
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,atschool,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,bicycle,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,buffalo,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,cellphone,
 gen byte cellphone=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,chicken,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,computer,
 gen byte computer=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,contract,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,countrycode,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,cow,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,educat4,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,educat5,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,educat7,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,educy,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,electricity,
 gen byte electricity=1 if a0541==3 | a0541==2
 replace electricity=0 if a0541==1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,empstat,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,empstat_2,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,empstat_2_year,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,everattend,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,fan,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,firmsize_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,healthins,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,idh,"
 gen byte relationharm=a0102
 *gen x=1 if relationharm==1
 *egen y=sum(x), by(idh)"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,idp,"
 gen double idp_=idh*100+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,industry,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,industry_2,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,industry_orig_2,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,int_month,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_month=a0m12
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,int_year,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_year=a0y12
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,internet,
 gen byte internet=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,lamp,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,lb_mod_age,
 gen byte lb_mod_age=10
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,literacy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,lphone,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,lstatus,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,male,
 gen byte male=a0103
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,motorcar,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,motorcycle,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,njobs,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,nlfreason,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,occup,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,ocusec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,piped_water,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,pop_wgt,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,psu,
 gen psu=psucode
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,radio,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,rbirth,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,rbirth_juris,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,refrigerator,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,relationcs,
 gen byte relationcs=a0102
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,relationharm,
 gen byte relationharm=a0102
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,rprevious,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,rprevious_juris,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,sar_improved_toilet,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,sar_improved_water,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,sewage_toilet,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,sewingmachine,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,soc,
 gen byte soc=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,socialsec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,strata,
 gen strata=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=province
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,survey,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,television,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,toilet_jmp,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,toilet_orig,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,unempldur_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,unempldur_u,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,union,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,unitwage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,unitwage_2,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,urban,"
 gen byte urban=urbrural
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,veralt,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,vermast,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,wage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,wage_2,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,washingmachine,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,water_jmp,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,water_orig,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfare,"
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfareother,"
 gen welfareother=peaexpM
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfareothertype,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfaretype,
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,wgt,
 gen double wgt=weight
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,whours,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,year,
 gen int year=2005
 local year=2011
pak_2005_pslm_v01_m_v02_a_sarmd,PAK,2005,PSLM,v01,v02,yrmove,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,age,
 drop max_age
 gen byte age=a0105
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,atschool,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,bicycle,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,buffalo,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,cellphone,
 gen byte cellphone=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,chicken,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,computer,
 gen byte computer=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,contract,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,countrycode,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,cow,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,ed_mod_age,
 gen byte ed_mod_age=4
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,educat4,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,educat5,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,educat7,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,educy,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,electricity,
 gen byte electricity=1 if a0541==3 | a0541==2
 replace electricity=0 if a0541==1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,empstat,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,empstat_2,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,empstat_2_year,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,everattend,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,fan,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,firmsize_l,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,healthins,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,hsize,
 gen byte hsize=hhsizeM
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,idh,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,idp,"
 gen double idp_=idh*100+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,industry,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,industry_2,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,industry_orig_2,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,int_month,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_month=a0m12
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,int_year,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_year=a0y12
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,internet,
 gen byte internet=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,lamp,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,lb_mod_age,
 gen byte lb_mod_age=10
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,literacy,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,lphone,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,lstatus,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,male,
 gen byte male=a0103
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,motorcar,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,motorcycle,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,njobs,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,nlfreason,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,occup,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,ocusec,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,piped_water,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,pline_nat,
 gen int year=2005
 gen byte hsize=hhsizeM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,poor_nat,
 gen int year=2005
 gen byte hsize=hhsizeM
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,pop_wgt,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,psu,
 gen psu=psucode
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,radio,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,rbirth,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,rbirth_juris,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,refrigerator,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,relationcs,
 bys idh: egen max_age=max(a0105)
 replace a0102=1   if y==0 & a0105==max_age
 drop max_age
 replace a0102=12   if y==2 & a0103==2
 gen byte relationcs=a0102
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,relationharm,
 gen byte relationharm=a0102
 bys idh: egen max_age=max(a0105)
 replace a0102=1   if y==0 & a0105==max_age
 replace relationharm=1  if y==0 & a0105==max_age
 drop max_age
 replace a0102=12   if y==2 & a0103==2
 replace relationharm=2  if y==2 & a0103==2
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,rprevious,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,rprevious_juris,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,sar_improved_toilet,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,sar_improved_water,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,sewage_toilet,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,sewingmachine,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,soc,
 gen byte soc=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,socialsec,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,spdef,
 gen spdef=psupind
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,strata,
 gen strata=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,subnatid2,
 gen byte subnatid2=province
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,survey,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,television,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,toilet_jmp,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,toilet_orig,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,unempldur_l,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,unempldur_u,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,union,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,unitwage,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,unitwage_2,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,urban,"
 gen byte urban=urbrural
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,veralt,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,vermast,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,wage,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,wage_2,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,washingmachine,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,water_jmp,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,water_orig,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfare,"
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfareother,"
 gen welfareother=peaexpM
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfareothertype,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfaretype,
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,wgt,
 gen double wgt=weight
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,whours,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,year,
 gen int year=2005
 local year=2011
pak_2005_pslm_v01_m_v03_a_sarmd,PAK,2005,PSLM,v01,v03,yrmove,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,age,
 drop max_age
 gen byte age=a0105
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,atschool,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,bicycle,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,buffalo,
 gen buffalo=numlivestockBuffalo152>=0 & numlivestockBuffalo152<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,cellphone,
 gen byte cellphone=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,chicken,
 gen chicken=numlivestockPoultry159>=0 & numlivestockPoultry159<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,computer,
 gen chicken=numlivestockPoultry159>=0 & numlivestockPoultry159<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,contract,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,countrycode,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,cow,
 gen cow=numlivestockCattle151>=0 & numlivestockCattle151<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,educat4,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,educat5,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,educat7,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,educy,"
 gen byte educy=b0205
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,electricity,
 gen byte electricity=0 if a0541==3
 replace electricity=1 if a0541==1 | a0541==2
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,empstat,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,empstat_2,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,empstat_2_year,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,everattend,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,fan,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,firmsize_l,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,healthins,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,hsize,
 gen byte hsize=hhsizeM
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,idh,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,idp,"
 gen double idp_=idh*100+serialno
 gen idp=string(idp_,""%14.0g"")"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,industry,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,industry_2,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,industry_orig_2,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,int_month,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_month=a0m12
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,int_year,
 replace a0m12=. if a0y12<2005 | a0y12>2006
 replace a0y12=. if a0y12<2005 | a0y12>2006
 *replace a0m12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 *replace a0y12=. if (a0y12==2005 & a0m12<9) | (a0y12==2006 & a0m12>7 & a0m12!=.)
 gen int_year=a0y12
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,internet,
 gen byte internet=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,lamp,
 gen lamp=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,lb_mod_age,
 gen byte lb_mod_age=10
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,literacy,
 drop max_age
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,lphone,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,lstatus,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,male,
 gen byte male=a0103
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,motorcar,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,motorcycle,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,njobs,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,nlfreason,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,occup,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,ocusec,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,piped_water,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,pline_nat,"
 drop serialno
 drop serialno
 ren a0702 numdur
 ren b1001 numlivestock
 foreach s in agric landholding durables{
 merge m:1 HID using ``s'', force
 drop if _merge==2
 drop _merge
 }
 gen int year=2005
 gen byte hsize=hhsizeM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=."
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,poor_nat,"
 drop serialno
 drop serialno
 ren a0702 numdur
 ren b1001 numlivestock
 foreach s in agric landholding durables{
 merge m:1 HID using ``s'', force
 drop if _merge==2
 drop _merge
 }
 gen int year=2005
 gen byte hsize=hhsizeM
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=."
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,pop_wgt,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,psu,
 gen psu=psucode
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,radio,
 gen psu=psucode
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,rbirth,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,rbirth_juris,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,refrigerator,
 gen refrigerator= numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,relationcs,
 bys idh: egen max_age=max(a0105)
 replace a0102=1   if y==0 & a0105==max_age
 drop max_age
 replace a0102=12   if y==2 & a0103==2
 gen byte relationcs=a0102
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,relationharm,
 gen byte relationharm=a0102
 bys idh: egen max_age=max(a0105)
 replace a0102=1   if y==0 & a0105==max_age
 replace relationharm=1  if y==0 & a0105==max_age
 drop max_age
 replace a0102=12   if y==2 & a0103==2
 replace relationharm=2  if y==2 & a0103==2
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,rprevious,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,rprevious_juris,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,sar_improved_toilet,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,sar_improved_water,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,sewage_toilet,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,sewingmachine,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,soc,
 gen byte soc=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,socialsec,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,spdef,
 gen spdef=psupind
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,strata,
 gen strata=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,subnatid1,
 gen byte subnatid1=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,subnatid2,
 gen byte subnatid2=province
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,survey,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,toilet_jmp,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,toilet_orig,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,unempldur_l,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,unempldur_u,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,union,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,unitwage,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,unitwage_2,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,urban,"
 gen byte urban=urbrural
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,veralt,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,vermast,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,wage,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,wage_2,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,washingmachine,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,water_jmp,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,water_orig,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfare,"
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfareother,"
 gen welfareother=peaexpM
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfareothertype,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfaretype,
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,wgt,
 gen double wgt=weight
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,whours,
 drop max_age
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,year,
 gen int year=2005
 local year=2011
pak_2005_pslm_v01_m_v04_a_sarmd,PAK,2005,PSLM,v01,v04,yrmove,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,age,
 drop max_age
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,atschool,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=1 if s2bq01==3
 replace atschool=0 if s2bq01==1 | s2bq01==2
 replace atschool=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,bicycle,
 gen bicycle= numdurBicycle713>0 & numdurBicycle713<.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,buffalo,
 gen buffalo=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,cellphone,
 gen byte cellphone=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,chicken,
 gen chicken=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,computer,
 gen byte computer=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,contract,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,countrycode,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,cow,
 gen cow=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,cpi,
 ren cpi`year'_w cpi
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,cpiperiod,
 gen cpiperiod=syear
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,educat4,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,educat5,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,educat7,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,educy,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,electricity,
 *gen byte electricity=0 if s5q4a==3
 *replace electricity=1 if s5q4a==1 | s5q4a==2
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,empstat,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,empstat_2,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,everattend,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,fan,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,firmsize_l,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,healthins,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,hsize,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==."
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,idh,"
 ren s7mq02 numdur
 reshape wide numdur, i(hhcode) j(itc2) strin
 reshape wide s9aq01, i( hhcode ) j( code )
 gen double idh=hhcode"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,idp,"
 ren s7mq02 numdur
 reshape wide numdur, i(hhcode) j(itc2) strin
 reshape wide s9aq01, i( hhcode ) j( code )
 gen double idh=hhcode
 gen double idp_=idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,industry,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==00
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,industry_2,
 gen byte industry_2=.
 replace industry_2=1 if s1bq13>=11 & s1bq13<=13
 replace industry_2=2 if s1bq13>=21 & s1bq13<=29
 replace industry_2=3 if s1bq13>=31 & s1bq13<=39
 replace industry_2=4 if s1bq13>=41 & s1bq13<=42
 replace industry_2=5 if s1bq13>=51 & s1bq13<=59
 replace industry_2=6 if s1bq13>=61 & s1bq13<=63
 replace industry_2=7 if s1bq13>=71 & s1bq13<=72
 replace industry_2=8 if s1bq13>=81 & s1bq13<=83
 replace industry_2=9 if s1bq13==91
 replace industry_2=10 if s1bq13>=92 & s1bq13<=96
 replace industry_2=10 if s1bq13==00
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,industry_orig_2,
 gen industry_orig_2=s1bq13
 replace industry_orig_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,int_month,
 gen int_month=month
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,int_year,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen int_year=year1
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,internet,
 gen byte internet=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,lamp,
 gen lamp=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,literacy,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq01==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,lphone,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,lstatus,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,male,
 gen byte male=s1aq03
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
 replace marital=2 if s1aq06==1
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,motorcar,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,motorcycle,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,njobs,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,nlfreason,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,occup,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==0
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,ocusec,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse = 0 if s5q02!=. & ownhouse==.
foreach i in ownhouse tenure landholding{
replace `i'=. if relationharm==6 & hsize==.
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9)"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,pline_nat,"
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=."
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,poor_int,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfare=nomexpend/hsize
 gen poor_int=welfare<pline_int & welfare!=."
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,poor_nat,"
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=."
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,pop_wgt,"
 gen double wgt=weight
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen pop_wgt=wgt*hsize"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,psu,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,radio,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,rbirth,
 gen byte rbirth=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,rbirth_juris,
 gen byte rbirth_juris=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,refrigerator,
 gen refrigerator= numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,relationcs,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 bys idh: egen max_age=max(age)
 replace s1aq02=1   if y==0 & age==max_age
 drop max_age
 replace s1aq02=2   if y==2 & s1aq03==2
 gen byte relationcs=s1aq02
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,relationharm,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen byte relationharm=s1aq02
 bys idh: egen max_age=max(age)
 replace s1aq02=1   if y==0 & age==max_age
 replace relationharm=1  if y==0 & age==max_age
 drop max_age
 replace s1aq02=2   if y==2 & s1aq03==2
 replace relationharm=2  if y==2 & s1aq03==2
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,rprevious,
 gen byte rprevious=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,rprevious_juris,
 gen byte rprevious_juris=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,sewage_toilet,
gen sewage_toilet=s5q14
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,sewingmachine,
gen sewage_toilet=s5q14
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,socialsec,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,spdef,
 gen spdef=psupind
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,strata,
 gen strata=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,subnatid1,
 gen byte subnatid1=province
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,subnatid2,
 gen byte subnatid2=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,subnatid3,
 gen byte subnatid3=.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,survey,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,toilet_orig,
gen toilet_orig=s5q14
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,unempldur_l,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,unempldur_u,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,union,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,unitwage,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,urban,"
 gen byte urban=region
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,veralt,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,vermast,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,wage,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
 replace wage=0 if wage>0 & empstat==2 & wage!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,water_orig,
gen water_orig=s5q05
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfare,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfare=nomexpend/hsize
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfaredef,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfaredef=texpend/hsize"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfarenat,
 gen welfarenat=peaexpM
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfarenom,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfarenom=nomexpend/hsize"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfareother,"
 gen welfareother=peaexpM
 foreach var of varlist urban - welfareother {
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach w in welfare welfareother{
 qui su `w'
 if r(N)==0{
 drop `w'type
}"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfareothertype,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfaretype,
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,welfshprosperity,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,wgt,
 gen double wgt=weight
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,whours,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,year,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2005_pslm_v02_m_v01_a_sarmd,PAK,2005,PSLM,v02,v01,yrmove,
 gen int yrmove=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,age,
 drop max_age
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,atschool,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=1 if s2bq01==3
 replace atschool=0 if s2bq01==1 | s2bq01==2
 replace atschool=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,bicycle,
 gen bicycle= numdurBicycle713>0 & numdurBicycle713<.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,buffalo,
 gen buffalo=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,cellphone,
 gen byte cellphone=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,chicken,
 gen chicken=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,computer,
 gen byte computer=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,contract,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,countrycode,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,cow,
 gen cow=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,cpi,
 ren cpi`year'_w cpi
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,cpiperiod,
 gen cpiperiod=syear
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,educat4,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,educat5,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,educat7,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,educy,
 gen byte ed_mod_age=4
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,electricity,
 *gen byte electricity=0 if s5q4a==3
 *replace electricity=1 if s5q4a==1 | s5q4a==2
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,empstat,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,empstat_2,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,everattend,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,fan,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,firmsize_l,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,healthins,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,hsize,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==."
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,idh,"
 ren s7mq02 numdur
 reshape wide numdur, i(hhcode) j(itc2) strin
 reshape wide s9aq01, i( hhcode ) j( code )
 gen double idh=hhcode"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,idp,"
 ren s7mq02 numdur
 reshape wide numdur, i(hhcode) j(itc2) strin
 reshape wide s9aq01, i( hhcode ) j( code )
 gen double idh=hhcode
 gen double idp_=idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,industry,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==00
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,industry_2,
 gen byte industry_2=.
 replace industry_2=1 if s1bq13>=11 & s1bq13<=13
 replace industry_2=2 if s1bq13>=21 & s1bq13<=29
 replace industry_2=3 if s1bq13>=31 & s1bq13<=39
 replace industry_2=4 if s1bq13>=41 & s1bq13<=42
 replace industry_2=5 if s1bq13>=51 & s1bq13<=59
 replace industry_2=6 if s1bq13>=61 & s1bq13<=63
 replace industry_2=7 if s1bq13>=71 & s1bq13<=72
 replace industry_2=8 if s1bq13>=81 & s1bq13<=83
 replace industry_2=9 if s1bq13==91
 replace industry_2=10 if s1bq13>=92 & s1bq13<=96
 replace industry_2=10 if s1bq13==00
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,industry_orig_2,
 gen industry_orig_2=s1bq13
 replace industry_orig_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,int_month,
 gen int_month=month
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,int_year,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen int_year=year1
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,internet,
 gen byte internet=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,lamp,
 gen lamp=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,lb_mod_age,
 gen byte lb_mod_age=10
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,literacy,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq01==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,lphone,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,lstatus,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,male,
 gen byte male=s1aq03
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
 replace marital=2 if s1aq06==1
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,motorcar,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,motorcycle,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,njobs,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,nlfreason,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,occup,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==0
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,ocusec,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse = 0 if s5q02!=. & ownhouse==.
foreach i in ownhouse tenure landholding{
replace `i'=. if relationharm==6 & hsize==.
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9)"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,pline_nat,"
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=."
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,poor_int,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfare=nomexpend/hsize
 gen poor_int=welfare<pline_int & welfare!=."
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,poor_nat,"
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=."
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,pop_wgt,"
 gen double wgt=weight
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen pop_wgt=wgt*hsize"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,psu,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,radio,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,rbirth,
 gen byte rbirth=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,rbirth_juris,
 gen byte rbirth_juris=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,refrigerator,
 gen refrigerator= numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,relationcs,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 bys idh: egen max_age=max(age)
 replace s1aq02=1   if y==0 & age==max_age
 drop max_age
 replace s1aq02=2   if y==2 & s1aq03==2
 gen byte relationcs=s1aq02
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,relationharm,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
 gen byte relationharm=s1aq02
 bys idh: egen max_age=max(age)
 replace s1aq02=1   if y==0 & age==max_age
 replace relationharm=1  if y==0 & age==max_age
 drop max_age
 replace s1aq02=2   if y==2 & s1aq03==2
 replace relationharm=2  if y==2 & s1aq03==2
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,rprevious,
 gen byte rprevious=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,rprevious_juris,
 gen byte rprevious_juris=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,sewage_toilet,
gen sewage_toilet=s5q14
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,sewingmachine,
gen sewage_toilet=s5q14
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,socialsec,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,spdef,
 gen spdef=psupind
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,strata,
 gen strata=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,subnatid1,
 gen byte subnatid1=province
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,subnatid2,
 gen byte subnatid2=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,subnatid3,
 gen byte subnatid3=.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,survey,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,toilet_orig,
gen toilet_orig=s5q14
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,unempldur_l,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,unempldur_u,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,union,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,unitwage,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,urban,
 gen byte urban=region
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,veralt,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,vermast,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,wage,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
 replace wage=0 if wage>0 & empstat==2 & wage!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,water_orig,
gen water_orig=s5q05
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfare,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfare=nomexpend/hsize
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }
 foreach w in welfare welfareother {

  qui su `w'
  if r(N)==0 {

   drop `w'type

  }"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfaredef,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfaredef=texpend/hsize"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfarenom,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfarenom=nomexpend/hsize"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfareother,"
 gen welfareother=peaexpM
 foreach var of varlist countrycode - welfareothertype {
  capture assert mi(`var')
  if !_rc {

    display as txt ""Variable "" as result ""`var'"" as txt "" for countrycode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""

  }
 foreach w in welfare welfareother {

  qui su `w'
  if r(N)==0 {

   drop `w'type

  }"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfareothertype,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfaretype,
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,welfshprosperity,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux) if hsize==., by(idh)
 replace hsize=hsize2 if hsize==.
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,wgt,
 gen double wgt=weight
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,whours,
 drop max_age
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,year,
 ren year yearn
 drop intmonth intyear
ren year year1
 gen int year=2005
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2005_pslm_v02_m_v02_a_sarmd,PAK,2005,PSLM,v02,v02,yrmove,
 gen int yrmove=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,age,
 gen byte age=a0105
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,atschool,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,bicycle,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,buffalo,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,cellphone,
 gen byte cellphone=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,chicken,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,computer,
 gen byte computer=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,contract,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,countrycode,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,cow,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,cpi,
 ren cpi`year'_w cpi
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,cpiperiod,
 gen cpiperiod=syear
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,educat4,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educat7=1 if b0205==0
 replace educat7=2 if b0205 >0 & b0205<8
 replace educat7=3 if b0205==8
 replace educat7=4 if b0205>8 & b0205<12
 replace educat7=5 if b0205==12
 replace educat7=7 if b0205>12 & b0205<=22
 replace educat7=6 if b0205==17
 replace educat7=. if b0205==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,educat5,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educat7=1 if b0205==0
 replace educat7=2 if b0205 >0 & b0205<8
 replace educat7=3 if b0205==8
 replace educat7=4 if b0205>8 & b0205<12
 replace educat7=5 if b0205==12
 replace educat7=7 if b0205>12 & b0205<=22
 replace educat7=6 if b0205==17
 replace educat7=. if b0205==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,educat7,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte educat7=1 if b0205==0
 replace educat7=2 if b0205 >0 & b0205<8
 replace educat7=3 if b0205==8
 replace educat7=4 if b0205>8 & b0205<12
 replace educat7=5 if b0205==12
 replace educat7=7 if b0205>12 & b0205<=22
 replace educat7=6 if b0205==17
 replace educat7=. if b0205==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,educy,"
 gen byte educy=b0205
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if educy==. & (b0214>=14 & b0214<=21)
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0  if everattend==0"
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,electricity,
 gen byte electricity=1 if a0541==3 | a0541==2
 replace electricity=0 if a0541==1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,empstat,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,empstat_2,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,empstat_2_year,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,everattend,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,fan,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,firmsize_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,healthins,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,hsize,
 gen byte hsize=hhsizeM
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,idh,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,idp,"
 gen double idp_=idh*100+sno
 gen idp=string(idp_,""%14.0g"")"
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,industry,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,industry_2,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,industry_orig_2,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,int_month,
 replace a0m12=. if a0y12<2007
 replace a0y12=. if a0y12<2007
* replace a0m12=. if a0m12<7 & a0y12==2007 & a0m12!=.
* replace a0m12=. if a0m12>=7 & a0y12==2008 & a0m12!=.
 gen int_month=a0m12
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,int_year,
 replace a0y12=. if a0y12<2007
 gen int_year=a0y12
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,internet,
 gen byte internet=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,lamp,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,literacy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,lphone,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,lstatus,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,male,
 gen byte male=a0103
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,motorcar,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,motorcycle,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,njobs,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,nlfreason,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,occup,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,ocusec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,piped_water,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,poor_nat,
 gen welfareother=peaexpM
 gen pline_nat=pline
 gen poor_nat=welfareother<pline_nat if welfareother!=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,pop_wgt,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,psu,
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 gen psu=psucode
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,radio,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,rbirth,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,rbirth_juris,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,refrigerator,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,relationcs,
 gen byte relationcs=a0102
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,relationharm,
 gen byte relationharm=a0102
 replace relationharm=1 if y==0 & sno==1
 replace relationharm=1 if y==0 & sno==51
 replace relationharm=5 if y!=1 & relationharm==1 & sno!=1 & sno!=51
 replace relationharm=5 if relationharm==1 & sno!=1 & y!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,rprevious,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,rprevious_juris,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,sar_improved_toilet,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,sar_improved_water,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,sewage_toilet,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,sewingmachine,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,soc,
 gen byte soc=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,socialsec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,strata,
 gen strata=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,subnatid1,
 gen byte subnatid1=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,subnatid2,
 gen byte subnatid2=pv
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,subnatid3,
 gen byte subnatid3=.
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,survey,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,television,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,toilet_jmp,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,toilet_orig,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,unempldur_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,unempldur_u,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,union,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,unitwage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,unitwage_2,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,urban,
 gen byte urban=a02b
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,veralt,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,vermast,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,wage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,wage_2,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,washingmachine,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,water_jmp,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,water_orig,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfarenat,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfareother,
 gen welfareother=peaexpM
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfareothertype,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfaretype,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,welfshprosperity,
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,wgt,
 gen double wgt=weight
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,whours,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,year,
 gen int year=2007
 local year=2011
pak_2007_pslm_v01_m_v01_a_sarmd,PAK,2007,PSLM,v01,v01,yrmove,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,age,
 gen byte age=a0105
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,atschool,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,bicycle,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,buffalo,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,cellphone,
 gen byte cellphone=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,chicken,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,computer,
 gen byte computer=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,contract,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,countrycode,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,cow,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,educat4,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,educat5,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,educat7,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,educy,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0  if everattend==0"
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,electricity,
 gen byte electricity=1 if a0541==3 | a0541==2
 replace electricity=0 if a0541==1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,empstat,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,empstat_2,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,empstat_2_year,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,everattend,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,fan,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,firmsize_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,healthins,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,idh,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,idp,"
 gen double idp_=idh*100+sno
 gen idp=string(idp_,""%14.0g"")"
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,industry,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,industry_2,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,industry_orig_2,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,int_month,
 replace a0m12=. if a0y12<2007
 replace a0y12=. if a0y12<2007
* replace a0m12=. if a0m12<7 & a0y12==2007 & a0m12!=.
* replace a0m12=. if a0m12>=7 & a0y12==2008 & a0m12!=.
 gen int_month=a0m12
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,int_year,
 replace a0y12=. if a0y12<2007
 gen int_year=a0y12
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,internet,
 gen byte internet=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,lamp,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,lb_mod_age,
 gen byte lb_mod_age=10
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,literacy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,lphone,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,lstatus,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,male,
 gen byte male=a0103
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,motorcar,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,motorcycle,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,njobs,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,nlfreason,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,occup,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,ocusec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,piped_water,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,pop_wgt,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,psu,
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 gen psu=psucode
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,radio,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,rbirth,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,rbirth_juris,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,refrigerator,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,relationcs,
 gen byte relationcs=a0102
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,relationharm,
 gen byte relationharm=a0102
 replace relationharm=1 if y==0 & sno==1
 replace relationharm=1 if y==0 & sno==51
 replace relationharm=5 if y!=1 & relationharm==1 & sno!=1 & sno!=51
 replace relationharm=5 if relationharm==1 & sno!=1 & y!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,rprevious,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,rprevious_juris,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,sar_improved_toilet,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,sar_improved_water,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,sewage_toilet,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,sewingmachine,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,soc,
 gen byte soc=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,socialsec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,strata,
 gen strata=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=pv
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,survey,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,television,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,toilet_jmp,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,toilet_orig,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,unempldur_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,unempldur_u,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,union,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,unitwage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,unitwage_2,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,urban,
 gen byte urban=a02b
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,veralt,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,vermast,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,wage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,wage_2,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,washingmachine,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,water_jmp,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,water_orig,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfareothertype,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfaretype,
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,wgt,
 gen double wgt=weight
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,whours,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,year,
 gen int year=2007
 local year=2011
pak_2007_pslm_v01_m_v02_a_sarmd,PAK,2007,PSLM,v01,v02,yrmove,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,age,
 gen byte age=a0105
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,atschool,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,bicycle,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,buffalo,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,cellphone,
 gen byte cellphone=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,chicken,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,computer,
 gen byte computer=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,contract,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,countrycode,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,cow,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,ed_mod_age,
 gen byte ed_mod_age=4
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,educat4,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,educat5,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,educat7,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
 replace educat7=6 if b0205==17
 replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,educy,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0  if everattend==0"
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,electricity,
 gen byte electricity=1 if a0541==3 | a0541==2
 replace electricity=0 if a0541==1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,empstat,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,empstat_2,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,empstat_2_year,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,everattend,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,fan,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,firmsize_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,healthins,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,hsize,
 gen byte hsize=hhsizeM
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,idh,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,idp,"
 gen double idp_=idh*100+sno
 gen idp=string(idp_,""%14.0g"")"
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,industry,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,industry_2,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,industry_orig_2,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,int_month,
 replace a0m12=. if a0y12<2007
 replace a0y12=. if a0y12<2007
* replace a0m12=. if a0m12<7 & a0y12==2007 & a0m12!=.
* replace a0m12=. if a0m12>=7 & a0y12==2008 & a0m12!=.
 gen int_month=a0m12
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,int_year,
 replace a0y12=. if a0y12<2007
 gen int_year=a0y12
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,internet,
 gen byte internet=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,lamp,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,lb_mod_age,
 gen byte lb_mod_age=10
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,literacy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,lphone,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,lstatus,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,male,
 gen byte male=a0103
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,motorcar,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,motorcycle,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,njobs,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,nlfreason,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,occup,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,ocusec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,piped_water,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,pline_nat,
 gen int year=2007
 gen byte hsize=hhsizeM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,poor_nat,
 gen int year=2007
 gen byte hsize=hhsizeM
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,pop_wgt,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,psu,
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 gen psu=psucode
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,radio,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,rbirth,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,rbirth_juris,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,refrigerator,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,relationcs,
 gen byte relationcs=a0102
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,relationharm,
 gen byte relationharm=a0102
 replace relationharm=1 if y==0 & sno==1
 replace relationharm=1 if y==0 & sno==51
 replace relationharm=5 if y!=1 & relationharm==1 & sno!=1 & sno!=51
 replace relationharm=5 if relationharm==1 & sno!=1 & y!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,rprevious,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,rprevious_juris,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,sar_improved_toilet,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,sar_improved_water,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,sewage_toilet,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,sewingmachine,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,soc,
 gen byte soc=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,socialsec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,spdef,
 gen spdef=psupind
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,strata,
 gen strata=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,subnatid2,
 gen byte subnatid2=pv
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,survey,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,television,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,toilet_jmp,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,toilet_orig,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,unempldur_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,unempldur_u,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,union,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,unitwage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,unitwage_2,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,urban,
 gen byte urban=a02b
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,veralt,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,vermast,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,wage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,wage_2,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,washingmachine,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,water_jmp,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,water_orig,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfareother,
 gen welfareother=peaexpM
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfareothertype,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfaretype,
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,wgt,"
 egen wgt=max(weight), by(idh countrycode year)
 drop if wgt==."
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,whours,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,year,
 gen int year=2007
 local year=2011
pak_2007_pslm_v01_m_v03_a_sarmd,PAK,2007,PSLM,v01,v03,yrmove,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,age,
 gen byte age=a0105
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,atschool,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte atschool=1 if b0201==3
 replace atschool=0 if b0201==1 | b0201==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,bicycle,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,buffalo,
 gen buffalo=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,cellphone,
 gen byte cellphone=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,chicken,
 gen chicken=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,computer,
 gen chicken=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,contract,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,countrycode,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,cow,
 gen cow=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,educat4,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
* replace educat7=6 if b0205==17
* replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,educat5,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
* replace educat7=6 if b0205==17
* replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,educat7,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=22
* replace educat7=6 if b0205==17
* replace educat7=2 if b0214==1
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,educy,"
 gen byte educy=b0205
 replace educy=13 if b0205==17
 replace educy=15 if b0205==14 /* BA/BSc */
 replace educy=16 if b0205==18
 replace educy=17 if b0205==19
 replace educy=16 if b0205==20
 replace educy=16 if b0205==21
 replace educy=16 if b0205==16 /* MA/MSc */
 replace educy=19 if b0205==22 /* MPhl/PhD */
 replace educy=. if b0205==23
 replace educy=max(b0214-1,0) if educy==. & b0214<=13
 replace educy=13 if b0214==14 & b0205==.
 replace educy=13 if b0214==15 & b0205==.
 replace educy=14 if b0214==16 & b0205==.
 replace educy=12 if b0214==17 & b0205==.
 replace educy=14 if b0214==18 & b0205==.
 replace educy=15 if b0214==19 & b0205==.
 replace educy=14 if b0214==20 & b0205==.
 replace educy=14 if b0214==21 & b0205==.
 replace educy=17 if b0214==22 & b0205==.
 replace educy=. if b0214==23 & b0205==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if educy>age & age!=. & educy!=.
 replace educy=0  if everattend==0"
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,electricity,
 gen byte electricity=1 if a0541==1 | a0541==2
 replace electricity=0 if a0541==3
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,empstat,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if b0106==4 // 3
 replace empstat=2 if b0106==5 // 4
 replace empstat=3 if b0106==1 | b0106==2 // 1
 replace empstat=4 if b0106==3 | b0106>=6 & b0106<=9 // 2
 replace empstat=. if lstatus!=1 // 4
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,empstat_2,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,empstat_2_year,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,everattend,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,fan,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte everattend=1 if b0201==3 | b0201==2
 replace everattend=0 if b0201==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,firmsize_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,healthins,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,hsize,
 gen byte hsize=hhsizeM
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,idh,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,idp,"
 gen double idp_=idh*100+sno
 gen idp=string(idp_,""%14.0g"")"
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,industry,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if b0105>=11 & b0105<=13
 replace industry=2 if b0105>=21 & b0105<=29
 replace industry=3 if b0105>=31 & b0105<=39
 replace industry=4 if b0105>=41 & b0105<=42
 replace industry=5 if b0105>=51 & b0105<=59
 replace industry=6 if b0105>=61 & b0105<=63
 replace industry=7 if b0105>=71 & b0105<=72
 replace industry=8 if b0105>=81 & b0105<=83
 replace industry=9 if b0105==91
 replace industry=10 if b0105>=92 & b0105<=96
 replace industry=10 if b0105==00
 replace industry=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,industry_2,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,industry_orig_2,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,int_month,
 replace a0m12=. if a0y12<2007
 replace a0y12=. if a0y12<2007
* replace a0m12=. if a0m12<7 & a0y12==2007 & a0m12!=.
* replace a0m12=. if a0m12>=7 & a0y12==2008 & a0m12!=.
 gen int_month=a0m12
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,int_year,
 replace a0y12=. if a0y12<2007
 gen int_year=a0y12
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,internet,
 gen byte internet=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,lamp,
 gen lamp=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,lb_mod_age,
 gen byte lb_mod_age=10
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,literacy,
 gen byte age=a0105
 gen byte ed_mod_age=4
 gen byte literacy=1 if a0201==1 & a0202==1
 replace literacy=0 if a0201==2 | a0202==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,lphone,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,lstatus,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,male,
 gen byte male=a0103
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,marital,
 gen byte marital=1 if a0106==2 | a0106==5
 replace marital=4 if a0106==4
 replace marital=5 if a0106==3
 replace marital=2 if a0106==1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,motorcar,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,motorcycle,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,njobs,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,nlfreason,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,occup,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if b0104==0
 replace occup=1 if b0104>=11 & b0104<=13
 replace occup=2 if b0104>=21 & b0104<=24
 replace occup=3 if b0104>=31 & b0104<=34
 replace occup=4 if b0104>=41 & b0104<=42
 replace occup=5 if b0104>=51 & b0104<=52
 replace occup=6 if b0104>=61 & b0104<=62
 replace occup=7 if b0104>=71 & b0104<=74
 replace occup=8 if b0104>=81 & b0104<=83
 replace occup=9 if b0104>=91 & b0104<=93
 replace occup=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,ocusec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,ownhouse,
 gen byte ownhouse=1 if a0502==1 | a0502==2
 replace ownhouse = 0 if a0502!=. & ownhouse==.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,piped_water,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,pline_nat,
 drop sno
 drop sno
 drop sno
 ren a0702 numdur
 gen int year=2007
 gen byte hsize=hhsizeM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,poor_nat,
 drop sno
 drop sno
 drop sno
 ren a0702 numdur
 gen int year=2007
 gen byte hsize=hhsizeM
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,pop_wgt,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,psu,
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 gen psu=psucode
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,radio,
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 egen psucode = concat(a02a a02b stra1 stra2)
 gen psu=psucode
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,rbirth,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,rbirth_juris,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,refrigerator,
 gen refrigerator=numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,relationcs,
 gen byte relationcs=a0102
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,relationharm,
 gen byte relationharm=a0102
 replace relationharm=1 if y==0 & sno==1
 replace relationharm=1 if y==0 & sno==51
 replace relationharm=5 if y!=1 & relationharm==1 & sno!=1 & sno!=51
 replace relationharm=5 if relationharm==1 & sno!=1 & y!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,rprevious,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,rprevious_juris,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,sar_improved_toilet,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,sar_improved_water,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,sewage_toilet,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,sewingmachine,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,soc,
 gen byte soc=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,socialsec,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,spdef,
 gen spdef=psupind
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,strata,
 gen strata=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,subnatid1,
 gen byte subnatid1=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,subnatid2,
 gen byte subnatid2=pv
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,survey,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,toilet_jmp,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,toilet_orig,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,unempldur_l,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,unempldur_u,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,union,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,unitwage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,unitwage_2,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,urban,
 gen byte urban=a02b
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,veralt,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,vermast,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,wage,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,wage_2,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,washingmachine,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,water_jmp,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,water_orig,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfareother,
 gen welfareother=peaexpM
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfareothertype,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfaretype,
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,wgt,"
 egen wgt=max(weight), by(idh countrycode year)
 drop if wgt==."
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,whours,
 gen byte age=a0105
 gen byte lb_mod_age=10
 gen byte lstatus=1 if b0101==1 | b0103==1
 replace lstatus=2 if b0103==2
 replace lstatus=3 if b0103==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,year,
 gen int year=2007
 local year=2011
pak_2007_pslm_v01_m_v04_a_sarmd,PAK,2007,PSLM,v01,v04,yrmove,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=1 if s2bq01==3
 replace atschool=0 if s2bq01==1 | s2bq01==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,bicycle,
 gen bicycle= numdurBicycle713>0 & numdurBicycle713<.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,buffalo,
 gen buffalo=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,cellphone,
 gen byte cellphone=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,chicken,
 gen chicken=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,computer,
 gen byte computer=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,contract,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,countrycode,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,cow,
 gen cow=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,cpi,
 ren cpi`year'_w cpi
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,cpiperiod,
 gen cpiperiod=syear
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,educat4,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,educat5,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,educat7,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,educy,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,electricity,
 *gen byte electricity=1 if s5q4a==1 | s5q4a==2
 *replace electricity=0 if s5q4a==3
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,empstat,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1 // 4
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,empstat_2,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,everattend,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,fan,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,firmsize_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,healthins,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,hsize,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,idh,"
 drop hhcode
 ren s7mq01 numdur
 reshape wide numdur, i(hhcode) j(itc2) string
reshape wide s9aq01, i(hhcode) j(code)
 gen double idh=hhcode"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,idp,"
 drop hhcode
 ren s7mq01 numdur
 reshape wide numdur, i(hhcode) j(itc2) string
reshape wide s9aq01, i(hhcode) j(code)
 gen double idh=hhcode
 gen double idp_=idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,industry,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==00
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,industry_2,
 gen byte industry_2=.
 replace industry_2=1 if s1bq13>=11 & s1bq13<=13
 replace industry_2=2 if s1bq13>=21 & s1bq13<=29
 replace industry_2=3 if s1bq13>=31 & s1bq13<=39
 replace industry_2=4 if s1bq13>=41 & s1bq13<=42
 replace industry_2=5 if s1bq13>=51 & s1bq13<=59
 replace industry_2=6 if s1bq13>=61 & s1bq13<=63
 replace industry_2=7 if s1bq13>=71 & s1bq13<=72
 replace industry_2=8 if s1bq13>=81 & s1bq13<=83
 replace industry_2=9 if s1bq13==91
 replace industry_2=10 if s1bq13>=92 & s1bq13<=96
 replace industry_2=10 if s1bq13==00
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,industry_orig_2,
 gen industry_orig_2=s1bq13
 replace industry_orig_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,int_month,
 gen int_month=intmonth
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,int_year,
replace intyear=. if intyear<2007 
 gen int_year=intyear
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,internet,
 gen byte internet=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,lamp,
 gen lamp=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq01==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,lphone,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,lstatus,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,male,
 gen byte male=s1aq03
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
 replace marital=2 if s1aq06==1
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,motorcar,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,motorcycle,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,njobs,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,nlfreason,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,occup,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==0
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,ocusec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse = 0 if s5q02!=. & ownhouse==.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9)"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,pline_nat,
 drop hh0 hh1 zero
 ren s7mq01 numdur
foreach s in landholding durables{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 drop year
 gen year=2007
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,poor_int,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,poor_nat,
 drop hh0 hh1 zero
 ren s7mq01 numdur
foreach s in landholding durables{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 drop year
 gen year=2007
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,pop_wgt,
 drop hh0 hh1 zero
 gen wgt=weight
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
 gen pop_wgt=wgt*hsize
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,psu,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,radio,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,rbirth,
 gen byte rbirth=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,rbirth_juris,
 gen byte rbirth_juris=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,refrigerator,
 gen refrigerator=numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,relationcs,
 gen byte relationcs=s1aq02
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,relationharm,
 drop year
 gen year=2007
 gen byte relationharm=s1aq02
 replace relationharm=1 if y==0 & idc==1
 drop x y
 replace relationharm=1 if y==0 & idc==51
 drop x y
 replace relationharm=5 if y!=1 & relationharm==1 & idc!=1 & idc!=51
 drop x y
 replace relationharm=5 if relationharm==1 & idc==1 & y!=1
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,rprevious,
 gen byte rprevious=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,rprevious_juris,
 gen byte rprevious_juris=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,sewage_toilet,
gen sewage_toilet=s5q14
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,sewingmachine,
gen sewage_toilet=s5q14
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,socialsec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,spdef,
 gen spdef=psupind
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,strata,
 gen strata=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,subnatid1,
 gen byte subnatid1=province
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,subnatid2,
 gen byte subnatid2=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,subnatid3,
 gen byte subnatid3=.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,survey,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,toilet_orig,
gen toilet_orig=s5q14
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,unempldur_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,unempldur_u,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,union,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,unitwage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,urban,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,veralt,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,vermast,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,wage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)"
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,water_orig,
gen water_orig=s5q05
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfare,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfaredef,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfaredef=texpend/hsize
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfarenat,
 gen welfarenat=peaexpM
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfarenom,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenom=nomexpend/hsize
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfareother,
 gen welfareother=peaexpM
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfareothertype,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfaretype,
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,welfshprosperity,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,wgt,
 gen wgt=weight
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,whours,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,year,
 drop year
 gen year=2007
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2007_pslm_v02_m_v01_a_sarmd,PAK,2007,PSLM,v02,v01,yrmove,
 gen int yrmove=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=1 if s2bq01==3
 replace atschool=0 if s2bq01==1 | s2bq01==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,bicycle,
 gen bicycle= numdurBicycle713>0 & numdurBicycle713<.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,buffalo,
 gen buffalo=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,cellphone,
 gen byte cellphone=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,chicken,
 gen chicken=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,computer,
 gen byte computer=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,contract,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,countrycode,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,cow,
 gen cow=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,cpi,
 ren cpi`year'_w cpi
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,cpiperiod,
 gen cpiperiod=syear
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,educat4,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,educat5,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,educat7,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,educy,
 gen byte ed_mod_age=4
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,electricity,
 *gen byte electricity=1 if s5q4a==1 | s5q4a==2
 *replace electricity=0 if s5q4a==3
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,empstat,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1 // 4
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,empstat_2,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,everattend,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,fan,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte everattend=1 if s2bq01==3 | s2bq01==2
 replace everattend=0 if s2bq01==1
 replace everattend=. if age<ed_mod_age & age!=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,firmsize_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,healthins,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,hsize,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,idh,"
 drop hhcode
 ren s7mq01 numdur
 reshape wide numdur, i(hhcode) j(itc2) string
reshape wide s9aq01, i(hhcode) j(code)
 gen double idh=hhcode"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,idp,"
 drop hhcode
 ren s7mq01 numdur
 reshape wide numdur, i(hhcode) j(itc2) string
reshape wide s9aq01, i(hhcode) j(code)
 gen double idh=hhcode
 gen double idp_=idh*100+idc
 gen idp=string(idp_,""%14.0g"")"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,industry,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=.
 replace industry=1 if s1bq05>=11 & s1bq05<=13
 replace industry=2 if s1bq05>=21 & s1bq05<=29
 replace industry=3 if s1bq05>=31 & s1bq05<=39
 replace industry=4 if s1bq05>=41 & s1bq05<=42
 replace industry=5 if s1bq05>=51 & s1bq05<=59
 replace industry=6 if s1bq05>=61 & s1bq05<=63
 replace industry=7 if s1bq05>=71 & s1bq05<=72
 replace industry=8 if s1bq05>=81 & s1bq05<=83
 replace industry=9 if s1bq05==91
 replace industry=10 if s1bq05>=92 & s1bq05<=96
 replace industry=10 if s1bq05==00
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,industry_2,
 gen byte industry_2=.
 replace industry_2=1 if s1bq13>=11 & s1bq13<=13
 replace industry_2=2 if s1bq13>=21 & s1bq13<=29
 replace industry_2=3 if s1bq13>=31 & s1bq13<=39
 replace industry_2=4 if s1bq13>=41 & s1bq13<=42
 replace industry_2=5 if s1bq13>=51 & s1bq13<=59
 replace industry_2=6 if s1bq13>=61 & s1bq13<=63
 replace industry_2=7 if s1bq13>=71 & s1bq13<=72
 replace industry_2=8 if s1bq13>=81 & s1bq13<=83
 replace industry_2=9 if s1bq13==91
 replace industry_2=10 if s1bq13>=92 & s1bq13<=96
 replace industry_2=10 if s1bq13==00
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,industry_orig_2,
 gen industry_orig_2=s1bq13
 replace industry_orig_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,int_month,
 gen int_month=intmonth
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,int_year,
replace intyear=. if intyear<2007 
 gen int_year=intyear
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,internet,
 gen byte internet=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,lamp,
 gen lamp=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,lb_mod_age,
 gen byte lb_mod_age=10
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq01==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,lphone,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,lstatus,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,male,
 gen byte male=s1aq03
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
 replace marital=2 if s1aq06==1
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,motorcar,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,motorcycle,
 gen motorcar= numdurCar___Vehicle714>0 & numdurCar___Vehicle714<.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,njobs,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,nlfreason,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,occup,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==0
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,ocusec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse = 0 if s5q02!=. & ownhouse==.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9)"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,pline_nat,
 drop hh0 hh1 zero
 ren s7mq01 numdur
foreach s in landholding durables{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 drop year
 gen year=2007
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,poor_int,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,poor_nat,
 drop hh0 hh1 zero
 ren s7mq01 numdur
foreach s in landholding durables{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 drop year
 gen year=2007
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 *bys idh: egen hhsize=count(year)
 gen dif=hhsize-hsize if hsize!=.
 replace pline_nat=. if dif!=. & n>hsize & n!=.
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,pop_wgt,
 drop hh0 hh1 zero
 gen wgt=weight
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
 gen pop_wgt=wgt*hsize
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,psu,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,radio,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,rbirth,
 gen byte rbirth=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,rbirth_juris,
 gen byte rbirth_juris=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,refrigerator,
 gen refrigerator=numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,relationcs,
 gen byte relationcs=s1aq02
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,relationharm,
 drop year
 gen year=2007
 gen byte relationharm=s1aq02
 replace relationharm=1 if y==0 & idc==1
 drop x y
 replace relationharm=1 if y==0 & idc==51
 drop x y
 replace relationharm=5 if y!=1 & relationharm==1 & idc!=1 & idc!=51
 drop x y
 replace relationharm=5 if relationharm==1 & idc==1 & y!=1
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,rprevious,
 gen byte rprevious=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,rprevious_juris,
 gen byte rprevious_juris=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,sewage_toilet,
gen sewage_toilet=s5q14
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,sewingmachine,
gen sewage_toilet=s5q14
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,socialsec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,spdef,
 gen spdef=psupind
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,strata,
 gen strata=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,subnatid1,
 gen byte subnatid1=province
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,subnatid2,
 gen byte subnatid2=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,subnatid3,
 gen byte subnatid3=.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,survey,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,toilet_orig,
gen toilet_orig=s5q14
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,unempldur_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,unempldur_u,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,union,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,unitwage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,urban,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,veralt,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,vermast,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,wage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5)
replace water_jmp=12 if inlist(s5q05,6,7)
replace water_jmp=14 if inlist(s5q05,8,9)"
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,water_orig,
gen water_orig=s5q05
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfare,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfaredef,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfaredef=texpend/hsize
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfarenom,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenom=nomexpend/hsize
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfareother,
 gen welfareother=peaexpM
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfareothertype,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfaretype,
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,welfshprosperity,
 drop hh0 hh1 zero
 gen byte hsize=hhsizeM
 gen z=1
 bys idh: egen hsize2=sum(z)
 replace hsize=hsize2 if hsize==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,wgt,
 gen wgt=weight
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,whours,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen lstatus=.
 replace lstatus=1 if s1bq01==1
 replace lstatus=1 if s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,year,
 drop year
 gen year=2007
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2007_pslm_v02_m_v02_a_sarmd,PAK,2007,PSLM,v02,v02,yrmove,
 gen int yrmove=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,age,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,atschool,
 gen byte ed_mod_age=4
 gen byte atschool=1 if Scq05==1
 replace atschool=0 if Scq05==2
 replace atschool=0 if Scq03==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,bicycle,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,buffalo,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,cellphone,
 gen byte cellphone=1 if sgq09==3 | sgq09==4
 replace cellphone=0 if sgq09==1 | sgq09==2
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,chicken,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,computer,
 gen byte computer=1 if sf2q11l==1
 replace computer=0 if sf2q11l==2
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,contract,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,countrycode,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,cow,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,cpi,
 ren cpi`year'_w cpi
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,cpiperiod,
 gen cpiperiod=syear
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,educat4,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,educat5,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,educat7,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,educy,
 gen byte ed_mod_age=4
 replace educy=13 if Scq04==17
 replace educy=14 if Scq04==14 /* BA/BSc */
 replace educy=16 if Scq04==18
 replace educy=17 if Scq04==19
 replace educy=16 if Scq04==20
 replace educy=16 if Scq04==21
 replace educy=16 if Scq04==16 /* MA/MSc */
 replace educy=19 if Scq04==22 /* MPhl/PhD */
 replace educy=. if Scq04==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,electricity,"
 recode sgq08 (1=1) (2 3 4 5 6 = 0), gen(electricity)"
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,empstat,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if Seq06==4
 replace empstat=2 if Seq06==5
 replace empstat=3 if Seq06==1 | Seq06==2
 replace empstat=4 if Seq06==3 | Seq06>=6 & Seq06<=9
 replace empstat=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,empstat_2,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,empstat_2_year,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,everattend,
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,fan,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,firmsize_l,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,healthins,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,hsize,
 gen byte hsize=hhsizeM
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,industry,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=1 if Seq05>=1 & Seq05<=5
 replace industry=2 if Seq05>=10 & Seq05<=14
 replace industry=3 if Seq05>=15 & Seq05<=37
 replace industry=4 if Seq05>=40 & Seq05<=41
 replace industry=5 if Seq05==45
 replace industry=6 if Seq05>=51 & Seq05<=55
 replace industry=7 if Seq05>=60 & Seq05<=64
 replace industry=8 if Seq05>=65 & Seq05<=74
 replace industry=9 if Seq05==75
 replace industry=10 if Seq05>=80 & Seq05<=99
 replace industry=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,industry_2,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,industry_orig_2,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,int_month,
 replace d3=2000+d3
 *replace d2=. if d2<7 & d3==2010 & d2!=.
 *replace d2=. if d2>=7 & d3==2011 & d2!=.
 gen int_month=d2
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,internet,
 gen byte internet=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,lamp,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,literacy,
 gen byte ed_mod_age=4
 replace literacy=0 if Scq01==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,lphone,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,lstatus,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,male,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,marital,
 gen byte marital=1 if Sbq06==2 | Sbq06==5
 replace marital=2 if Sbq06==1
 replace marital=4 if Sbq06==4
 replace marital=5 if Sbq06==3
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,motorcar,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,motorcycle,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,njobs,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,nlfreason,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,occup,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if Seq04==1
 replace occup=1 if Seq04>=11 & Seq04<=13
 replace occup=2 if Seq04>=21 & Seq04<=24
 replace occup=3 if Seq04>=31 & Seq04<=34
 replace occup=4 if Seq04>=41 & Seq04<=42
 replace occup=5 if Seq04>=51 & Seq04<=52
 replace occup=6 if Seq04>=61 & Seq04<=62
 replace occup=7 if Seq04>=71 & Seq04<=74
 replace occup=8 if Seq04>=81 & Seq04<=83
 replace occup=9 if Seq04>=91 & Seq04<=93
 replace occup=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,ocusec,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,ownhouse,
 gen byte ownhouse=1 if sgq01==1 | sgq01==2
 replace ownhouse=0 if sgq01>2 & sgq01<=5
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,piped_water,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,poor_nat,
 gen welfareother=peaexpM
 gen pline_nat=pline
 gen poor_nat=welfareother<pline_nat if welfareother!=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,pop_wgt,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,psu,
 *gen psu=psu
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,radio,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,rbirth,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,rbirth_juris,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,refrigerator,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,relationcs,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,relationharm,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,rprevious,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,rprevious_juris,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,sar_improved_toilet,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,sar_improved_water,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,sewage_toilet,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,sewingmachine,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,soc,
 gen byte soc=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,socialsec,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,strata,
 gen strata=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,subnatid1,
 gen byte subnatid1=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,subnatid2,
 gen byte subnatid2=province
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,subnatid3,
 gen byte subnatid3=.
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,survey,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,television,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,toilet_jmp,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,toilet_orig,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,unempldur_l,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,unempldur_u,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,union,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,unitwage,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,unitwage_2,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,urban,
ren region  urbrural
 gen byte urban=urbrural
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,veralt,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,vermast,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,wage,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 replace wage=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,wage_2,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,washingmachine,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,water_jmp,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,water_orig,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfarenat,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfareother,
 gen welfareother=peaexpM
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfareothertype,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfaretype,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,welfshprosperity,
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,wgt,
 gen double wgt=weight
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,whours,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,year,
 gen int year=2010
 local year=2011
pak_2010_pslm_v01_m_v01_a_sarmd,PAK,2010,PSLM,v01,v01,yrmove,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,age,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,atschool,
 gen byte ed_mod_age=4
 gen byte atschool=1 if Scq05==1
 replace atschool=0 if Scq05==2
 replace atschool=0 if Scq03==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,bicycle,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,buffalo,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,cellphone,
 gen byte cellphone=1 if sgq09==3 | sgq09==4
 replace cellphone=0 if sgq09==1 | sgq09==2
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,chicken,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,computer,
 gen byte computer=1 if sf2q11l==1
 replace computer=0 if sf2q11l==2
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,contract,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,countrycode,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,cow,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,educat4,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,educat5,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,educat7,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,educy,
 gen byte ed_mod_age=4
 replace educy=13 if Scq04==17
 replace educy=14 if Scq04==14 /* BA/BSc */
 replace educy=16 if Scq04==18
 replace educy=17 if Scq04==19
 replace educy=16 if Scq04==20
 replace educy=16 if Scq04==21
 replace educy=16 if Scq04==16 /* MA/MSc */
 replace educy=19 if Scq04==22 /* MPhl/PhD */
 replace educy=. if Scq04==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,electricity,"
 recode sgq08 (1=1) (2 3 4 5 6 = 0), gen(electricity)"
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if Seq06==4
 replace empstat=2 if Seq06==5
 replace empstat=3 if Seq06==1 | Seq06==2
 replace empstat=4 if Seq06==3 | Seq06>=6 & Seq06<=9
 replace empstat=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,empstat_2,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,empstat_2_year,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,everattend,
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,fan,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,firmsize_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,healthins,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")
 drop idh_"
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,industry,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=1 if Seq05>=1 & Seq05<=5
 replace industry=2 if Seq05>=10 & Seq05<=14
 replace industry=3 if Seq05>=15 & Seq05<=37
 replace industry=4 if Seq05>=40 & Seq05<=41
 replace industry=5 if Seq05==45
 replace industry=6 if Seq05>=51 & Seq05<=55
 replace industry=7 if Seq05>=60 & Seq05<=64
 replace industry=8 if Seq05>=65 & Seq05<=74
 replace industry=9 if Seq05==75
 replace industry=10 if Seq05>=80 & Seq05<=99
 replace industry=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,industry_2,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,industry_orig_2,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,int_month,
 replace d3=2000+d3
 *replace d2=. if d2<7 & d3==2010 & d2!=.
 *replace d2=. if d2>=7 & d3==2011 & d2!=.
 gen int_month=d2
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,internet,
 gen byte internet=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,lamp,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,literacy,
 gen byte ed_mod_age=4
 replace literacy=0 if Scq01==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,lphone,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,male,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,marital,
 gen byte marital=1 if Sbq06==2 | Sbq06==5
 replace marital=2 if Sbq06==1
 replace marital=4 if Sbq06==4
 replace marital=5 if Sbq06==3
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,motorcar,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,motorcycle,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,njobs,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,occup,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if Seq04==1
 replace occup=1 if Seq04>=11 & Seq04<=13
 replace occup=2 if Seq04>=21 & Seq04<=24
 replace occup=3 if Seq04>=31 & Seq04<=34
 replace occup=4 if Seq04>=41 & Seq04<=42
 replace occup=5 if Seq04>=51 & Seq04<=52
 replace occup=6 if Seq04>=61 & Seq04<=62
 replace occup=7 if Seq04>=71 & Seq04<=74
 replace occup=8 if Seq04>=81 & Seq04<=83
 replace occup=9 if Seq04>=91 & Seq04<=93
 replace occup=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,ownhouse,
 gen byte ownhouse=1 if sgq01==1 | sgq01==2
 replace ownhouse=0 if sgq01>2 & sgq01<=5
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,piped_water,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,pop_wgt,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,psu,
 *gen psu=psu
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,radio,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,rbirth,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,rbirth_juris,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,refrigerator,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,relationcs,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,relationharm,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,rprevious,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,rprevious_juris,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,sar_improved_toilet,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,sar_improved_water,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,sewage_toilet,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,sewingmachine,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,soc,
 gen byte soc=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,socialsec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,strata,
 gen strata=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=province
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,survey,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,television,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,toilet_jmp,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,toilet_orig,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,unempldur_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,unempldur_u,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,union,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,unitwage_2,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,urban,
ren region  urbrural
 gen byte urban=urbrural
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,veralt,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,vermast,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,wage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 replace wage=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,wage_2,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,washingmachine,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,water_jmp,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,water_orig,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfareothertype,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfaretype,
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,wgt,
 gen double wgt=weight
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,whours,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,year,
 gen int year=2010
 local year=2011
pak_2010_pslm_v01_m_v02_a_sarmd,PAK,2010,PSLM,v01,v02,yrmove,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,age,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,atschool,
 gen byte ed_mod_age=4
 gen byte atschool=1 if Scq05==1
 replace atschool=0 if Scq05==2
 replace atschool=0 if Scq03==2
 replace atschool=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,bicycle,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,buffalo,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,cellphone,
 gen byte cellphone=1 if sgq09==3 | sgq09==4
 replace cellphone=0 if sgq09==1 | sgq09==2
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,chicken,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,computer,
 gen byte computer=1 if sf2q11l==1
 replace computer=0 if sf2q11l==2
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,contract,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,countrycode,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,cow,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,ed_mod_age,
 gen byte ed_mod_age=4
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,educat4,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,educat5,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,educat7,
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
 replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,educy,
 gen byte ed_mod_age=4
 replace educy=13 if Scq04==17
 replace educy=14 if Scq04==14 /* BA/BSc */
 replace educy=16 if Scq04==18
 replace educy=17 if Scq04==19
 replace educy=16 if Scq04==20
 replace educy=16 if Scq04==21
 replace educy=16 if Scq04==16 /* MA/MSc */
 replace educy=19 if Scq04==22 /* MPhl/PhD */
 replace educy=. if Scq04==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,electricity,"
 recode sgq08 (1=1) (2 3 4 5 6 = 0), gen(electricity)"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if Seq06==4
 replace empstat=2 if Seq06==5
 replace empstat=3 if Seq06==1 | Seq06==2
 replace empstat=4 if Seq06==3 | Seq06>=6 & Seq06<=9
 replace empstat=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,empstat_2,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,empstat_2_year,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,everattend,
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,fan,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,firmsize_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,healthins,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,hsize,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")
 drop idh_"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,industry,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=1 if Seq05>=1 & Seq05<=5
 replace industry=2 if Seq05>=10 & Seq05<=14
 replace industry=3 if Seq05>=15 & Seq05<=37
 replace industry=4 if Seq05>=40 & Seq05<=41
 replace industry=5 if Seq05==45
 replace industry=6 if Seq05>=51 & Seq05<=55
 replace industry=7 if Seq05>=60 & Seq05<=64
 replace industry=8 if Seq05>=65 & Seq05<=74
 replace industry=9 if Seq05==75
 replace industry=10 if Seq05>=80 & Seq05<=99
 replace industry=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,industry_2,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,industry_orig_2,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,int_month,
 replace d3=2000+d3
 *replace d2=. if d2<7 & d3==2010 & d2!=.
 *replace d2=. if d2>=7 & d3==2011 & d2!=.
 gen int_month=d2
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,internet,
 gen byte internet=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,lamp,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,literacy,
 gen byte ed_mod_age=4
 replace literacy=0 if Scq01==2
 replace literacy=. if age<ed_mod_age & age!=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,lphone,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,male,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,marital,
 gen byte marital=1 if Sbq06==2 | Sbq06==5
 replace marital=2 if Sbq06==1
 replace marital=4 if Sbq06==4
 replace marital=5 if Sbq06==3
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,motorcar,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,motorcycle,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,njobs,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,occup,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if Seq04==1
 replace occup=1 if Seq04>=11 & Seq04<=13
 replace occup=2 if Seq04>=21 & Seq04<=24
 replace occup=3 if Seq04>=31 & Seq04<=34
 replace occup=4 if Seq04>=41 & Seq04<=42
 replace occup=5 if Seq04>=51 & Seq04<=52
 replace occup=6 if Seq04>=61 & Seq04<=62
 replace occup=7 if Seq04>=71 & Seq04<=74
 replace occup=8 if Seq04>=81 & Seq04<=83
 replace occup=9 if Seq04>=91 & Seq04<=93
 replace occup=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,ownhouse,
 gen byte ownhouse=1 if sgq01==1 | sgq01==2
 replace ownhouse=0 if sgq01>2 & sgq01<=5
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,piped_water,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,pline_nat,
 gen pline_nat=new_pline
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,poor_int,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=."
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,pop_wgt,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,psu,
 *gen psu=psu
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,radio,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,rbirth,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,rbirth_juris,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,refrigerator,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,relationcs,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,relationharm,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,rprevious,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,rprevious_juris,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,sar_improved_toilet,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,sar_improved_water,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,sewage_toilet,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,sewingmachine,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,soc,
 gen byte soc=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,socialsec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,spdef,
 gen spdef=psupind
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,strata,
 gen strata=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,subnatid2,
 gen byte subnatid2=province
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,survey,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,television,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,toilet_jmp,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,toilet_orig,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,unempldur_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,unempldur_u,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,union,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,unitwage_2,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,urban,
ren region  urbrural
 gen byte urban=urbrural
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,veralt,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,vermast,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,wage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 replace wage=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,wage_2,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,washingmachine,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,water_jmp,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,water_orig,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfare,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfaredef,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfaredef=texpend/hsize"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfarenom,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfarenom=nomexpend/hsize"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfareother,
 gen welfareother=peaexpM
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfareothertype,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfaretype,
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,welfshprosperity,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,wgt,"
 egen wgt=max(weight), by(idh countrycode year)"
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,whours,
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,year,
 gen int year=2010
 local year=2011
pak_2010_pslm_v01_m_v03_a_sarmd,PAK,2010,PSLM,v01,v03,yrmove,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=1 if Scq05==1
 replace atschool=0 if Scq05==2
 replace atschool=0 if Scq03==2
 replace atschool=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,bicycle,
 gen bicycle=numdurBicycle713>0 & numdurBicycle713<.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,buffalo,
 gen buffalo=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,cellphone,
 gen byte cellphone=1 if sgq09==3 | sgq09==4
 replace cellphone=0 if sgq09==1 | sgq09==2
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,chicken,
 gen chicken=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,computer,
 gen byte computer=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,contract,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,countrycode,"
 *egen wgt=max(weight), by(idh countrycode year)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,cow,
 gen cow=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,educat4,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
* replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,educat5,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
* replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,educat7,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
* replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,educy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace educy=13 if Scq04==17
 replace educy=14 if Scq04==14 /* BA/BSc */
 replace educy=16 if Scq04==18
 replace educy=17 if Scq04==19
 replace educy=16 if Scq04==20
 replace educy=16 if Scq04==21
 replace educy=16 if Scq04==16 /* MA/MSc */
 replace educy=19 if Scq04==22 /* MPhl/PhD */
 replace educy=. if Scq04==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,electricity,"
 recode sgq08 (1=1) (2 3 4 5 6 = 0), gen(electricity)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if Seq06==4
 replace empstat=2 if Seq06==5
 replace empstat=3 if Seq06==1 | Seq06==2
 replace empstat=4 if Seq06==3 | Seq06>=6 & Seq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,empstat_2,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,empstat_2_year,
 gen empstat_2_year=1 if Seq14==4
 replace empstat_2_year=2 if Seq14==5
 replace empstat_2_year=3 if Seq14==1 | Seq14==2
 replace empstat_2_year=4 if Seq14==3 | Seq14>=6 & Seq14<=9
 replace empstat_2_year=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,everattend,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,fan,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,firmsize_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,healthins,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,hsize,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,idh,"
 gen idh=hhcode1
 *egen wgt=max(weight), by(idh countrycode year)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,idp,"
 ren S7mq02 numdur
 reshape wide numdur, i(hhcode) j( itc2 ) string
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=1 if Seq05>=1 & Seq05<=5
 replace industry=2 if Seq05>=10 & Seq05<=14
 replace industry=3 if Seq05>=15 & Seq05<=37
 replace industry=4 if Seq05>=40 & Seq05<=41
 replace industry=5 if Seq05==45
 replace industry=6 if Seq05>=51 & Seq05<=55
 replace industry=7 if Seq05>=60 & Seq05<=64
 replace industry=8 if Seq05>=65 & Seq05<=74
 replace industry=9 if Seq05==75
 replace industry=10 if Seq05>=80 & Seq05<=99
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,industry_2,
 gen byte industry_2=1 if Seq13>=1 & Seq13<=5
 replace industry_2=2 if Seq13>=10 & Seq13<=14
 replace industry_2=3 if Seq13>=15 & Seq13<=37
 replace industry_2=4 if Seq13>=40 & Seq13<=41
 replace industry_2=5 if Seq13==45
 replace industry_2=6 if Seq13>=51 & Seq13<=55
 replace industry_2=7 if Seq13>=60 & Seq13<=64
 replace industry_2=8 if Seq13>=65 & Seq13<=74
 replace industry_2=9 if Seq13==75
 replace industry_2=10 if Seq13>=80 & Seq13<=99
 replace industry_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,industry_orig_2,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,int_month,
 replace d3=2000+d3
 *replace d2=. if d2<7 & d3==2010 & d2!=.
 *replace d2=. if d2>=7 & d3==2011 & d2!=.
 gen int_month=d2
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,internet,
 gen byte internet=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,lamp,
 gen lamp=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,lb_mod_age,
gen byte lb_mod_age=10
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace literacy=0 if Scq01==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,lphone,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,male,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,marital,
 gen byte marital=1 if Sbq06==2 | Sbq06==5
 replace marital=2 if Sbq06==1
 replace marital=4 if Sbq06==4
 replace marital=5 if Sbq06==3
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,motorcar,
 gen motorcar= numdurCar___Vehicle714>=0 & numdurCar___Vehicle714<.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,motorcycle,
 gen motorcar= numdurCar___Vehicle714>=0 & numdurCar___Vehicle714<.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,njobs,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,nlfreason,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,occup,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if Seq04==1
 replace occup=1 if Seq04>=11 & Seq04<=13
 replace occup=2 if Seq04>=21 & Seq04<=24
 replace occup=3 if Seq04>=31 & Seq04<=34
 replace occup=4 if Seq04>=41 & Seq04<=42
 replace occup=5 if Seq04>=51 & Seq04<=52
 replace occup=6 if Seq04>=61 & Seq04<=62
 replace occup=7 if Seq04>=71 & Seq04<=74
 replace occup=8 if Seq04>=81 & Seq04<=83
 replace occup=9 if Seq04>=91 & Seq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,ownhouse,
 gen byte ownhouse=1 if sgq01==1 | sgq01==2
 replace ownhouse=0 if sgq01>2 & sgq01<=5
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,piped_water,"
gen piped_water=.
replace piped_water=1 if sgq05==1 | sgq05==2
replace piped_water=0 if inlist(sgq05,3,4,5,6,7,8,9,10)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,pline_nat,
 gen pline_nat=new_pline
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,poor_int,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=."
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,pop_wgt,"
 *egen wgt=max(weight), by(idh countrycode year)
 gen wgt=weight
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen pop_wgt=wgt*hsize"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,psu,
 *gen psu=psu
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,radio,
 *gen psu=psu
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,rbirth,
 gen byte rbirth=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,refrigerator,
 gen refrigerator= numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,relationcs,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,relationharm,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,rprevious,
 gen byte rprevious=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,sar_improved_toilet,"
gen toilet_orig=sgq06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(sgq05,1)
replace water_jmp=2 if inlist(sgq05,2)
replace water_jmp=4 if inlist(sgq05,3,4)
replace water_jmp=5 if inlist(sgq05,5)
replace water_jmp=6 if inlist(sgq05,6)
replace water_jmp=12 if inlist(sgq05,7)
replace water_jmp=10 if inlist(sgq05,8)
replace water_jmp=14 if inlist(sgq05,9,10)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,sewage_toilet,"
gen sewage_toilet=.
replace sewage_toilet=1 if sgq06==2
replace sewage_toilet=0 if inlist(sgq06,1,3,4,5,6,7)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,sewingmachine,"
gen sewage_toilet=.
replace sewage_toilet=1 if sgq06==2
replace sewage_toilet=0 if inlist(sgq06,1,3,4,5,6,7)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,socialsec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,spdef,
 gen spdef=psupind
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,strata,
 gen strata=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,subnatid1,
 gen byte subnatid1=province
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,subnatid2,
 gen byte subnatid2=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,survey,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,toilet_jmp,"
gen toilet_orig=sgq06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,toilet_orig,
gen toilet_orig=sgq06
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,unempldur_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,unempldur_u,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,union,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if Seq08!=.
 replace unitwage=8 if Seq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,unitwage_2,
 replace wage_2=. if Seq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,urban,
ren region  urbrural
 gen byte urban=urbrural
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,veralt,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,vermast,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,wage_2,
 replace wage_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,washingmachine,
 replace wage_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(sgq05,1)
replace water_jmp=2 if inlist(sgq05,2)
replace water_jmp=4 if inlist(sgq05,3,4)
replace water_jmp=5 if inlist(sgq05,5)
replace water_jmp=6 if inlist(sgq05,6)
replace water_jmp=12 if inlist(sgq05,7)
replace water_jmp=10 if inlist(sgq05,8)
replace water_jmp=14 if inlist(sgq05,9,10)"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,water_orig,
gen water_orig=sgq05
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfare,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfaredef,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfaredef=texpend/hsize"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfarenom,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfarenom=nomexpend/hsize"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfareother,
 gen welfareother=peaexpM
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfareothertype,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfaretype,
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,welfshprosperity,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,wgt,"
 *egen wgt=max(weight), by(idh countrycode year)
 gen wgt=weight"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,year,"
 gen int year=2010
 *egen wgt=max(weight), by(idh countrycode year)
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011"
pak_2010_pslm_v01_m_v04_a_sarmd,PAK,2010,PSLM,v01,v04,yrmove,
 gen int yrmove=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,atschool,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte atschool=1 if Scq05==1
 replace atschool=0 if Scq05==2
 replace atschool=0 if Scq03==2
 replace atschool=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,bicycle,
 gen bicycle=numdurBicycle713>0 & numdurBicycle713<.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,buffalo,
 gen buffalo=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,cellphone,
 gen byte cellphone=1 if sgq09==3 | sgq09==4
 replace cellphone=0 if sgq09==1 | sgq09==2
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,chicken,
 gen chicken=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,computer,
 gen byte computer=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,contract,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,countrycode,"
 *egen wgt=max(weight), by(idh countrycode year)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,cow,
 gen cow=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,cpi,
 ren cpi`year'_w cpi
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,cpiperiod,
 gen cpiperiod=syear
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,ed_mod_age,
 gen byte ed_mod_age=4
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,educat4,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
* replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,educat5,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
* replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,educat7,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte educat7=1 if Scq04==0
 replace educat7=2 if Scq04 >0 & Scq04<8
 replace educat7=3 if Scq04==8
 replace educat7=4 if Scq04>8 & Scq04<12
 replace educat7=5 if Scq04==12
 replace educat7=7 if Scq04>12 & Scq04<=22
* replace educat7=6 if Scq04==17
 replace educat7=. if Scq04==23
 replace educat7=. if age<ed_mod_age & age!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,educy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace educy=13 if Scq04==17
 replace educy=14 if Scq04==14 /* BA/BSc */
 replace educy=16 if Scq04==18
 replace educy=17 if Scq04==19
 replace educy=16 if Scq04==20
 replace educy=16 if Scq04==21
 replace educy=16 if Scq04==16 /* MA/MSc */
 replace educy=19 if Scq04==22 /* MPhl/PhD */
 replace educy=. if Scq04==23
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,electricity,"
 recode sgq08 (1=1) (2 3 4 5 6 = 0), gen(electricity)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if Seq06==4
 replace empstat=2 if Seq06==5
 replace empstat=3 if Seq06==1 | Seq06==2
 replace empstat=4 if Seq06==3 | Seq06>=6 & Seq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,empstat_2,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,empstat_2_year,
 gen empstat_2_year=1 if Seq14==4
 replace empstat_2_year=2 if Seq14==5
 replace empstat_2_year=3 if Seq14==1 | Seq14==2
 replace empstat_2_year=4 if Seq14==3 | Seq14>=6 & Seq14<=9
 replace empstat_2_year=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,everattend,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,fan,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace everattend=0 if everattend==2
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,firmsize_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,healthins,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,hsize,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,idh,"
 gen idh=hhcode1
 *egen wgt=max(weight), by(idh countrycode year)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,idp,"
 ren S7mq02 numdur
 reshape wide numdur, i(hhcode) j( itc2 ) string
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=1 if Seq05>=1 & Seq05<=5
 replace industry=2 if Seq05>=10 & Seq05<=14
 replace industry=3 if Seq05>=15 & Seq05<=37
 replace industry=4 if Seq05>=40 & Seq05<=41
 replace industry=5 if Seq05==45
 replace industry=6 if Seq05>=51 & Seq05<=55
 replace industry=7 if Seq05>=60 & Seq05<=64
 replace industry=8 if Seq05>=65 & Seq05<=74
 replace industry=9 if Seq05==75
 replace industry=10 if Seq05>=80 & Seq05<=99
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,industry_2,
 gen byte industry_2=1 if Seq13>=1 & Seq13<=5
 replace industry_2=2 if Seq13>=10 & Seq13<=14
 replace industry_2=3 if Seq13>=15 & Seq13<=37
 replace industry_2=4 if Seq13>=40 & Seq13<=41
 replace industry_2=5 if Seq13==45
 replace industry_2=6 if Seq13>=51 & Seq13<=55
 replace industry_2=7 if Seq13>=60 & Seq13<=64
 replace industry_2=8 if Seq13>=65 & Seq13<=74
 replace industry_2=9 if Seq13==75
 replace industry_2=10 if Seq13>=80 & Seq13<=99
 replace industry_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,industry_orig_2,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,int_month,
 replace d3=2000+d3
 *replace d2=. if d2<7 & d3==2010 & d2!=.
 *replace d2=. if d2>=7 & d3==2011 & d2!=.
 gen int_month=d2
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,internet,
 gen byte internet=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,lamp,
 gen lamp=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,lb_mod_age,
gen byte lb_mod_age=10
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 replace literacy=0 if Scq01==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,lphone,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,male,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,marital,
 gen byte marital=1 if Sbq06==2 | Sbq06==5
 replace marital=2 if Sbq06==1
 replace marital=4 if Sbq06==4
 replace marital=5 if Sbq06==3
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,motorcar,
 gen motorcar= numdurCar___Vehicle714>=0 & numdurCar___Vehicle714<.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,motorcycle,
 gen motorcar= numdurCar___Vehicle714>=0 & numdurCar___Vehicle714<.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,njobs,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,nlfreason,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,occup,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if Seq04==1
 replace occup=1 if Seq04>=11 & Seq04<=13
 replace occup=2 if Seq04>=21 & Seq04<=24
 replace occup=3 if Seq04>=31 & Seq04<=34
 replace occup=4 if Seq04>=41 & Seq04<=42
 replace occup=5 if Seq04>=51 & Seq04<=52
 replace occup=6 if Seq04>=61 & Seq04<=62
 replace occup=7 if Seq04>=71 & Seq04<=74
 replace occup=8 if Seq04>=81 & Seq04<=83
 replace occup=9 if Seq04>=91 & Seq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,ownhouse,
 gen byte ownhouse=1 if sgq01==1 | sgq01==2
 replace ownhouse=0 if sgq01>2 & sgq01<=5
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,piped_water,"
gen piped_water=.
replace piped_water=1 if sgq05==1 | sgq05==2
replace piped_water=0 if inlist(sgq05,3,4,5,6,7,8,9,10)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,pline_nat,
 gen pline_nat=new_pline
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,poor_int,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=."
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,pop_wgt,"
 *egen wgt=max(weight), by(idh countrycode year)
 gen wgt=weight
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen pop_wgt=wgt*hsize"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,psu,
 *gen psu=psu
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,radio,
 *gen psu=psu
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,rbirth,
 gen byte rbirth=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,refrigerator,
 gen refrigerator= numdurRefrigerator701>0 & numdurRefrigerator701<.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,relationcs,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,relationharm,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,rprevious,
 gen byte rprevious=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,sar_improved_toilet,"
gen toilet_orig=sgq06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(sgq05,1)
replace water_jmp=2 if inlist(sgq05,2)
replace water_jmp=4 if inlist(sgq05,3,4)
replace water_jmp=5 if inlist(sgq05,5)
replace water_jmp=6 if inlist(sgq05,6)
replace water_jmp=12 if inlist(sgq05,7)
replace water_jmp=10 if inlist(sgq05,8)
replace water_jmp=14 if inlist(sgq05,9,10)
gen sar_improved_water=.
replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9,13)
replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,14)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,sewage_toilet,"
gen sewage_toilet=.
replace sewage_toilet=1 if sgq06==2
replace sewage_toilet=0 if inlist(sgq06,1,3,4,5,6,7)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,sewingmachine,"
gen sewage_toilet=.
replace sewage_toilet=1 if sgq06==2
replace sewage_toilet=0 if inlist(sgq06,1,3,4,5,6,7)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,socialsec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,spdef,
 gen spdef=psupind
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,strata,
 gen strata=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,subnatid1,
 gen byte subnatid1=province
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,subnatid2,
 gen byte subnatid2=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,subnatid3,
 gen byte subnatid3=.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,survey,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,toilet_jmp,"
gen toilet_orig=sgq06
gen toilet_jmp=.
replace toilet_jmp=12 if toilet_orig==1
replace toilet_jmp=1 if toilet_orig==2
replace toilet_jmp=3 if toilet_orig==3
replace toilet_jmp=13 if inlist(toilet_orig, 4,5,6,7)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,toilet_orig,
gen toilet_orig=sgq06
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,unempldur_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,unempldur_u,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,union,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if Seq08!=.
 replace unitwage=8 if Seq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,unitwage_2,
 replace wage_2=. if Seq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,urban,
ren region  urbrural
 gen byte urban=urbrural
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,veralt,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,vermast,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,wage_2,
 replace wage_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,washingmachine,
 replace wage_2=. if Seq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(sgq05,1)
replace water_jmp=2 if inlist(sgq05,2)
replace water_jmp=4 if inlist(sgq05,3,4)
replace water_jmp=5 if inlist(sgq05,5)
replace water_jmp=6 if inlist(sgq05,6)
replace water_jmp=12 if inlist(sgq05,7)
replace water_jmp=10 if inlist(sgq05,8)
replace water_jmp=14 if inlist(sgq05,9,10)"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,water_orig,
gen water_orig=sgq05
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfare,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfaredef,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfaredef=texpend/hsize"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfarenat,
 gen welfarenat=peaexpM
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfarenom,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfarenom=nomexpend/hsize"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfareother,
 gen welfareother=peaexpM
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfareothertype,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfaretype,
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,welfshprosperity,"
 gen byte hsize=hhsizeM
 g aux=1
 egen hsize2=sum(aux), by(idh)
 drop if hsize==. & hsize!=hsize2 & hsize2!=1
 replace hsize=hsize2 if hsize==. & hsize2==1
 drop aux hsize2
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,wgt,"
 *egen wgt=max(weight), by(idh countrycode year)
 gen wgt=weight"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if Seq01==1 | Seq03==1
 replace lstatus=2 if Seq01==2 & Seq03==2
 replace lstatus=3 if Seq01==2 & Seq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,year,"
 gen int year=2010
 *egen wgt=max(weight), by(idh countrycode year)
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011"
pak_2010_pslm_v01_m_v05_a_sarmd,PAK,2010,PSLM,v01,v05,yrmove,
 gen int yrmove=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,age,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,atschool,"
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,bicycle,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,buffalo,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,cellphone,
 gen byte cellphone=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,chicken,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,computer,
 gen byte computer=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,contract,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,countrycode,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,cow,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,cpi,
 gen cpi=2.126316
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,cpiperiod,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,educat4,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,educat5,"
 gen byte ed_mod_age=4
 gen byte edulevel1=1 if s2bq05==0
 replace edulevel1=2 if s2bq05 >0 & s2bq05<8
 replace edulevel1=3 if s2bq05==8
 replace edulevel1=4 if s2bq05>8 & s2bq05<12
 replace edulevel1=5 if s2bq05==12
 replace edulevel1=6 if s2bq05>12 & s2bq05<=19
 replace edulevel1=. if s2bq05==20
 replace edulevel1=. if age<ed_mod_age & age!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace edulevel1=1 if everattend==0
 replace everattend=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if edulevel1==1
 replace educat5=2 if edulevel1==2
 replace educat5=3 if edulevel1==3 | edulevel1==4
 replace educat5=4 if edulevel1==5
 replace educat5=5 if edulevel1==6"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,educat7,"
 gen byte ed_mod_age=4
 gen byte edulevel1=1 if s2bq05==0
 replace edulevel1=2 if s2bq05 >0 & s2bq05<8
 replace edulevel1=3 if s2bq05==8
 replace edulevel1=4 if s2bq05>8 & s2bq05<12
 replace edulevel1=5 if s2bq05==12
 replace edulevel1=6 if s2bq05>12 & s2bq05<=19
 replace edulevel1=. if s2bq05==20
 replace edulevel1=. if age<ed_mod_age & age!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace edulevel1=1 if everattend==0
 replace everattend=. if age<ed_mod_age & age!=.
 gen educat7=.
 replace educat7=edulevel1
 replace educat7=6 if s2bq05==17
 foreach var of varlist urb - educat7{
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for ccode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }
 foreach var of varlist urb - educat7{
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for ccode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,educy,"
 gen byte ed_mod_age=4
 gen byte educy=s2bq05
 replace educy=13 if s2bq05==11 | s2bq05==12
 replace educy=15 if s2bq05==13
 replace educy=16 if s2bq05==15
 replace educy=17 if s2bq05==16
 replace educy=16 if s2bq05==17
 replace educy=16 if s2bq05==18
 replace educy=17 if s2bq05==14
 replace educy=19 if s2bq05==19
 replace educy=. if s2bq05==20
 replace educy=s2bq14 if educy==. & s2bq14!=.
 replace educy=educy-1 if s2bq14>0 & s2bq14<=12 & s2bq05==.
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace educy=0 if everattend==0"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,electricity,"
 recode s5q04a (2=1) (3=0), gen(electricity)"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,empstat,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,empstat_2,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,empstat_2_year,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,everattend,"
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,fan,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,firmsize_l,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,healthins,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,hsize,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,industry,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte industry=1 if s1bq05>=1 & s1bq05<=5
 replace industry=2 if s1bq05>=10 & s1bq05<=14
 replace industry=3 if s1bq05>=15 & s1bq05<=37
 replace industry=4 if s1bq05>=40 & s1bq05<=41
 replace industry=5 if s1bq05==45
 replace industry=6 if s1bq05>=51 & s1bq05<=55
 replace industry=7 if s1bq05>=60 & s1bq05<=64
 replace industry=8 if s1bq05>=65 & s1bq05<=74
 replace industry=9 if s1bq05==75
 replace industry=10 if s1bq05>=80 & s1bq05<=99
 replace industry=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,industry_2,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,industry_orig_2,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,int_month,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,int_year,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,internet,
 gen byte internet=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,lamp,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,literacy,
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==0 | s2aq02==0
 replace literacy=. if age<ed_mod_age & age!=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,lphone,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,lstatus,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,male,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=2 if s1aq06==1
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,motorcar,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,motorcycle,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,njobs,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,nlfreason,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,occup,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,ocusec,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
 gen byte relationharm=s1aq02
 replace ownhouse=. if relationharm==6
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,piped_water,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,pline_int,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,poor_int,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,poor_nat,
 gen double pcc_nat=peaexpM
 gen pline_nat=pline
 gen poor_nat=1 if pcc_nat<pline_nat
 replace poor_nat=0 if pcc_nat>=pline_nat & pcc_nat!=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,pop_wgt,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,psu,
 *gen psu=psu
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,radio,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,rbirth,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,rbirth_juris,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,refrigerator,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,relationcs,
 gen byte relationcs=s1aq02
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,relationharm,
 gen byte relationharm=s1aq02
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,rprevious,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,rprevious_juris,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,sar_improved_toilet,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,sar_improved_water,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,sewage_toilet,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,sewingmachine,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,soc,
 gen byte soc=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,socialsec,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,strata,
 gen strata=.
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,subnatid1,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,subnatid2,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,subnatid3,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,survey,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,television,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,toilet_jmp,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,toilet_orig,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,unempldur_l,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,unempldur_u,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,union,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,unitwage,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,unitwage_2,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,urban,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,veralt,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,vermast,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,wage,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=s1bq08
 replace wage=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,wage_2,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,washingmachine,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,water_jmp,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,water_orig,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfare,"
 gen aux=1
 egen hhsize_125=count(aux), by(idh)
 gen double pcc_125=nomexpend/hhsize_125
 gen welfare=pcc_125"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfaredef,
 gen byte hhsize_i2d2=hhsizeM
 gen double pcc_i2d2=texpend/hhsize_i2d2
 *egen p=mean(pcc_i2d2)
 *replace pcc_i2d2=p
 gen welfaredef=pcc_i2d2
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfarenat,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfarenom,"
 gen aux=1
 egen hhsize_125=count(aux), by(idh)
 gen double pcc_125=nomexpend/hhsize_125
 gen welfarenom=pcc_125"
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfareother,
 gen double pcc_nat=peaexpM
 gen welfareother=pcc_nat
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfareothertype,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfaretype,
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,welfshprosperity,
 gen byte hhsize_i2d2=hhsizeM
 gen double pcc_i2d2=texpend/hhsize_i2d2
 *egen p=mean(pcc_i2d2)
 *replace pcc_i2d2=p
 gen welfaredef=pcc_i2d2
 gen welfshprosperity=welfaredef
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,wgt,
 gen double wgt=weight
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,whours,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,year,
 gen int year=2011
pak_2011_pslm_v01_m_v01_a_sarmd,PAK,2011,PSLM,v01,v01,yrmove,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,age,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,atschool,"
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,bicycle,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,buffalo,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,cellphone,
 gen byte cellphone=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,chicken,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,computer,
 gen byte computer=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,contract,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,countrycode,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,cow,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,educat4,"
 gen byte ed_mod_age=4
 gen byte educat7=1 if s2bq05==0
 replace educat7=2 if s2bq05 >0 & s2bq05<8
 replace educat7=3 if s2bq05==8
 replace educat7=4 if s2bq05>8 & s2bq05<12
 replace educat7=5 if s2bq05==12
 replace educat7=7 if s2bq05>12 & s2bq05<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if s2bq05==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,educat5,"
 gen byte ed_mod_age=4
 gen byte educat7=1 if s2bq05==0
 replace educat7=2 if s2bq05 >0 & s2bq05<8
 replace educat7=3 if s2bq05==8
 replace educat7=4 if s2bq05>8 & s2bq05<12
 replace educat7=5 if s2bq05==12
 replace educat7=7 if s2bq05>12 & s2bq05<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if s2bq05==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,educat7,"
 gen byte ed_mod_age=4
 gen byte educat7=1 if s2bq05==0
 replace educat7=2 if s2bq05 >0 & s2bq05<8
 replace educat7=3 if s2bq05==8
 replace educat7=4 if s2bq05>8 & s2bq05<12
 replace educat7=5 if s2bq05==12
 replace educat7=7 if s2bq05>12 & s2bq05<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if s2bq05==20
 replace educat7=. if age<ed_mod_age & age!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,educy,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0  if everattend==0"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,electricity,"
 recode s5q04a (2=1) (3=0), gen(electricity)"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,empstat_2,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,empstat_2_year,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,everattend,"
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,fan,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,firmsize_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,healthins,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,industry,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,industry_2,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,industry_orig_2,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,int_month,
 gen int_month=d2
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,internet,
 gen byte internet=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,lamp,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,literacy,
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==0 | s2aq02==0
 replace literacy=. if age<ed_mod_age & age!=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,lphone,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,male,
 gen byte male=s1aq03
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=2 if s1aq06==1
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,motorcar,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,motorcycle,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,njobs,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,occup,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,piped_water,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,pop_wgt,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,psu,
 *gen psu=psu
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,radio,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,rbirth,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,rbirth_juris,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,refrigerator,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,relationcs,
 gen byte relationcs=s1aq02
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,relationharm,
 gen byte relationharm=s1aq02
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,rprevious,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,rprevious_juris,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,sar_improved_toilet,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,sar_improved_water,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,sewage_toilet,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,sewingmachine,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,soc,
 gen byte soc=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,socialsec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,strata,
 gen strata=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=province
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,survey,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,television,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,toilet_jmp,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,toilet_orig,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,unempldur_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,unempldur_u,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,union,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,unitwage_2,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,urban,
 gen byte urban=region
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,veralt,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,vermast,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,wage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=s1bq08
 replace wage=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,wage_2,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,washingmachine,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,water_jmp,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,water_orig,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfareothertype,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfaretype,
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,wgt,
 gen double wgt=weight
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,whours,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,year,
 gen int year=2011
 local year=2011
pak_2011_pslm_v01_m_v02_a_sarmd,PAK,2011,PSLM,v01,v02,yrmove,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,age,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,atschool,"
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,bicycle,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,buffalo,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,cellphone,
 gen byte cellphone=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,chicken,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,computer,
 gen byte computer=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,contract,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,countrycode,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,cow,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,ed_mod_age,
 gen byte ed_mod_age=4
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,educat4,"
 gen byte ed_mod_age=4
 gen byte educat7=1 if s2bq05==0
 replace educat7=2 if s2bq05 >0 & s2bq05<8
 replace educat7=3 if s2bq05==8
 replace educat7=4 if s2bq05>8 & s2bq05<12
 replace educat7=5 if s2bq05==12
 replace educat7=7 if s2bq05>12 & s2bq05<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if s2bq05==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,educat5,"
 gen byte ed_mod_age=4
 gen byte educat7=1 if s2bq05==0
 replace educat7=2 if s2bq05 >0 & s2bq05<8
 replace educat7=3 if s2bq05==8
 replace educat7=4 if s2bq05>8 & s2bq05<12
 replace educat7=5 if s2bq05==12
 replace educat7=7 if s2bq05>12 & s2bq05<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if s2bq05==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,educat7,"
 gen byte ed_mod_age=4
 gen byte educat7=1 if s2bq05==0
 replace educat7=2 if s2bq05 >0 & s2bq05<8
 replace educat7=3 if s2bq05==8
 replace educat7=4 if s2bq05>8 & s2bq05<12
 replace educat7=5 if s2bq05==12
 replace educat7=7 if s2bq05>12 & s2bq05<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if s2bq05==20
 replace educat7=. if age<ed_mod_age & age!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 replace educat7=1  if everattend==0"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,educy,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0  if everattend==0"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,electricity,"
 recode s5q04a (2=1) (3=0), gen(electricity)"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,empstat_2,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,empstat_2_year,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,everattend,"
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,fan,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,firmsize_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,healthins,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,hsize,
 gen byte hsize=hhsizeM
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,industry,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,industry_2,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,industry_orig_2,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,int_month,
 gen int_month=d2
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,internet,
 gen byte internet=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,lamp,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,literacy,
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==0 | s2aq02==0
 replace literacy=. if age<ed_mod_age & age!=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,lphone,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,male,
 gen byte male=s1aq03
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=2 if s1aq06==1
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,motorcar,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,motorcycle,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,njobs,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,occup,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,piped_water,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,pline_nat,
 gen pline_nat=new_pline
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,pop_wgt,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,psu,
 *gen psu=psu
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,radio,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,rbirth,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,rbirth_juris,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,refrigerator,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,relationcs,
 gen byte relationcs=s1aq02
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,relationharm,
 gen byte relationharm=s1aq02
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,rprevious,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,rprevious_juris,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,sar_improved_toilet,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,sar_improved_water,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,sewage_toilet,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,sewingmachine,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,soc,
 gen byte soc=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,socialsec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,spdef,
 gen spdef=psupind
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,strata,
 gen strata=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,subnatid2,
 gen byte subnatid2=province
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,survey,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,television,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,toilet_jmp,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,toilet_orig,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,unempldur_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,unempldur_u,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,union,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,unitwage_2,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,urban,
 gen byte urban=region
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,veralt,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,vermast,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,wage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=s1bq08
 replace wage=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,wage_2,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,washingmachine,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,water_jmp,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,water_orig,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfareother,
 gen welfareother=peaexpM
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfareothertype,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfaretype,
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,wgt,
 gen double wgt=weight
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,whours,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,year,
 gen int year=2011
 local year=2011
pak_2011_pslm_v01_m_v03_a_sarmd,PAK,2011,PSLM,v01,v03,yrmove,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,atschool,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,bicycle,
 gen bicycle= numdurbicycle713>0 & numdurbicycle713<.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,buffalo,
 gen buffalo=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,cellphone,
 gen byte cellphone=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,chicken,
 gen chicken=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,computer,
 gen byte computer=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,contract,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,countrycode,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,cow,
 gen cow=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,educat4,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,educat5,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,educat7,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,educy,
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,electricity,"
 recode s5q04a (1 2=1) (3=0), gen(electricity)"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,empstat_2,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,fan,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,firmsize_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,healthins,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,hsize,
 gen byte hsize=hhsizeM
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,idh,"
 rename s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i(hhcode) j(code)
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,idp,"
 rename s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i(hhcode) j(code)
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,industry,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,industry_2,
 gen industry_2=1 if s1bq13>=1 & s1bq13<5
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,industry_orig_2,
 gen industry_orig_2=s1bq13
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,int_month,
 gen int_month=d2
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,internet,
 gen byte internet=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,lamp,
 gen lamp=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,lb_mod_age,
gen byte lb_mod_age=10
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq02==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,lphone,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,male,
 gen byte male=s1aq03
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=2 if s1aq06==1
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,motorcar,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,motorcycle,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,njobs,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,nlfreason,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,occup,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9,10,11)"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,pline_nat,
 gen pline_nat=new_pline
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,pop_wgt,
 gen double wgt=weight
 gen byte hsize=hhsizeM
 gen pop_wgt=wgt*hsize
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,psu,
 *gen psu=psu
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,radio,
 *gen psu=psu
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,rbirth,
 gen byte rbirth=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,refrigerator,
 gen refrigerator= numdurrefrigerator701>0 & numdurrefrigerator701<.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,relationcs,
 gen byte relationcs=s1aq02
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,relationharm,
 gen int year=2011
 gen byte relationharm=s1aq02
 gen z=1 if s1aq02==1
 bys idh: egen y=sum(z)
 replace relationharm=1 if y==0 & idc==51
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,rprevious,
 gen byte rprevious=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)
gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
 replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,sewage_toilet,
gen sewage_toilet=s5q14
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,sewingmachine,
gen sewage_toilet=s5q14
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,socialsec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,spdef,
 gen spdef=psupind
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,strata,
 gen strata=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,subnatid1,
 gen byte subnatid1=province
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,subnatid2,
 gen byte subnatid2=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,survey,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,toilet_orig,
gen toilet_orig=s5q14
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,unempldur_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,unempldur_u,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,union,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,urban,
 gen byte urban=region
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,veralt,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,vermast,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
 replace wage=0 if wage>0 & empstat==2 & wage!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)"
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,water_orig,
gen water_orig=s5q05
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfareother,
 gen welfareother=peaexpM
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfareothertype,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfaretype,
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,wgt,
 gen double wgt=weight
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,year,
 gen int year=2011
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2011_pslm_v01_m_v04_a_sarmd,PAK,2011,PSLM,v01,v04,yrmove,
 gen int yrmove=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,atschool,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,bicycle,
 gen bicycle= numdurbicycle713>0 & numdurbicycle713<.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,buffalo,
 gen buffalo=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,cellphone,
 gen byte cellphone=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,chicken,
 gen chicken=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,computer,
 gen byte computer=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,contract,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,countrycode,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,cow,
 gen cow=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,cpi,
 ren cpi`year'_w cpi
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,cpiperiod,
 gen cpiperiod=syear
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,ed_mod_age,
 gen byte ed_mod_age=4
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,educat4,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,educat5,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,educat7,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,educy,
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0  if everattend==0
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,electricity,"
 recode s5q04a (1 2=1) (3=0), gen(electricity)"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,empstat_2,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,fan,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=.
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,firmsize_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,healthins,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,hsize,
 gen byte hsize=hhsizeM
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,idh,"
 rename s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i(hhcode) j(code)
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,idp,"
 rename s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i(hhcode) j(code)
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,industry,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,industry_2,
 gen industry_2=1 if s1bq13>=1 & s1bq13<5
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,industry_orig_2,
 gen industry_orig_2=s1bq13
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,int_month,
 gen int_month=d2
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,int_year,
 replace d3=2000+d3
 gen int_year=d3
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,internet,
 gen byte internet=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,lamp,
 gen lamp=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,lb_mod_age,
gen byte lb_mod_age=10
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq02==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
 foreach var in atschool literacy educy everattend educat4 educat5 educat7{
replace `var'=. if age<ed_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,lphone,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,male,
 gen byte male=s1aq03
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,marital,
 gen byte marital=1 if s1aq06==2 | s1aq06==5
 replace marital=2 if s1aq06==1
 replace marital=4 if s1aq06==4
 replace marital=5 if s1aq06==3
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,motorcar,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,motorcycle,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,njobs,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,nlfreason,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,occup,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte occup=.
 replace occup=10 if s1bq04==1
 replace occup=1 if s1bq04>=11 & s1bq04<=13
 replace occup=2 if s1bq04>=21 & s1bq04<=24
 replace occup=3 if s1bq04>=31 & s1bq04<=34
 replace occup=4 if s1bq04>=41 & s1bq04<=42
 replace occup=5 if s1bq04>=51 & s1bq04<=52
 replace occup=6 if s1bq04>=61 & s1bq04<=62
 replace occup=7 if s1bq04>=71 & s1bq04<=74
 replace occup=8 if s1bq04>=81 & s1bq04<=83
 replace occup=9 if s1bq04>=91 & s1bq04<=93
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9,10,11)"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,pline_nat,
 gen pline_nat=new_pline
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,pop_wgt,
 gen double wgt=weight
 gen byte hsize=hhsizeM
 gen pop_wgt=wgt*hsize
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,psu,
 *gen psu=psu
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,radio,
 *gen psu=psu
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,rbirth,
 gen byte rbirth=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,refrigerator,
 gen refrigerator= numdurrefrigerator701>0 & numdurrefrigerator701<.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,relationcs,
 gen byte relationcs=s1aq02
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,relationharm,
 gen int year=2011
 gen byte relationharm=s1aq02
 gen z=1 if s1aq02==1
 bys idh: egen y=sum(z)
 replace relationharm=1 if y==0 & idc==51
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,rprevious,
 gen byte rprevious=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)
gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
 replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,sewage_toilet,
gen sewage_toilet=s5q14
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,sewingmachine,
gen sewage_toilet=s5q14
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,socialsec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,spdef,
 gen spdef=psupind
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,strata,
 gen strata=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,subnatid1,
 gen byte subnatid1=province
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,subnatid2,
 gen byte subnatid2=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,subnatid3,
 gen byte subnatid3=.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,survey,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,toilet_orig,
gen toilet_orig=s5q14
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,unempldur_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,unempldur_u,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,union,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,urban,
 gen byte urban=region
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,veralt,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,vermast,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
 replace wage=0 if wage>0 & empstat==2 & wage!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)"
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,water_orig,
gen water_orig=s5q05
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfarenat,
 gen welfarenat=peaexpM
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfareother,
 gen welfareother=peaexpM
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfareothertype,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfaretype,
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,wgt,
 gen double wgt=weight
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,year,
 gen int year=2011
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2011_pslm_v01_m_v05_a_sarmd,PAK,2011,PSLM,v01,v05,yrmove,
 gen int yrmove=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,age,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,atschool,"
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,bicycle,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,buffalo,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,cellphone,
 gen byte cellphone=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,chicken,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,computer,
 gen byte computer=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,contract,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,countrycode,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,cow,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,cpi,
 gen cpi=2.126316
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,cpiperiod,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=4
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,educat4,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,educat5,"
 gen byte ed_mod_age=4
 gen byte edulevel1=1 if s2bq05==0
 replace edulevel1=2 if s2bq05 >0 & s2bq05<8
 replace edulevel1=3 if s2bq05==8
 replace edulevel1=4 if s2bq05>8 & s2bq05<12
 replace edulevel1=5 if s2bq05==12
 replace edulevel1=6 if s2bq05>12 & s2bq05<=19
 replace edulevel1=. if s2bq05==20
 replace edulevel1=. if age<ed_mod_age & age!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace edulevel1=1 if everattend==0
 replace everattend=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if edulevel1==1
 replace educat5=2 if edulevel1==2
 replace educat5=3 if edulevel1==3 | edulevel1==4
 replace educat5=4 if edulevel1==5
 replace educat5=5 if edulevel1==6"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,educat7,"
 gen byte ed_mod_age=4
 gen byte edulevel1=1 if s2bq05==0
 replace edulevel1=2 if s2bq05 >0 & s2bq05<8
 replace edulevel1=3 if s2bq05==8
 replace edulevel1=4 if s2bq05>8 & s2bq05<12
 replace edulevel1=5 if s2bq05==12
 replace edulevel1=6 if s2bq05>12 & s2bq05<=19
 replace edulevel1=. if s2bq05==20
 replace edulevel1=. if age<ed_mod_age & age!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace edulevel1=1 if everattend==0
 replace everattend=. if age<ed_mod_age & age!=.
 gen educat7=.
 replace educat7=edulevel1
 replace educat7=6 if s2bq05==17
 foreach var of varlist urb - educat7{
 qui sum `var'
 scalar sclrc = r(mean)
 if sclrc==. {
  display as txt ""Variable "" as result ""`var'"" as txt "" for ccode "" as result `cty' as txt "" contains all missing values -"" as error "" Variable Deleted""
 }"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,educy,"
 gen byte ed_mod_age=4
 gen byte educy=s2bq05
 replace educy=13 if s2bq05==11 | s2bq05==12
 replace educy=15 if s2bq05==13
 replace educy=16 if s2bq05==15
 replace educy=17 if s2bq05==16
 replace educy=16 if s2bq05==17
 replace educy=16 if s2bq05==18
 replace educy=17 if s2bq05==14
 replace educy=19 if s2bq05==19
 replace educy=. if s2bq05==20
 replace educy=s2bq14 if educy==. & s2bq14!=.
 replace educy=educy-1 if s2bq14>0 & s2bq14<=12 & s2bq05==.
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace educy=0 if everattend==0"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,electricity,"
 recode s5q04a (2=1) (3=0), gen(electricity)"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,empstat,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,empstat_2,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,empstat_2_year,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,everattend,"
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,fan,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,firmsize_l,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,healthins,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,hsize,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,industry,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=15 & ind<=37
 replace industry=4 if ind>=40 & ind<=41
 replace industry=5 if ind==45
 replace industry=6 if ind>=51 & ind<=55
 replace industry=7 if ind>=60 & ind<=64
 replace industry=8 if ind>=65 & ind<=74
 replace industry=9 if ind==75
 replace industry=10 if ind>=80 & ind<=99
 replace industry=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,industry_2,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,industry_orig_2,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,int_month,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,int_year,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,internet,
 gen byte internet=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,lamp,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,literacy,
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==0 | s2aq02==0
 replace literacy=. if age<ed_mod_age & age!=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,lphone,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,lstatus,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,male,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,motorcar,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,motorcycle,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,njobs,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,nlfreason,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,occup,
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup==1
 replace occup=1 if ocup>=11 & ocup<=13
 replace occup=2 if ocup>=21 & ocup<=24
 replace occup=3 if ocup>=31 & ocup<=34
 replace occup=4 if ocup>=41 & ocup<=42
 replace occup=5 if ocup>=51 & ocup<=52
 replace occup=6 if ocup>=61 & ocup<=62
 replace occup=7 if ocup>=71 & ocup<=74
 replace occup=8 if ocup>=81 & ocup<=83
 replace occup=9 if ocup>=91 & ocup<=93
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,ocusec,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
 gen byte relationharm=s1aq02
 replace ownhouse=. if relationharm==6
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,piped_water,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,pline_int,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,pline_nat,
 gen pline_nat=pline
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,poor_int,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,poor_nat,
 gen double pcc_nat=peaexpM
 gen pline_nat=pline
 gen poor_nat=1 if pcc_nat<pline_nat
 replace poor_nat=0 if pcc_nat>=pline_nat & pcc_nat!=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,pop_wgt,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,psu,
 *gen psu=psu
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,radio,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,rbirth,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,rbirth_juris,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,refrigerator,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,relationcs,
 gen byte relationcs=s1aq02
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,relationharm,
 gen byte relationharm=s1aq02
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,rprevious,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,rprevious_juris,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,sar_improved_toilet,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,sar_improved_water,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,sewage_toilet,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,sewingmachine,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,soc,
 gen byte soc=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,socialsec,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,strata,
 gen strata=.
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,subnatid1,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,subnatid2,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,subnatid3,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,survey,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,television,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,toilet_jmp,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,toilet_orig,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,unempldur_l,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,unempldur_u,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,union,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,unitwage,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,unitwage_2,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,urban,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,veralt,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,vermast,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,wage,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=s1bq08
 replace wage=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,wage_2,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,washingmachine,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,water_jmp,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,water_orig,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfare,"
 gen aux=1
 egen hhsize_125=count(aux), by(idh)
 gen double pcc_125=nomexpend/hhsize_125
 gen welfare=pcc_125"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfaredef,"
 gen a = 1 if s1aq02!=. & s1aq02<=10
 egen byte hhsize_i2d2=count(a), by(idh)
 gen double pcc_i2d2=texpend/hhsize_i2d2
 *egen p=mean(pcc_i2d2)
 *replace pcc_i2d2=p
 gen welfaredef=pcc_i2d2"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfarenat,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfarenom,"
 gen aux=1
 egen hhsize_125=count(aux), by(idh)
 gen double pcc_125=nomexpend/hhsize_125
 gen welfarenom=pcc_125"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfareother,
 gen double pcc_nat=peaexpM
 gen welfareother=pcc_nat
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfareothertype,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfaretype,
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,welfshprosperity,"
 gen a = 1 if s1aq02!=. & s1aq02<=10
 egen byte hhsize_i2d2=count(a), by(idh)
 gen double pcc_i2d2=texpend/hhsize_i2d2
 *egen p=mean(pcc_i2d2)
 *replace pcc_i2d2=p
 gen welfaredef=pcc_i2d2
 gen welfshprosperity=welfaredef"
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,wgt,
 gen double wgt=weight
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,whours,
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,year,
 gen int year=2013
pak_2013_pslm_v01_m_v01_a_sarmd,PAK,2013,PSLM,v01,v01,yrmove,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,age,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,atschool,"
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,bicycle,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,buffalo,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,cellphone,
 gen byte cellphone=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,chicken,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,computer,
 gen byte computer=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,contract,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,countrycode,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,cow,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=4
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,educat4,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if educy==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,educat5,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if educy==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,educat7,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if educy==20
 replace educat7=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,educy,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0 if everattend==0"
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,electricity,"
 recode s5q04a (2=1) (3=0), gen(electricity)"
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,empstat_2,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,empstat_2_year,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,everattend,"
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,fan,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,firmsize_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,healthins,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,hsize,
 gen byte hsize=hhsizeM
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,industry,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=10 & ind<=33
 replace industry=4 if ind>=35 & ind<41
 replace industry=5 if ind>=41 & ind<45
 replace industry=6 if ind>=45 & ind<=47
 replace industry=6 if ind==55 | ind==56
 replace industry=7 if ind>=49 & ind<55
 replace industry=8 if ind>=58 & ind<=82
 replace industry=9 if ind==84
 replace industry=10 if ind>=85 & ind<=99
 replace industry=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,industry_2,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,industry_orig_2,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,int_month,
 gen int_month=month1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,int_year,
 gen int_year=year1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,internet,
 gen byte internet=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,lamp,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,lb_mod_age,
gen byte lb_mod_age=10
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,literacy,
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==0 | s2aq02==0
 replace literacy=. if age<ed_mod_age & age!=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,lphone,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,male,
 gen byte male=s1aq04
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,motorcar,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,motorcycle,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,njobs,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,occup,
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup<10 & ocup!=.
 replace occup=1 if ocup>=11 & ocup<20
 replace occup=2 if ocup>=21 & ocup<30
 replace occup=3 if ocup>=31 & ocup<40
 replace occup=4 if ocup>=41 & ocup<50
 replace occup=5 if ocup>=51 & ocup<60
 replace occup=6 if ocup>=61 & ocup<70
 replace occup=7 if ocup>=71 & ocup<80
 replace occup=8 if ocup>=81 & ocup<90
 replace occup=9 if ocup>=91 & ocup<99
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
 gen byte relationharm=s1aq02
 replace ownhouse=. if relationharm==6
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,piped_water,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,pline_nat,
 gen pline_nat=new_pline
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,pop_wgt,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,psu,
 *gen psu=psu
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,radio,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,rbirth,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,rbirth_juris,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,refrigerator,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,relationcs,
 gen byte relationcs=s1aq02
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,relationharm,
 gen byte relationharm=s1aq02
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,rprevious,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,rprevious_juris,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,sar_improved_toilet,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,sar_improved_water,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,sewage_toilet,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,sewingmachine,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,soc,
 gen byte soc=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,socialsec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,strata,
 gen strata=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=province
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,survey,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,television,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,toilet_jmp,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,toilet_orig,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,unempldur_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,unempldur_u,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,union,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,unitwage_2,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,urban,
 gen byte urban=region
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,veralt,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,vermast,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,wage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=s1bq08
 replace wage=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,wage_2,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,washingmachine,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,water_jmp,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,water_orig,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfareothertype,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfaretype,
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,wgt,
 gen double wgt=weight
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,whours,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,year,
 gen int year=2013
 local year=2011
pak_2013_pslm_v01_m_v02_a_sarmd,PAK,2013,PSLM,v01,v02,yrmove,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,age,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,atschool,"
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,bicycle,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,buffalo,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,cellphone,
 gen byte cellphone=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,chicken,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,computer,
 gen byte computer=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,contract,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,countrycode,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,cow,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,cpi,
 ren cpi`year'_w cpi
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,cpiperiod,
 gen cpiperiod=syear
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,ed_mod_age,
 gen byte ed_mod_age=4
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,educat4,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if educy==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7"
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,educat5,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if educy==20
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7"
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,educat7,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=6 if s2bq05==17
 replace educat7=. if educy==20
 replace educat7=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,educy,"
 gen byte educy=s2bq05
 replace educy=13  if s2bq05==11 | s2bq05==12
 replace educy=14  if s2bq05==13 /* BA/BSc */
 replace educy=16  if s2bq05==15
 replace educy=17  if s2bq05==16
 replace educy=16  if s2bq05==17
 replace educy=16  if s2bq05==18
 replace educy=16  if s2bq05==14 /* MA/MSc */
 replace educy=19  if s2bq05==19 /* MPhl/PhD */
 replace educy=.  if s2bq05==20
 replace educy=max(s2bq14-1,0) if educy==. & s2bq14<=12
 replace educy=12 if (s2bq14==11 | s2bq14==12) & s2bq05==.
 replace educy=13 if s2bq14==13 & s2bq05==.
 replace educy=14 if s2bq14==14 & s2bq05==.
 replace educy=14 if s2bq14==15 & s2bq05==.
 replace educy=15 if s2bq14==16 & s2bq05==.
 replace educy=14 if s2bq14==17 & s2bq05==.
 replace educy=14 if s2bq14==18 & s2bq05==.
 replace educy=17 if s2bq14==19 & s2bq05==.
 replace educy=. if s2bq14==20 & s2bq05==.
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0 if everattend==0"
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,electricity,"
 recode s5q04a (2=1) (3=0), gen(electricity)"
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,empstat,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,empstat_2,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,empstat_2_year,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,everattend,"
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,fan,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,firmsize_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,healthins,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,hsize,
 gen byte hsize=hhsizeM
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,idh,"
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,idp,"
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,industry,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=10 & ind<=33
 replace industry=4 if ind>=35 & ind<41
 replace industry=5 if ind>=41 & ind<45
 replace industry=6 if ind>=45 & ind<=47
 replace industry=6 if ind==55 | ind==56
 replace industry=7 if ind>=49 & ind<55
 replace industry=8 if ind>=58 & ind<=82
 replace industry=9 if ind==84
 replace industry=10 if ind>=85 & ind<=99
 replace industry=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,industry_2,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,industry_orig_2,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,int_month,
 gen int_month=month1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,int_year,
 gen int_year=year1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,internet,
 gen byte internet=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,lamp,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,lb_mod_age,
gen byte lb_mod_age=10
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,literacy,
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==0 | s2aq02==0
 replace literacy=. if age<ed_mod_age & age!=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,lphone,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,lstatus,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,male,
 gen byte male=s1aq04
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,motorcar,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,motorcycle,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,njobs,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,nlfreason,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,occup,
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup<10 & ocup!=.
 replace occup=1 if ocup>=11 & ocup<20
 replace occup=2 if ocup>=21 & ocup<30
 replace occup=3 if ocup>=31 & ocup<40
 replace occup=4 if ocup>=41 & ocup<50
 replace occup=5 if ocup>=51 & ocup<60
 replace occup=6 if ocup>=61 & ocup<70
 replace occup=7 if ocup>=71 & ocup<80
 replace occup=8 if ocup>=81 & ocup<90
 replace occup=9 if ocup>=91 & ocup<99
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,ocusec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
 gen byte relationharm=s1aq02
 replace ownhouse=. if relationharm==6
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,piped_water,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,pline_nat,
 gen pline_nat=new_pline
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,pop_wgt,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,psu,
 *gen psu=psu
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,radio,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,rbirth,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,rbirth_juris,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,refrigerator,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,relationcs,
 gen byte relationcs=s1aq02
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,relationharm,
 gen byte relationharm=s1aq02
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,rprevious,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,rprevious_juris,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,sar_improved_toilet,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,sar_improved_water,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,sewage_toilet,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,sewingmachine,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,soc,
 gen byte soc=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,socialsec,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,spdef,
 gen spdef=psupind
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,strata,
 gen strata=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,subnatid1,
 gen byte subnatid1=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,subnatid2,
 gen byte subnatid2=province
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,subnatid3,
 gen byte subnatid3=.
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,survey,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,television,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,toilet_jmp,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,toilet_orig,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,unempldur_l,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,unempldur_u,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,union,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,unitwage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=5
 replace unitwage=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,unitwage_2,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,urban,
 gen byte urban=region
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,veralt,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,vermast,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,wage,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=s1bq08
 replace wage=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,wage_2,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,washingmachine,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,water_jmp,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,water_orig,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfarenat,
 gen welfarenat=peaexpM
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfareother,
 gen welfareother=peaexpM
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfareothertype,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfaretype,
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,wgt,
 gen double wgt=weight
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,whours,
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,year,
 gen int year=2013
 local year=2011
pak_2013_pslm_v01_m_v03_a_sarmd,PAK,2013,PSLM,v01,v03,yrmove,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,atschool,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,bicycle,
 gen bicycle= numdurbicycle713>0 & numdurbicycle713<.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,buffalo,
 gen buffalo=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,cellphone,
 gen byte cellphone=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,chicken,
 gen chicken=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,computer,
 gen chicken=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,contract,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,countrycode,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,cow,
 gen cow=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,cpi,
 ren cpi`year'_w cpi
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,cpiperiod,
 gen cpiperiod=syear
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,ed_mod_age,
 gen byte ed_mod_age=4
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,educat4,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,educat5,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,educat7,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,educy,
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,electricity,"
 recode s5q04a (1 2=1) (3=0), gen(electricity)"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,empstat_2,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,fan,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,firmsize_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,healthins,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,hsize,
 gen byte hsize=hhsizeM
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,idh,"
 ren s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i( hhcode ) j(code)
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,idp,"
 ren s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i( hhcode ) j(code)
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=10 & ind<=33
 replace industry=4 if ind>=35 & ind<41
 replace industry=5 if ind>=41 & ind<45
 replace industry=6 if ind>=45 & ind<=47
 replace industry=6 if ind==55 | ind==56
 replace industry=7 if ind>=49 & ind<55
 replace industry=8 if ind>=58 & ind<=82
 replace industry=9 if ind==84
 replace industry=10 if ind>=85 & ind<=99
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,industry_2,
 gen ind2=int(s1bq13/100)
 gen byte industry_2=1 if ind2>=1 & ind2<5
 replace industry_2=2 if ind2>=5 & ind2<10
 replace industry_2=3 if ind2>=10 & ind2<=33
 replace industry_2=4 if ind2>=35 & ind2<41
 replace industry_2=5 if ind2>=41 & ind2<45
 replace industry_2=6 if ind2>=45 & ind2<=47
 replace industry_2=6 if ind2==55 | ind2==56
 replace industry_2=7 if ind2>=49 & ind2<55
 replace industry_2=8 if ind2>=58 & ind2<=82
 replace industry_2=9 if ind2==84
 replace industry_2=10 if ind2>=85 & ind2<=99
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,industry_orig_2,
 gen industry_orig_2=s1bq13
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,int_month,
 gen int_month=month1
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,int_year,
 gen int_year=year1
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,internet,
 gen byte internet=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,lamp,
 gen lamp=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,lb_mod_age,
gen byte lb_mod_age=10
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq02==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,lphone,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,male,
 gen byte male=s1aq04
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,motorcar,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,motorcycle,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,njobs,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,nlfreason,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,occup,"
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen occup_orig=s1bq04
 labmask occup_orig , val(s1bq04) lbl(lbloccup_orig) decode 
 replace occup_orig=. if lstatus!=1
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup<10 & ocup!=.
 replace occup=1 if ocup>=11 & ocup<20
 replace occup=2 if ocup>=21 & ocup<30
 replace occup=3 if ocup>=31 & ocup<40
 replace occup=4 if ocup>=41 & ocup<50
 replace occup=5 if ocup>=51 & ocup<60
 replace occup=6 if ocup>=61 & ocup<70
 replace occup=7 if ocup>=71 & ocup<80
 replace occup=8 if ocup>=81 & ocup<90
 replace occup=9 if ocup>=91 & ocup<99
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9,10,11)"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,pline_nat,
 gen pline_nat=new_pline
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,pop_wgt,
 gen double wgt=weight
 gen byte hsize=hhsizeM
 gen pop_wgt=wgt*hsize
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,psu,
 *gen psu=psu
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,radio,
 *gen psu=psu
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,rbirth,
 gen byte rbirth=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,rbirth_juris,
 gen byte rbirth_juris=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,refrigerator,
 gen refrigerator= numdurrefrigerator701>0 & numdurrefrigerator701<.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,relationcs,
 gen byte relationcs=s1aq02
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,relationharm,
 gen int year=2013
 gen byte relationharm=s1aq02
 ge z=1 if s1aq02==1
 bys idh: egen y=sum(z)
 replace relationharm=1 if idc==51 & y==0
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,rprevious,
 gen byte rprevious=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,rprevious_juris,
 gen byte rprevious_juris=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)
gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
 replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,sewage_toilet,
gen sewage_toilet=s5q14
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,sewingmachine,
gen sewage_toilet=s5q14
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,socialsec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,spdef,
 gen spdef=psupind
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,strata,
 gen strata=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,subnatid1,
 gen byte subnatid1=province
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,subnatid2,
 gen byte subnatid2=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,subnatid3,
 gen byte subnatid3=.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,survey,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,toilet_orig,
gen toilet_orig=s5q14
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,unempldur_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,unempldur_u,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,union,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,urban,
 gen byte urban=region
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,veralt,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,vermast,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)"
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,water_orig,
gen water_orig=s5q05
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfarenat,
 gen welfarenat=peaexpM
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfareother,
 gen welfareother=peaexpM
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfareothertype,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfaretype,
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,wgt,
 gen double wgt=weight
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,year,
 gen int year=2013
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2013_pslm_v01_m_v04_a_sarmd,PAK,2013,PSLM,v01,v04,yrmove,
 gen int yrmove=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,atschool,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (3=1) (1 2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,bicycle,
 gen bicycle= numdurbicycle713>0 & numdurbicycle713<.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,buffalo,
 gen buffalo=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,cellphone,
 gen byte cellphone=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,chicken,
 gen chicken=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,computer,
 gen chicken=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,contract,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,countrycode,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,cow,
 gen cow=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,cpi,
 ren cpi`year'_w cpi
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,cpiperiod,
 gen cpiperiod=syear
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,ed_mod_age,
 gen byte ed_mod_age=4
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,educat4,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,educat5,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,educat7,"
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2bq05, s2bq14)
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,educy,
 gen educy2=s2bq14
 replace educy2=s2bq14-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,electricity,"
 recode s5q04a (1 2=1) (3=0), gen(electricity)"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,empstat,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,empstat_2,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,fan,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 recode s2bq01 (2 3 =1) (1=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,firmsize_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,healthins,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,hsize,
 gen byte hsize=hhsizeM
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,idh,"
 ren s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i( hhcode ) j(code)
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,idp,"
 ren s7mq02 numdur
 reshape wide numdur, i( hhcode ) j( itc2 ) string
 reshape wide s9aq01, i( hhcode ) j(code)
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,industry,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=10 & ind<=33
 replace industry=4 if ind>=35 & ind<41
 replace industry=5 if ind>=41 & ind<45
 replace industry=6 if ind>=45 & ind<=47
 replace industry=6 if ind==55 | ind==56
 replace industry=7 if ind>=49 & ind<55
 replace industry=8 if ind>=58 & ind<=82
 replace industry=9 if ind==84
 replace industry=10 if ind>=85 & ind<=99
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,industry_2,
 gen ind2=int(s1bq13/100)
 gen byte industry_2=1 if ind2>=1 & ind2<5
 replace industry_2=2 if ind2>=5 & ind2<10
 replace industry_2=3 if ind2>=10 & ind2<=33
 replace industry_2=4 if ind2>=35 & ind2<41
 replace industry_2=5 if ind2>=41 & ind2<45
 replace industry_2=6 if ind2>=45 & ind2<=47
 replace industry_2=6 if ind2==55 | ind2==56
 replace industry_2=7 if ind2>=49 & ind2<55
 replace industry_2=8 if ind2>=58 & ind2<=82
 replace industry_2=9 if ind2==84
 replace industry_2=10 if ind2>=85 & ind2<=99
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,industry_orig_2,
 gen industry_orig_2=s1bq13
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,int_month,
 gen int_month=month1
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,int_year,
 gen int_year=year1
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,internet,
 gen byte internet=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,lamp,
 gen lamp=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,lb_mod_age,
gen byte lb_mod_age=10
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=4
 gen byte literacy=.
 replace literacy=1 if s2aq01==1 & s2aq02==1
 replace literacy=0 if s2aq01==2 | s2aq02==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,lphone,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,lstatus,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,male,
 gen byte male=s1aq04
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,motorcar,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,motorcycle,
 gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,njobs,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,nlfreason,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,occup,"
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen occup_orig=s1bq04
 labmask occup_orig , val(s1bq04) lbl(lbloccup_orig) decode 
 replace occup_orig=. if lstatus!=1
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup<10 & ocup!=.
 replace occup=1 if ocup>=11 & ocup<20
 replace occup=2 if ocup>=21 & ocup<30
 replace occup=3 if ocup>=31 & ocup<40
 replace occup=4 if ocup>=41 & ocup<50
 replace occup=5 if ocup>=51 & ocup<60
 replace occup=6 if ocup>=61 & ocup<70
 replace occup=7 if ocup>=71 & ocup<80
 replace occup=8 if ocup>=81 & ocup<90
 replace occup=9 if ocup>=91 & ocup<99
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,ocusec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,ownhouse,
 gen byte ownhouse=1 if s5q02==1 | s5q02==2
 replace ownhouse=0 if s5q02>2 & s5q02<=5
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,piped_water,"
gen piped_water=.
replace piped_water=1 if s5q05==1
replace piped_water=0 if inlist(s5q05,2,3,4,5,6,7,8,9,10,11)"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,pline_nat,
 gen pline_nat=new_pline
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,poor_int,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,poor_nat,
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,pop_wgt,
 gen double wgt=weight
 gen byte hsize=hhsizeM
 gen pop_wgt=wgt*hsize
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,psu,
 *gen psu=psu
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,radio,
 *gen psu=psu
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,rbirth,
 gen byte rbirth=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,rbirth_juris,
 gen byte rbirth_juris=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,refrigerator,
 gen refrigerator= numdurrefrigerator701>0 & numdurrefrigerator701<.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,relationcs,
 gen byte relationcs=s1aq02
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,relationharm,
 gen int year=2013
 gen byte relationharm=s1aq02
 ge z=1 if s1aq02==1
 bys idh: egen y=sum(z)
 replace relationharm=1 if idc==51 & y==0
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,rprevious,
 gen byte rprevious=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,rprevious_juris,
 gen byte rprevious_juris=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,sar_improved_toilet,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,sar_improved_water,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)
gen sar_improved_water=.
 replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
 replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,sewage_toilet,
gen sewage_toilet=s5q14
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,sewingmachine,
gen sewage_toilet=s5q14
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,socialsec,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,spdef,
 gen spdef=psupind
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,strata,
 gen strata=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,subnatid1,
 gen byte subnatid1=province
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,subnatid2,
 gen byte subnatid2=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,subnatid3,
 gen byte subnatid3=.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,survey,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,television,
 gen television= numdurtv716>0 & numdurtv716<.
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,toilet_jmp,"
gen toilet_orig=s5q14
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,toilet_orig,
gen toilet_orig=s5q14
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,unempldur_l,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,unempldur_u,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,union,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,unitwage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,urban,
 gen byte urban=region
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,veralt,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,vermast,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,wage,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,water_jmp,"
gen water_jmp=.
replace water_jmp=1 if inlist(s5q05,1)
replace water_jmp=4 if inlist(s5q05,2,3)
replace water_jmp=6 if inlist(s5q05,4)
replace water_jmp=5 if inlist(s5q05,5,10)
replace water_jmp=12 if inlist(s5q05,6)
replace water_jmp=10 if inlist(s5q05,9)
replace water_jmp=13 if inlist(s5q05,8)
replace water_jmp=14 if inlist(s5q05,7,11)"
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,water_orig,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfare,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfaredef,
 gen byte hsize=hhsizeM
 gen welfaredef=texpend/hsize
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfarenat,
 gen welfarenat=peaexpM
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfarenom,
 gen byte hsize=hhsizeM
 gen welfarenom=nomexpend/hsize
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfareother,
 gen welfareother=peaexpM
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfareothertype,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfaretype,
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,welfshprosperity,
 gen byte hsize=hhsizeM
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,wgt,
 gen double wgt=weight
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,whours,
 replace age=98 if age>=98 & age!=.
gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,year,
 gen int year=2013
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2013_pslm_v01_m_v05_a_sarmd,PAK,2013,PSLM,v01,v05,yrmove,
 gen int yrmove=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,atschool,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 recode s2ac06 (1=1) (2 =0), gen(atschool)
 replace atschool=. if age<ed_mod_age & age!=."
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,bicycle,
 gen bicycle=.
 *gen bicycle= numdurbicycle713>0 & numdurbicycle713<.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,buffalo,
 gen buffalo=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,cellphone,"
 recode s3aq20c (1=1) (2=0), gen(cellphone)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,chicken,
 gen chicken=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,computer,
 gen byte computer=1 if s3aq20e==1 | s3aq20f==1
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,contract,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,countrycode,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,cow,
 gen cow=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,cpi,
 ren cpi`year'_w cpi
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,cpiperiod,
 gen cpiperiod=syear
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,ed_mod_age,
 gen byte ed_mod_age=10
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,educat4,"
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2ac05, s2ac07)
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,educat5,"
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2ac05, s2ac07)
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,educat7,"
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2ac05, s2ac07)
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,educy,
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,electricity,"
 recode s3aq05a (1 2=1) (3=0), gen(electricity)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,empstat,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,empstat_2,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 recode s2ac04 (1 =1) (2=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,fan,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 recode s2ac04 (1 =1) (2=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,firmsize_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,healthins,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,hsize,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,idh,"
 ren s7bc1 numlivestock
 reshape wide numlivestock, i( hhcode ) j( itc2 ) string
 reshape wide s6aq01, i( hhcode ) j(code)
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,idp,"
 ren s7bc1 numlivestock
 reshape wide numlivestock, i( hhcode ) j( itc2 ) string
 reshape wide s6aq01, i( hhcode ) j(code)
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,industry,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=10 & ind<=33
 replace industry=4 if ind>=35 & ind<41
 replace industry=5 if ind>=41 & ind<45
 replace industry=6 if ind>=45 & ind<=47
 replace industry=6 if ind==55 | ind==56
 replace industry=7 if ind>=49 & ind<55
 replace industry=8 if ind>=58 & ind<=82
 replace industry=9 if ind==84
 replace industry=10 if ind>=85 & ind<=99
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,industry_2,
 gen ind2=int(s1bq13/100)
 gen byte industry_2=1 if ind2>=1 & ind2<5
 replace industry_2=2 if ind2>=5 & ind2<10
 replace industry_2=3 if ind2>=10 & ind2<=33
 replace industry_2=4 if ind2>=35 & ind2<41
 replace industry_2=5 if ind2>=41 & ind2<45
 replace industry_2=6 if ind2>=45 & ind2<=47
 replace industry_2=6 if ind2==55 | ind2==56
 replace industry_2=7 if ind2>=49 & ind2<55
 replace industry_2=8 if ind2>=58 & ind2<=82
 replace industry_2=9 if ind2==84
 replace industry_2=10 if ind2>=85 & ind2<=99
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,industry_orig_2,
 gen industry_orig_2=s1bq13
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,int_month,
 gen int_month=enum_month
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,int_year,
 gen int_year=enum_year
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,internet,
 gen byte internet=1 if s3aq20a==1
 replace internet=0 if s3aq20a==2
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,lamp,
 gen lamp=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,lb_mod_age,
 gen byte lb_mod_age=10
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 gen byte literacy=.
 replace literacy=1 if s2ac01==1 & s2ac02==1
 replace literacy=0 if s2ac01==2 | s2ac02==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,lphone,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,lstatus,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,male,
 gen byte male=s1aq04
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,motorcar,
 gen motorcar=.
 *gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,motorcycle,
 gen motorcar=.
 *gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,njobs,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,nlfreason,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,occup,"
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen occup_orig=s1bq04
 labmask occup_orig , val(s1bq04) lbl(lbloccup_orig) decode 
 replace occup_orig=. if lstatus!=1
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup<10 & ocup!=.
 replace occup=1 if ocup>=11 & ocup<20
 replace occup=2 if ocup>=21 & ocup<30
 replace occup=3 if ocup>=31 & ocup<40
 replace occup=4 if ocup>=41 & ocup<50
 replace occup=5 if ocup>=51 & ocup<60
 replace occup=6 if ocup>=61 & ocup<70
 replace occup=7 if ocup>=71 & ocup<80
 replace occup=8 if ocup>=81 & ocup<90
 replace occup=9 if ocup>=91 & ocup<99
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,ocusec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,ownhouse,
 gen byte ownhouse=1 if s3aq02==1 | s3aq02==2
 replace ownhouse=0 if s3aq02>2 & s3aq02<=5
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,piped_water,"
 gen piped_water=.
 replace piped_water=1 if s3aq06==1
 replace piped_water=0 if inlist(s3aq06,2,3,4,5,6,7,8,9,10,11)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,pline_nat,
 cap ren npline new_pline
 gen pline_nat=new_pline
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,poor_int,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,poor_nat,
 cap ren npline new_pline
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,pop_wgt,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 gen double wgt=weights
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
 gen pop_wgt=wgt*hsize
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,psu,
 *gen psu=psu
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,radio,
 *gen psu=psu
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,rbirth,
 gen byte rbirth=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,rbirth_juris,
 gen byte rbirth_juris=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,refrigerator,
 gen refrigerator=.
 *gen refrigerator= numdurrefrigerator701>0 & numdurrefrigerator701<.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,relationcs,
 gen byte relationcs=s1aq02
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,relationharm,
 gen int year=2015
 gen byte relationharm=s1aq02
 ge z=1 if s1aq02==1
 bys idh: egen y=sum(z)
 replace relationharm=1 if idc==51 & y==0
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,rprevious,
 gen byte rprevious=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,rprevious_juris,
 gen byte rprevious_juris=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,sar_improved_toilet,"
 gen toilet_orig=s3aq15
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,sar_improved_water,"
 gen water_jmp=.
 replace water_jmp=1 if inlist(s3aq06,1)
 replace water_jmp=4 if inlist(s3aq06,2,3)
 replace water_jmp=6 if inlist(s3aq06,4)
 replace water_jmp=5 if inlist(s3aq06,5,10)
 replace water_jmp=12 if inlist(s3aq06,6)
 replace water_jmp=10 if inlist(s3aq06,9)
 replace water_jmp=13 if inlist(s3aq06,8)
 replace water_jmp=14 if inlist(s3aq06,7,11)
 gen sar_improved_water=.
  replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
  replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,sewage_toilet,
gen sewage_toilet=s3aq15
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,sewingmachine,
gen sewage_toilet=s3aq15
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,socialsec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,spdef,
 gen spdef=psupind
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,strata,
 gen strata=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,subnatid1,
 gen byte subnatid1=province
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,subnatid2,
 gen byte subnatid2=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,subnatid3,
 gen byte subnatid3=.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,survey,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,television,
 gen television=.
 *gen television= numdurtv716>0 & numdurtv716<.
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,toilet_jmp,"
 gen toilet_orig=s3aq15
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,toilet_orig,
 gen toilet_orig=s3aq15
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,unempldur_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,unempldur_u,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,union,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,unitwage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,urban,
 gen byte urban=region
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,veralt,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,vermast,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,wage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,water_jmp,"
 gen water_jmp=.
 replace water_jmp=1 if inlist(s3aq06,1)
 replace water_jmp=4 if inlist(s3aq06,2,3)
 replace water_jmp=6 if inlist(s3aq06,4)
 replace water_jmp=5 if inlist(s3aq06,5,10)
 replace water_jmp=12 if inlist(s3aq06,6)
 replace water_jmp=10 if inlist(s3aq06,9)
 replace water_jmp=13 if inlist(s3aq06,8)
 replace water_jmp=14 if inlist(s3aq06,7,11)"
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,water_orig,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfare,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfaredef,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfaredef=texpend/hsize
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfarenat,
 gen welfarenat=peaexpM
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfarenom,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenom=nomexpend/hsize
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfareother,
 gen welfareother=peaexpM
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfareothertype,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfaretype,
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,welfshprosperity,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,wgt,
 gen double wgt=weights
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,whours,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,year,
 gen int year=2015
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2015_pslm_v01_m_v01_a_sarmd,PAK,2015,PSLM,v01,v01,yrmove,
 gen int yrmove=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,age,
 replace age=98 if age>=98 & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,atschool,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 recode s2ac06 (1=1) (2 =0), gen(atschool)
 *replace atschool=. if age<ed_mod_age & age!=."
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,bicycle,
 gen bicycle=.
 *gen bicycle= numdurbicycle713>0 & numdurbicycle713<.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,buffalo,
 gen buffalo=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,cellphone,"
 recode s3aq20c (1=1) (2=0), gen(cellphone)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,chicken,
 gen chicken=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,computer,
 gen byte computer=1 if s3aq20e==1 | s3aq20f==1
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,contract,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte contract=.
 replace contract=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,countrycode,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,cow,
 gen cow=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,cpi,
 ren cpi`year'_w cpi
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,cpiperiod,
 gen cpiperiod=syear
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,ed_mod_age,
 gen byte ed_mod_age=10
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,educat4,"
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2ac05, s2ac07)
 replace educat7=. if age<ed_mod_age & age!=.
 gen byte educat4=.
 replace educat4=1 if educat7==1
 replace educat4=2 if educat7==2 | educat7==3
 replace educat4=3 if educat7==4 | educat7==5
 replace educat4=4 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat4=1  if everattend==0"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,educat5,"
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2ac05, s2ac07)
 replace educat7=. if age<ed_mod_age & age!=.
 gen educat5=.
 replace educat5=1 if educat7==1
 replace educat5=2 if educat7==2
 replace educat5=3 if educat7==3 | educat7==4
 replace educat5=4 if educat7==5
 replace educat5=5 if educat7==6 | educat7==7
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0
 replace educat5=1  if everattend==0"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,educat7,"
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 gen byte educat7=1 if educy==0
 replace educat7=2 if educy >0 & educy<8
 replace educat7=3 if educy==8
 replace educat7=4 if educy>8 & educy<12
 replace educat7=5 if educy==12
 replace educat7=7 if educy>12 & educy<=19
 replace educat7=. if educy==20
 replace educat7=8 if inlist(20,s2ac05, s2ac07)
 replace educat7=. if age<ed_mod_age & age!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
 replace educat7=1  if everattend==0"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,educy,
 gen educy2=s2ac07
 replace educy2=s2ac07-1 if educy1==.
 replace educy2=0 if educy2<0
 gen educy3=.
 replace educy3=educy1 if educy2==.
 replace educy3= educy2 if educy1==.
 ren educy3 educy
 replace educy=. if age<ed_mod_age & age!=.
 replace educy=. if age<educy & age!=. & educy!=.
 replace educy=0 if everattend==0
 replace educy=0  if everattend==0
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,electricity,"
 recode s3aq05a (1 2=1) (3=0), gen(electricity)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,empstat,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte empstat=1 if s1bq06==4
 replace empstat=2 if s1bq06==5
 replace empstat=3 if s1bq06==1 | s1bq06==2
 replace empstat=4 if s1bq06==3 | s1bq06>=6 & s1bq06<=9
 replace empstat=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,empstat_2,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
 gen byte empstat_2=.
 replace empstat_2=. if njobs==0 | njobs==.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,empstat_2_year,
 gen byte empstat_2_year=1 if s1bq14==4
 replace empstat_2_year=2 if s1bq14==5
 replace empstat_2_year=3 if s1bq14==1 | s1bq14==2
 replace empstat_2_year=4 if s1bq14==3 | s1bq14>=6 & s1bq14<=9
 replace empstat_2_year=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,everattend,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 recode s2ac04 (1 =1) (2=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,fan,"
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 recode s2ac04 (1 =1) (2=0), gen(everattend)
 replace everattend=. if age<ed_mod_age & age!=."
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,firmsize_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte firmsize_l=.
 replace firmsize_l=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,healthins,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte healthins=.
 replace healthins=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,hsize,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,idh,"
 ren s7bc1 numlivestock
 reshape wide numlivestock, i( hhcode ) j( itc2 ) string
 reshape wide s6aq01, i( hhcode ) j(code)
 gen double idh_=hhcode
 gen idh=string(idh_,""%16.0g"")"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,idp,"
 ren s7bc1 numlivestock
 reshape wide numlivestock, i( hhcode ) j( itc2 ) string
 reshape wide s6aq01, i( hhcode ) j(code)
 gen double idp_= hhcode*100+idc
 gen idp=string(idp_,""%16.0g"")"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,industry,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen ind=int(s1bq05/100)
 gen byte industry=1 if ind>=1 & ind<5
 replace industry=2 if ind>=5 & ind<10
 replace industry=3 if ind>=10 & ind<=33
 replace industry=4 if ind>=35 & ind<41
 replace industry=5 if ind>=41 & ind<45
 replace industry=6 if ind>=45 & ind<=47
 replace industry=6 if ind==55 | ind==56
 replace industry=7 if ind>=49 & ind<55
 replace industry=8 if ind>=58 & ind<=82
 replace industry=9 if ind==84
 replace industry=10 if ind>=85 & ind<=99
 replace industry=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,industry_2,
 gen ind2=int(s1bq13/100)
 gen byte industry_2=1 if ind2>=1 & ind2<5
 replace industry_2=2 if ind2>=5 & ind2<10
 replace industry_2=3 if ind2>=10 & ind2<=33
 replace industry_2=4 if ind2>=35 & ind2<41
 replace industry_2=5 if ind2>=41 & ind2<45
 replace industry_2=6 if ind2>=45 & ind2<=47
 replace industry_2=6 if ind2==55 | ind2==56
 replace industry_2=7 if ind2>=49 & ind2<55
 replace industry_2=8 if ind2>=58 & ind2<=82
 replace industry_2=9 if ind2==84
 replace industry_2=10 if ind2>=85 & ind2<=99
 replace industry_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,industry_orig_2,
 gen industry_orig_2=s1bq13
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,int_month,
 gen int_month=enum_month
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,int_year,
 gen int_year=enum_year
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,internet,
 gen byte internet=1 if s3aq20a==1
 replace internet=0 if s3aq20a==2
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,lamp,
 gen lamp=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,lb_mod_age,
 gen byte lb_mod_age=10
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,literacy,
 replace age=98 if age>=98 & age!=.
 gen byte ed_mod_age=10
 gen byte literacy=.
 replace literacy=1 if s2ac01==1 & s2ac02==1
 replace literacy=0 if s2ac01==2 | s2ac02==2
 replace literacy=. if age<ed_mod_age & age!=.
 replace literacy=. if age<10
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,lphone,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,lstatus,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,male,
 gen byte male=s1aq04
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,marital,
 gen byte marital=1 if s1aq07==2 | s1aq07==5
 replace marital=2 if s1aq07==1
 replace marital=4 if s1aq07==4
 replace marital=5 if s1aq07==3
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,motorcar,
 gen motorcar=.
 *gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,motorcycle,
 gen motorcar=.
 *gen motorcar= numdurcar___vehicle714>0 & numdurcar___vehicle714<.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,njobs,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte njobs=.
 replace njobs=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,nlfreason,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte nlfreason=.
 replace nlfreason=. if lstatus!=3
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,occup,"
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen occup_orig=s1bq04
 labmask occup_orig , val(s1bq04) lbl(lbloccup_orig) decode 
 replace occup_orig=. if lstatus!=1
 gen ocup=int(s1bq04/100)
 gen byte occup=.
 replace occup=10 if ocup<10 & ocup!=.
 replace occup=1 if ocup>=11 & ocup<20
 replace occup=2 if ocup>=21 & ocup<30
 replace occup=3 if ocup>=31 & ocup<40
 replace occup=4 if ocup>=41 & ocup<50
 replace occup=5 if ocup>=51 & ocup<60
 replace occup=6 if ocup>=61 & ocup<70
 replace occup=7 if ocup>=71 & ocup<80
 replace occup=8 if ocup>=81 & ocup<90
 replace occup=9 if ocup>=91 & ocup<99
 replace occup=. if s1bq04==343
 replace occup=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,ocusec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte ocusec=.
 replace ocusec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,ownhouse,
 gen byte ownhouse=1 if s3aq02==1 | s3aq02==2
 replace ownhouse=0 if s3aq02>2 & s3aq02<=5
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,piped_water,"
 gen piped_water=.
 replace piped_water=1 if s3aq06==1
 replace piped_water=0 if inlist(s3aq06,2,3,4,5,6,7,8,9,10,11)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,pline_int,
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,pline_nat,
 cap ren npline new_pline
 gen pline_nat=new_pline
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,poor_int,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 ren cpi`year'_w cpi
 ren ppp`year'  ppp
 gen pline_int=1.90*cpi*ppp*365/12
 gen poor_int=welfare<pline_int & welfare!=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,poor_nat,
 cap ren npline new_pline
 gen welfarenat=peaexpM
 gen pline_nat=new_pline
 gen poor_nat=welfarenat<pline_nat if welfarenat!=. & pline_nat!=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,pop_wgt,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 gen double wgt=weights
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
 gen pop_wgt=wgt*hsize
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,psu,
 *gen psu=psu
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,radio,
 *gen psu=psu
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,rbirth,
 gen byte rbirth=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,rbirth_juris,
 gen byte rbirth_juris=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,refrigerator,
 gen refrigerator=.
 *gen refrigerator= numdurrefrigerator701>0 & numdurrefrigerator701<.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,relationcs,
 gen byte relationcs=s1aq02
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,relationharm,
 gen int year=2015
 gen byte relationharm=s1aq02
 ge z=1 if s1aq02==1
 bys idh: egen y=sum(z)
 replace relationharm=1 if idc==51 & y==0
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,rprevious,
 gen byte rprevious=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,rprevious_juris,
 gen byte rprevious_juris=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,sar_improved_toilet,"
 gen toilet_orig=s3aq15
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)
gen sar_improved_toilet=.
replace sar_improved_toilet=1 if inlist(toilet_jmp,1,2,3,6,7,9)
replace sar_improved_toilet=0 if inlist(toilet_jmp,4,5,8,10,11,12,13)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,sar_improved_water,"
 gen water_jmp=.
 replace water_jmp=1 if inlist(s3aq06,1)
 replace water_jmp=4 if inlist(s3aq06,2,3)
 replace water_jmp=6 if inlist(s3aq06,4)
 replace water_jmp=5 if inlist(s3aq06,5,10)
 replace water_jmp=12 if inlist(s3aq06,6)
 replace water_jmp=10 if inlist(s3aq06,9)
 replace water_jmp=13 if inlist(s3aq06,8)
 replace water_jmp=14 if inlist(s3aq06,7,11)
 gen sar_improved_water=.
  replace sar_improved_water=1 if inlist(water_jmp,1,2,3,4,5,7,9)
  replace sar_improved_water=0 if inlist(water_jmp, 6,8,10,11,12,13,14)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,sewage_toilet,
gen sewage_toilet=s3aq15
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,sewingmachine,
gen sewage_toilet=s3aq15
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,soc,
 gen byte soc=.
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,socialsec,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte socialsec=.
 replace socialsec=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,spdef,
 gen spdef=psupind
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,strata,
 gen strata=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,subnatid1,
 gen byte subnatid1=province
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,subnatid2,
 gen byte subnatid2=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,subnatid3,
 gen byte subnatid3=.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,survey,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,television,
 gen television=.
 *gen television= numdurtv716>0 & numdurtv716<.
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,toilet_jmp,"
 gen toilet_orig=s3aq15
gen toilet_jmp=.
replace toilet_jmp=1 if toilet_orig==1
replace toilet_jmp=3 if toilet_orig==2
replace toilet_jmp=4 if toilet_orig==3
replace toilet_jmp=12 if toilet_orig==6
replace toilet_jmp=13 if inlist(toilet_orig,4,5)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,toilet_orig,
 gen toilet_orig=s3aq15
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,unempldur_l,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_l=.
 replace unempldur_l=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,unempldur_u,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unempldur_u=.
 replace unempldur_u=. if lstatus!=2
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,union,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte union=.
 replace union=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,unitwage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen byte unitwage=.
 replace unitwage=5 if s1bq08!=.
 replace unitwage=8 if s1bq10!=.
 replace unitwage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,unitwage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
 gen unitwage_2=8 if wage_2!=.
 replace unitwage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,urban,
 gen byte urban=region
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,veralt,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,vermast,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,wage,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen double wage=.
 replace wage=s1bq08 if s1bq08!=.
 replace wage=s1bq10 if s1bq10!=.
 replace wage=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,wage_2,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,washingmachine,
 gen wage_2=s1bq15
 replace wage_2=. if s1bq11!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,water_jmp,"
 gen water_jmp=.
 replace water_jmp=1 if inlist(s3aq06,1)
 replace water_jmp=4 if inlist(s3aq06,2,3)
 replace water_jmp=6 if inlist(s3aq06,4)
 replace water_jmp=5 if inlist(s3aq06,5,10)
 replace water_jmp=12 if inlist(s3aq06,6)
 replace water_jmp=10 if inlist(s3aq06,9)
 replace water_jmp=13 if inlist(s3aq06,8)
 replace water_jmp=14 if inlist(s3aq06,7,11)"
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,water_orig,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfare,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfaredef,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfaredef=texpend/hsize
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfarenat,
 gen welfarenat=peaexpM
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfarenom,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfarenom=nomexpend/hsize
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfareother,
 gen welfareother=peaexpM
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfareothertype,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfaretype,
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,welfshprosperity,
 drop province
 cap ren npline new_pline
 ren s7bc1 numlivestock
 foreach s in landholding{
 merge m:1 hhcode using ``s''
 drop if _merge==2
 drop _merge
 }
 *gen byte hsize=hhsizeM
 gen n=1 if s1aq02>=1 & s1aq02<=12
 bys hhcode: egen hsize=total(n)
 drop n
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 gen welfare=nomexpend/hsize
 gen welfshprosperity=welfare
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,wgt,
 gen double wgt=weights
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,whours,
 replace age=98 if age>=98 & age!=.
 gen byte lb_mod_age=10
 gen byte lstatus=1 if s1bq01==1 | s1bq03==1
 replace lstatus=2 if s1bq01==2 & s1bq03==2
 replace lstatus=3 if s1bq01==2 & s1bq03==3
 replace lstatus=. if age<lb_mod_age & age!=.
 gen whours=.
 replace whours=. if lstatus!=1
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,year,
 gen int year=2015
foreach var in lstatus lstatus_year empstat empstat_year njobs njobs_year ocusec nlfreason unempldur_l unempldur_u industry_orig industry occup_orig occup firmsize_l firmsize_u whours wage unitwage empstat_2 empstat_2_year industry_2 industry_orig_2 occup_2 wage_2 unitwage_2 contract healthins socialsec union{
replace `var'=. if age<lb_mod_age
}
 local year=2011
pak_2015_pslm_v01_m_v02_a_sarmd,PAK,2015,PSLM,v01,v02,yrmove,
 gen int yrmove=.
